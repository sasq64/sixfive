AS65 Assembler for R6502 [1.42].                                     Page    1
-------------------------- 6502_functional_test.a65 --------------------------

5309 lines read, no errors in pass 1.
                        ;
                        ; 6 5 0 2   F U N C T I O N A L   T E S T S
                        ;
                        ; Copyright (C) 2012  Klaus Dormann
                        ;
                        ; This program is free software: you can redistribute 
                        ; it under the terms of the GNU General Public License
                        ; the Free Software Foundation, either version 3 of th
                        ; (at your option) any later version.
                        ;
                        ; This program is distributed in the hope that it will
                        ; but WITHOUT ANY WARRANTY; without even the implied w
                        ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
                        ; GNU General Public License for more details.
                        ;
                        ; You should have received a copy of the GNU General P
                        ; along with this program.  If not, see <http://www.gn
                        
                        
                        ; This program is designed to test all opcodes of a 65
                        ; addressing modes with focus on proper setting of the
                        ; register bits.
                        ;
                        ; version 30-jul-2012
                        ; contact info at http://2m5.de or email K@2m5.de
                        ;
                        ; assembled with AS65 from http://www.kingswood-consul
                        ; command line switches: -l -m -s2 -w -h0
                        ;                         |  |  |   |  no page headers
                        ;                         |  |  |   wide listing (133 
                        ;                         |  |  write intel hex file i
                        ;                         |  expand macros in listing
                        ;                         generate pass2 listing
                        ;
                        ; No IO - should be run from a monitor with access to 
                        ; To run load intel hex image with a load command, tha
                        ; enter a go command.
                        ; Loop on program counter determines error or successf
                        ; Check listing for relevant traps (jump/branch *).
                        ; Please note that in early tests some instructions wi
                        ; they are actually tested!
                        ;
                        ; RESET, NMI or IRQ should not occur and will be trapp
                        ; Tests documented behavior of the original NMOS 6502 
                        ; opcodes. Additional opcodes of newer versions of the
                        ; not be tested. Decimal ops will only be tested with 
                        ; N V Z flags will be ignored.
                        ;
                        ; Debugging hints:
                        ;     Most of the code is written sequentially. if you
                        ;   immediately preceeding code for the instruction to
                        ;   tested first, flags are checked second by pushing 
                        ;   pulling them to the accumulator after the result w
                        ;   flags are no longer valid for the tested instructi
                        ;     If the tested instruction was indexed, the relev
                        ;   also be checked. Opposed to the flags, X and Y reg
                        ;
                        ; versions:
                        ;   28-jul-2012  1st version distributed for testing
                        ;   29-jul-2012  fixed references to location 0, now #
                        ;                added license - GPLv3
                        ;   30-jul-2012  added configuration options
                        
                        
                        ; C O N F I G U R A T I O N
                        ;
                        ;ROM_vectors writable (0=no, 1=yes)
                        ;if ROM vectors can not be used interrupts will not be
                        ;as a consequence BRK can not be tested but will be em
0001 =                  ROM_vectors = 1
                        ;load_data_direct (0=move from code segment, 1=load di
                        ;loading directly is preferred but may not be supporte
                        ;0 produces only consecutive object code, 1 is not sui
0001 =                  load_data_direct = 1
                        ;I_flag behavior (0=force enabled, 1=force disabled, 2
                        ;change) 2 requires extra code and is not recommended.
                        ;tested if you allow changing the interrupt status (I_
0001 =                  I_flag = 1
                        ;configure memory - try to stay away from memory used 
                        ;zero_page memory start address, $55 (85) consecutive 
                        ;                                add 2 if I_flag = 2
000a =                  zero_page = $a
                        ;data_segment memory start address, $5A (90) consecuti
0200 =                  data_segment = $200
                        ;code_segment memory start address, 12kB of consecutiv
                        ;                                   add 2.5 kB if I_fl
                        ;parts of the code are self modifying and must reside 
1000 =                  code_segment = $1000
                        
                        
                                if I_flag = 0
                        load_flag   macro       ;force enable interrupts
                                    lda #\1&$fb ;mask I-flag
                                    endm
                                endif
                                if I_flag = 1
                        load_flag   macro       ;force disable interrupts
                                    lda #\1|4
                                    endm
                                endif
                                if I_flag = 2
                        load_flag   macro       ;never change I-flag
                                    lda #\1
                                    ora flag_I_on
                                    and flag_I_off
                                    endm
                                endif
                                if I_flag = 3
                        load_flag   macro       ;allow test to change I-flag
                                    lda #\1
                                    endm
                                endif
                        
                        set_stat    macro       ;setting flags in the processo
                                    load_flag \1
                                    pha         ;use stack to load status
                                    plp
                                    endm
                        
                        set_a       macro       ;precharging accu & status
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda #\1     ;precharge accu
                                    plp
                                    endm
                        
                        set_x       macro       ;precharging index & status
                                    load_flag \2
                                    pha         ;use stack to load status
                                    ldx #\1     ;precharge accu
                                    plp
                                    endm
                        
                        set_y       macro       ;precharging index & status
                                    load_flag \2
                                    pha         ;use stack to load status
                                    ldy #\1     ;precharge accu
                                    plp
                                    endm
                        
                        set_ax      macro       ;precharging indexed accu & im
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda \1,x    ;precharge accu
                                    plp
                                    endm
                        
                        set_ay      macro       ;precharging indexed accu & im
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda \1,y    ;precharge accu
                                    plp
                                    endm
                        
                        set_z       macro       ;precharging indexed zp & imme
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda \1,x    ;load to zeropage
                                    sta zpt
                                    plp
                                    endm
                        
                        set_zx      macro       ;precharging zp,x & immediate 
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda \1,x    ;load to zeropage
                                    sta zpt,x
                                    plp
                                    endm
                        
                        set_abs     macro       ;precharging indexed memory & 
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda \1,x    ;load to memory
                                    sta abst
                                    plp
                                    endm
                        
                        set_absx    macro       ;precharging abs,x & immediate
                                    load_flag \2
                                    pha         ;use stack to load status
                                    lda \1,x    ;load to memory
                                    sta abst,x
                                    plp
                                    endm
                        
                                if I_flag = 0
                        cmp_flag    macro       ;I_flag is always enabled
                                    cmp #(\1|$30)&$fb
                                    endm
                        eor_flag    macro       ;invert expected on flags, mas
                                    eor #(\1&$fb|$30)
                                    endm
                                endif
                                if I_flag = 1
                        cmp_flag    macro       ;I_flag is always disabled
                                    cmp #(\1|$34)&$ff
                                    endm
                        eor_flag    macro       ;invert expected on flags
                                    eor #(\1|$34)
                                    endm
                                endif
                                if I_flag = 2
                        cmp_flag    macro       ;I_flag is never changed
                                    eor flag_I_on
                                    cmp #(\1|$30)&$fb
                                    endm
                        eor_flag    macro       ;invert expected on flags
                                    eor flag_I_on
                                    eor #(\1&$fb|$30)
                                    endm
                                endif
                                if I_flag = 3
                        cmp_flag    macro       ;I_flag is always enabled
                                    cmp #(\1|$30)&$ff
                                    endm
                        eor_flag    macro       ;invert expected on flags
                                    eor #(\1|$30)
                                    endm
                                endif
                        
                        tst_stat    macro       ;testing flags in the processo
                                    php         ;save status
                                    php         ;use stack to retrieve status
                                    pla
                                    cmp_flag \1
                                    bne *       ;trap
                                    plp         ;restore status
                                    endm
                        
                        tst_a       macro       ;testing result in accu & flag
                                    php         ;save flags
                                    php
                                    cmp #\1     ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    cmp_flag \2
                                    bne *       ;trap
                                    plp         ;restore status
                                    endm
                        
                        tst_x       macro       ;testing result in x index & f
                                    php         ;save flags
                                    php
                                    cpx #\1     ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    cmp_flag \2
                                    bne *       ;trap
                                    plp         ;restore status
                                    endm
                        
                        tst_y       macro       ;testing result in y index & f
                                    php         ;save flags
                                    php
                                    cpy #\1     ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    cmp_flag \2
                                    bne *       ;trap
                                    plp         ;restore status
                                    endm
                        
                        tst_ax      macro       ;indexed testing result in acc
                                    php         ;save flags
                                    cmp \1,x    ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    eor_flag \3
                                    cmp \2,x    ;test flags
                                    bne *       ;trap
                                    endm
                        
                        tst_ay      macro       ;indexed testing result in acc
                                    php         ;save flags
                                    cmp \1,y    ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    eor_flag \3
                                    cmp \2,y    ;test flags
                                    bne *       ;trap
                                    endm
                        
                        tst_z       macro       ;indexed testing result in zp 
                                    php         ;save flags
                                    lda zpt
                                    cmp \1,x    ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    eor_flag \3
                                    cmp \2,x    ;test flags
                                    bne *       ;trap
                                    endm
                        
                        tst_zx      macro       ;testing result in zp,x & flag
                                    php         ;save flags
                                    lda zpt,x
                                    cmp \1,x    ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    eor_flag \3
                                    cmp \2,x    ;test flags
                                    bne *       ;trap
                                    endm
                        
                        tst_abs     macro       ;indexed testing result in mem
                                    php         ;save flags
                                    lda abst
                                    cmp \1,x    ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    eor_flag \3
                                    cmp \2,x    ;test flags
                                    bne *       ;trap
                                    endm
                        
                        tst_absx    macro       ;testing result in abs,x & fla
                                    php         ;save flags
                                    lda abst,x
                                    cmp \1,x    ;test result
                                    bne *       ;trap
                                    pla         ;load status
                                    eor_flag \3
                                    cmp \2,x    ;test flags
                                    bne *       ;trap
                                    endm
                        
0001 =                  carry   equ %00000001   ;flag bits in status
0002 =                  zero    equ %00000010
0004 =                  intdis  equ %00000100
0008 =                  decmode equ %00001000
0010 =                  break   equ %00010000
0020 =                  reserv  equ %00100000
0040 =                  overfl  equ %01000000
0080 =                  minus   equ %10000000
                        
0001 =                  fc      equ carry
0002 =                  fz      equ zero
0003 =                  fzc     equ carry+zero
0040 =                  fv      equ overfl
0042 =                  fvz     equ overfl+zero
0080 =                  fn      equ minus
0081 =                  fnc     equ minus+carry
0082 =                  fnz     equ minus+zero
0083 =                  fnzc    equ minus+zero+carry
00c0 =                  fnv     equ minus+overfl
                        
                        
                            if load_data_direct = 1
                                data
                            else
                                bss                 ;uninitialized segment, co
                            endif
0000 =                  		org 0
0000 : 00               		db 0
000a =                          org zero_page
000a :                  zp_bss
000a : c3824100         zp1     db  $c3,$82,$41,0   ;test patterns for LDx BIT
000e : 7f               zp7f    db  $7f             ;test pattern for compare
000f : 0000000000       zpt     ds  5               ;store/modify test area
                        ;logical zeropage operands
0014 : 001f7180         zpOR    db  0,$1f,$71,$80   ;test pattern for OR
0018 : 0fff7f80         zpAN    db  $0f,$ff,$7f,$80 ;test pattern for AND
001c : ff0f8f8f         zpEO    db  $ff,$0f,$8f,$8f ;test pattern for EOR
                        ;indirect addressing pointers
0020 : 0002             ind1    dw  abs1            ;indirect pointer to patte
0022 : 0102                     dw  abs1+1
0024 : 0202                     dw  abs1+2
0026 : 0302                     dw  abs1+3
0028 : 0402                     dw  abs7f
002a : 0801             inw1    dw  abs1-$f8        ;indirect pointer for wrap
002c : 3302             indt    dw  abst            ;indirect pointer to store
002e : 3402                     dw  abst+1
0030 : 3502                     dw  abst+2
0032 : 3602                     dw  abst+3
0034 : 3b01             inwt    dw  abst-$f8        ;indirect pointer for wrap
0036 : 3c02             indAN   dw  absAN           ;indirect pointer to AND p
0038 : 3d02                     dw  absAN+1
003a : 3e02                     dw  absAN+2
003c : 3f02                     dw  absAN+3
003e : 4002             indEO   dw  absEO           ;indirect pointer to EOR p
0040 : 4102                     dw  absEO+1
0042 : 4202                     dw  absEO+2
0044 : 4302                     dw  absEO+3
0046 : 3802             indOR   dw  absOR           ;indirect pointer to OR pa
0048 : 3902                     dw  absOR+1
004a : 3a02                     dw  absOR+2
004c : 3b02                     dw  absOR+3
                        ;add/subtract operand generation and result/flag predi
004e : 5802             adi2    dw  ada2            ;indirect pointer to opera
0050 : 5902             sbi2    dw  sba2            ;indirect pointer to compl
0052 : 5901             adiy2   dw  ada2-$ff        ;with offset for indirect 
0054 : 5a01             sbiy2   dw  sba2-$ff
0056 :                  zp_bss_end
0056 : 00               adfc    ds  1               ;carry flag before op
0057 : 00               ad1     ds  1               ;operand 1 - accumulator
0058 : 00               ad2     ds  1               ;operand 2 - memory / imme
0059 : 00               adrl    ds  1               ;expected result bits 0-7
005a : 00               adrh    ds  1               ;expected result bit 8 (ca
005b : 00               adrf    ds  1               ;expected flags NV0000ZC (
005c : 00               sb2     ds  1               ;operand 2 complemented fo
                        ;break test interrupt save
005d : 00               irq_a   ds  1               ;a register
005e : 00               irq_x   ds  1               ;x register
                            if I_flag = 2
                        ;masking for I bit in status
                        flag_I_on   ds  1           ;or mask to load flags
                        flag_I_off  ds  1           ;and mask to load flags
                            endif
                        
0200 =                          org data_segment
0200 :                  data_bss
0200 : c3824100         abs1    db  $c3,$82,$41,0   ;test patterns for LDx BIT
0204 : 7f               abs7f   db  $7f             ;test pattern for compare
                        ;loads
0205 : 80800002         fLDx    db  fn,fn,0,fz      ;expected flags for load
                        ;shifts
0209 :                  rASL                        ;expected result ASL & ROL
0209 : 86048200         rROL    db  $86,$04,$82,0   ; "
020d : 87058301         rROLc   db  $87,$05,$83,1   ;expected result ROL +carr
0211 :                  rLSR                        ;expected result LSR & ROR
0211 : 61412000         rROR    db  $61,$41,$20,0   ; "
0215 : e1c1a080         rRORc   db  $e1,$c1,$a0,$80 ;expected result ROR +carr
0219 :                  fASL                        ;expected flags for shifts
0219 : 81018002         fROL    db  fnc,fc,fn,fz    ;no carry in
021d : 81018000         fROLc   db  fnc,fc,fn,0     ;carry in
0221 :                  fLSR
0221 : 01000102         fROR    db  fc,0,fc,fz      ;no carry in
0225 : 81808180         fRORc   db  fnc,fn,fnc,fn   ;carry in
                        ;increments (decrements)
0229 : 7f80ff0001       rINC    db  $7f,$80,$ff,0,1 ;expected result for INC/D
022e : 0080800200       fINC    db  0,fn,fn,fz,0    ;expected flags for INC/DE
0233 : 0000000000       abst    ds  5               ;store/modify test area
                        ;logical memory operand
0238 : 001f7180         absOR   db  0,$1f,$71,$80   ;test pattern for OR
023c : 0fff7f80         absAN   db  $0f,$ff,$7f,$80 ;test pattern for AND
0240 : ff0f8f8f         absEO   db  $ff,$0f,$8f,$8f ;test pattern for EOR
                        ;logical accu operand
0244 : 00f11f00         absORa  db  0,$f1,$1f,0     ;test pattern for OR
0248 : f0ffffff         absANa  db  $f0,$ff,$ff,$ff ;test pattern for AND
024c : fff0f00f         absEOa  db  $ff,$f0,$f0,$0f ;test pattern for EOR
                        ;logical results
0250 : 00ff7f80         absrlo  db  0,$ff,$7f,$80
0254 : 02800080         absflo  db  fz,fn,0,fn
0258 :                  data_bss_end
                        ;add/subtract operand copy
0258 : 00               ada2    ds  1               ;operand 2
0259 : 00               sba2    ds  1               ;operand 2 complemented fo
                        
                                code
1000 =                          org code_segment
1000 : d8                       cld
                        
                        ;stop interrupts before initializing BSS
                            if I_flag = 1
1001 : 78                       sei
                            endif
                        
                        ;initialize BSS segment
                            if load_data_direct != 1
                                ldx #zp_end-zp_init-1
                        ld_zp   lda zp_init,x
                                sta zp_bss,x
                                dex
                                bpl ld_zp
                                ldx #data_end-data_init-1
                        ld_data lda data_init,x
                                sta data_bss,x
                                dex
                                bpl ld_data
                            endif
                        
                        ;retain status of interrupt flag
                            if I_flag = 2
                                php
                                pla
                                and #4          ;isolate flag
                                sta flag_I_on   ;or mask
                                eor #lo(~4)     ;reverse
                                sta flag_I_off  ;and mask
                            endif
                        
                        ;testing relative addressing with BEQ
                        ;uses untested JMP DEX DEY LDA#0 LDY#$FE TYA TAX STA B
1002 : a0fe                     ldy #$fe        ;testing maximum range, not -1
1004 :                  range_loop
1004 : 88                       dey             ;next relative address
1005 : 98                       tya
1006 : aa                       tax             ;precharge count to end of loo
1007 : 1003                     bpl range_fw    ;calculate relative address
1009 : 18                       clc             ;avoid branch self or to relat
100a : 6902                     adc #2
100c :                  range_fw
100c : 497f                     eor #$7f        ;complement except sign
100e : 8d9510                   sta range_adr   ;load into test target
1011 : a900                     lda #0          ;should set zero flag in statu
1013 : 4c9410                   jmp range_op
                        
                                ;relative address target field with branch und
1016 : ca                       dex             ;-128 - max backward
1017 : ca                       dex
1018 : ca                       dex
1019 : ca                       dex
101a : ca                       dex
101b : ca                       dex
101c : ca                       dex
101d : ca                       dex
101e : ca                       dex             ;-120
101f : ca                       dex
1020 : ca                       dex
1021 : ca                       dex
1022 : ca                       dex
1023 : ca                       dex
1024 : ca                       dex
1025 : ca                       dex
1026 : ca                       dex
1027 : ca                       dex
1028 : ca                       dex             ;-110
1029 : ca                       dex
102a : ca                       dex
102b : ca                       dex
102c : ca                       dex
102d : ca                       dex
102e : ca                       dex
102f : ca                       dex
1030 : ca                       dex
1031 : ca                       dex
1032 : ca                       dex             ;-100
1033 : ca                       dex
1034 : ca                       dex
1035 : ca                       dex
1036 : ca                       dex
1037 : ca                       dex
1038 : ca                       dex
1039 : ca                       dex
103a : ca                       dex
103b : ca                       dex
103c : ca                       dex             ;-90
103d : ca                       dex
103e : ca                       dex
103f : ca                       dex
1040 : ca                       dex
1041 : ca                       dex
1042 : ca                       dex
1043 : ca                       dex
1044 : ca                       dex
1045 : ca                       dex
1046 : ca                       dex             ;-80
1047 : ca                       dex
1048 : ca                       dex
1049 : ca                       dex
104a : ca                       dex
104b : ca                       dex
104c : ca                       dex
104d : ca                       dex
104e : ca                       dex
104f : ca                       dex
1050 : ca                       dex             ;-70
1051 : ca                       dex
1052 : ca                       dex
1053 : ca                       dex
1054 : ca                       dex
1055 : ca                       dex
1056 : ca                       dex
1057 : ca                       dex
1058 : ca                       dex
1059 : ca                       dex
105a : ca                       dex             ;-60
105b : ca                       dex
105c : ca                       dex
105d : ca                       dex
105e : ca                       dex
105f : ca                       dex
1060 : ca                       dex
1061 : ca                       dex
1062 : ca                       dex
1063 : ca                       dex
1064 : ca                       dex             ;-50
1065 : ca                       dex
1066 : ca                       dex
1067 : ca                       dex
1068 : ca                       dex
1069 : ca                       dex
106a : ca                       dex
106b : ca                       dex
106c : ca                       dex
106d : ca                       dex
106e : ca                       dex             ;-40
106f : ca                       dex
1070 : ca                       dex
1071 : ca                       dex
1072 : ca                       dex
1073 : ca                       dex
1074 : ca                       dex
1075 : ca                       dex
1076 : ca                       dex
1077 : ca                       dex
1078 : ca                       dex             ;-30
1079 : ca                       dex
107a : ca                       dex
107b : ca                       dex
107c : ca                       dex
107d : ca                       dex
107e : ca                       dex
107f : ca                       dex
1080 : ca                       dex
1081 : ca                       dex
1082 : ca                       dex             ;-20
1083 : ca                       dex
1084 : ca                       dex
1085 : ca                       dex
1086 : ca                       dex
1087 : ca                       dex
1088 : ca                       dex
1089 : ca                       dex
108a : ca                       dex
108b : ca                       dex
108c : ca                       dex             ;-10
108d : ca                       dex
108e : ca                       dex
108f : ca                       dex
1090 : ca                       dex
1091 : ca                       dex
1092 : ca                       dex
1093 : ca                       dex             ;-3
1094 :                  range_op                ;test target with zero flag=0,
1095 =                  range_adr   = *+1       ;modifiable relative address
1094 : f0fe                     beq *           ;trap, if called without modif
1096 : ca                       dex             ;+0
1097 : ca                       dex
1098 : ca                       dex
1099 : ca                       dex
109a : ca                       dex
109b : ca                       dex
109c : ca                       dex
109d : ca                       dex
109e : ca                       dex
109f : ca                       dex
10a0 : ca                       dex             ;+10
10a1 : ca                       dex
10a2 : ca                       dex
10a3 : ca                       dex
10a4 : ca                       dex
10a5 : ca                       dex
10a6 : ca                       dex
10a7 : ca                       dex
10a8 : ca                       dex
10a9 : ca                       dex
10aa : ca                       dex             ;+20
10ab : ca                       dex
10ac : ca                       dex
10ad : ca                       dex
10ae : ca                       dex
10af : ca                       dex
10b0 : ca                       dex
10b1 : ca                       dex
10b2 : ca                       dex
10b3 : ca                       dex
10b4 : ca                       dex             ;+30
10b5 : ca                       dex
10b6 : ca                       dex
10b7 : ca                       dex
10b8 : ca                       dex
10b9 : ca                       dex
10ba : ca                       dex
10bb : ca                       dex
10bc : ca                       dex
10bd : ca                       dex
10be : ca                       dex             ;+40
10bf : ca                       dex
10c0 : ca                       dex
10c1 : ca                       dex
10c2 : ca                       dex
10c3 : ca                       dex
10c4 : ca                       dex
10c5 : ca                       dex
10c6 : ca                       dex
10c7 : ca                       dex
10c8 : ca                       dex             ;+50
10c9 : ca                       dex
10ca : ca                       dex
10cb : ca                       dex
10cc : ca                       dex
10cd : ca                       dex
10ce : ca                       dex
10cf : ca                       dex
10d0 : ca                       dex
10d1 : ca                       dex
10d2 : ca                       dex             ;+60
10d3 : ca                       dex
10d4 : ca                       dex
10d5 : ca                       dex
10d6 : ca                       dex
10d7 : ca                       dex
10d8 : ca                       dex
10d9 : ca                       dex
10da : ca                       dex
10db : ca                       dex
10dc : ca                       dex             ;+70
10dd : ca                       dex
10de : ca                       dex
10df : ca                       dex
10e0 : ca                       dex
10e1 : ca                       dex
10e2 : ca                       dex
10e3 : ca                       dex
10e4 : ca                       dex
10e5 : ca                       dex
10e6 : ca                       dex             ;+80
10e7 : ca                       dex
10e8 : ca                       dex
10e9 : ca                       dex
10ea : ca                       dex
10eb : ca                       dex
10ec : ca                       dex
10ed : ca                       dex
10ee : ca                       dex
10ef : ca                       dex
10f0 : ca                       dex             ;+90
10f1 : ca                       dex
10f2 : ca                       dex
10f3 : ca                       dex
10f4 : ca                       dex
10f5 : ca                       dex
10f6 : ca                       dex
10f7 : ca                       dex
10f8 : ca                       dex
10f9 : ca                       dex
10fa : ca                       dex             ;+100
10fb : ca                       dex
10fc : ca                       dex
10fd : ca                       dex
10fe : ca                       dex
10ff : ca                       dex
1100 : ca                       dex
1101 : ca                       dex
1102 : ca                       dex
1103 : ca                       dex
1104 : ca                       dex             ;+110
1105 : ca                       dex
1106 : ca                       dex
1107 : ca                       dex
1108 : ca                       dex
1109 : ca                       dex
110a : ca                       dex
110b : ca                       dex
110c : ca                       dex
110d : ca                       dex
110e : ca                       dex             ;+120
110f : ca                       dex
1110 : ca                       dex
1111 : ca                       dex
1112 : ca                       dex
1113 : ca                       dex
1114 : ca                       dex
1115 : f003                     beq range_ok    ;+127 - max forward
1117 : 4c1711                   jmp *           ;trap bad range
111a :                  range_ok
111a : c000                     cpy #0
111c : f003                     beq range_end
111e : 4c0410                   jmp range_loop
1121 :                  range_end               ;range test successful
                        
                        ;partial test BNE & CMP, CPX, CPY immediate
1121 : c001                     cpy #1          ;testing BNE true
1123 : d003                     bne test_bne
1125 : 4c2511                   jmp *
1128 :                  test_bne
1128 : a900                     lda #0
112a : c900                     cmp #0          ;test compare immediate
112c : d0fe                     bne *
112e : 90fe                     bcc *
1130 : 30fe                     bmi *
1132 : c901                     cmp #1
1134 : f0fe                     beq *
1136 : b0fe                     bcs *
1138 : 10fe                     bpl *
113a : aa                       tax
113b : e000                     cpx #0          ;test compare x immediate
113d : d0fe                     bne *
113f : 90fe                     bcc *
1141 : 30fe                     bmi *
1143 : e001                     cpx #1
1145 : f0fe                     beq *
1147 : b0fe                     bcs *
1149 : 10fe                     bpl *
114b : a8                       tay
114c : c000                     cpy #0          ;test compare y immediate
114e : d0fe                     bne *
1150 : 90fe                     bcc *
1152 : 30fe                     bmi *
1154 : c001                     cpy #1
1156 : f0fe                     beq *
1158 : b0fe                     bcs *
115a : 10fe                     bpl *
                        ;testing stack operations PHA PHP PLA PLP
                        ;testing branch decisions BPL BMI BVC BVS BCC BCS BNE 
                        
115c : a2ff                     ldx #$ff        ;initialize stack
115e : 9a                       txs
115f : a955                     lda #$55
1161 : 48                       pha
1162 : a9aa                     lda #$aa
1164 : 48                       pha
1165 : cdfe01                   cmp $1fe        ;on stack ?
1168 : d0fe                     bne *
116a : ba                       tsx
116b : 8a                       txa             ;overwrite accu
116c : c9fd                     cmp #$fd        ;sp decremented?
116e : d0fe                     bne *
1170 : 68                       pla
1171 : c9aa                     cmp #$aa        ;successful retreived from sta
1173 : d0fe                     bne *
1175 : 68                       pla
1176 : c955                     cmp #$55
1178 : d0fe                     bne *
117a : cdff01                   cmp $1ff        ;remains on stack?
117d : d0fe                     bne *
117f : ba                       tsx
1180 : e0ff                     cpx #$ff        ;sp incremented?
1182 : d0fe                     bne *
                                set_stat $ff    ;all on
                       >            load_flag $ff    
1184 : a9ff            >            lda #$ff    |4
                       >
1186 : 48              >            pha         ;use stack to load status
1187 : 28              >            plp
                        
1188 : 10fe                     bpl *           ;branches should not be taken
118a : 50fe                     bvc *
118c : 90fe                     bcc *
118e : d0fe                     bne *
1190 : 3003                     bmi br1          ;branches should be taken
1192 : 4c9211                   jmp *
1195 : 7003             br1     bvs br2
1197 : 4c9711                   jmp *
119a : b003             br2     bcs br3
119c : 4c9c11                   jmp *
119f : f003             br3     beq br4
11a1 : 4ca111                   jmp *
11a4 : 08               br4     php
11a5 : ba                       tsx
11a6 : e0fe                     cpx #$fe        ;sp after php?
11a8 : d0fe                     bne *
11aa : 68                       pla
                                cmp_flag $ff        ;returned all flags on?
11ab : c9ff            >            cmp #($ff        |$34)&$ff
                        
11ad : d0fe                     bne *
11af : ba                       tsx
11b0 : e0ff                     cpx #$ff        ;sp after php?
11b2 : d0fe                     bne *
                                set_stat 0      ;all off
                       >            load_flag 0      
11b4 : a904            >            lda #0      |4
                       >
11b6 : 48              >            pha         ;use stack to load status
11b7 : 28              >            plp
                        
11b8 : 30fe                     bmi *           ;branches should not be taken
11ba : 70fe                     bvs *
11bc : b0fe                     bcs *
11be : f0fe                     beq *
11c0 : 1003                     bpl br11        ;branches should be taken
11c2 : 4cc211                   jmp *
11c5 : 5003             br11    bvc br12
11c7 : 4cc711                   jmp *
11ca : 9003             br12    bcc br13
11cc : 4ccc11                   jmp *
11cf : d003             br13    bne br14
11d1 : 4cd111                   jmp *
11d4 : 08               br14    php
11d5 : 68                       pla
                                cmp_flag 0      ;flags off except break (pushe
11d6 : c934            >            cmp #(0      |$34)&$ff
                        
11d8 : d0fe                     bne *
                                ;crosscheck flags
                                set_stat carry
                       >            load_flag carry
11da : a905            >            lda #carry|4
                       >
11dc : 48              >            pha         ;use stack to load status
11dd : 28              >            plp
                        
11de : 90fe                     bcc *
                                set_stat zero
                       >            load_flag zero
11e0 : a906            >            lda #zero|4
                       >
11e2 : 48              >            pha         ;use stack to load status
11e3 : 28              >            plp
                        
11e4 : d0fe                     bne *
                                set_stat overfl
                       >            load_flag overfl
11e6 : a944            >            lda #overfl|4
                       >
11e8 : 48              >            pha         ;use stack to load status
11e9 : 28              >            plp
                        
11ea : 50fe                     bvc *
                                set_stat minus
                       >            load_flag minus
11ec : a984            >            lda #minus|4
                       >
11ee : 48              >            pha         ;use stack to load status
11ef : 28              >            plp
                        
11f0 : 10fe                     bpl *
                                set_stat $ff-carry
                       >            load_flag $ff-carry
11f2 : a9fe            >            lda #$ff-carry|4
                       >
11f4 : 48              >            pha         ;use stack to load status
11f5 : 28              >            plp
                        
11f6 : b0fe                     bcs *
                                set_stat $ff-zero
                       >            load_flag $ff-zero
11f8 : a9fd            >            lda #$ff-zero|4
                       >
11fa : 48              >            pha         ;use stack to load status
11fb : 28              >            plp
                        
11fc : f0fe                     beq *
                                set_stat $ff-overfl
                       >            load_flag $ff-overfl
11fe : a9bf            >            lda #$ff-overfl|4
                       >
1200 : 48              >            pha         ;use stack to load status
1201 : 28              >            plp
                        
1202 : 70fe                     bvs *
                                set_stat $ff-minus
                       >            load_flag $ff-minus
1204 : a97f            >            lda #$ff-minus|4
                       >
1206 : 48              >            pha         ;use stack to load status
1207 : 28              >            plp
                        
1208 : 30fe                     bmi *
                        
                        ; partial pretest EOR #
                                set_a $3c,0
                       >            load_flag 0
120a : a904            >            lda #0|4
                       >
120c : 48              >            pha         ;use stack to load status
120d : a93c            >            lda #$3c     ;precharge accu
120f : 28              >            plp
                        
1210 : 49c3                     eor #$c3
                                tst_a $ff,fn
1212 : 08              >            php         ;save flags
1213 : 08              >            php
1214 : c9ff            >            cmp #$ff     ;test result
1216 : d0fe            >            bne *       ;trap
1218 : 68              >            pla         ;load status
                       >            cmp_flag fn
1219 : c9b4            >            cmp #(fn|$34)&$ff
                       >
121b : d0fe            >            bne *       ;trap
121d : 28              >            plp         ;restore status
                        
                                set_a $c3,0
                       >            load_flag 0
121e : a904            >            lda #0|4
                       >
1220 : 48              >            pha         ;use stack to load status
1221 : a9c3            >            lda #$c3     ;precharge accu
1223 : 28              >            plp
                        
1224 : 49c3                     eor #$c3
                                tst_a 0,fz
1226 : 08              >            php         ;save flags
1227 : 08              >            php
1228 : c900            >            cmp #0     ;test result
122a : d0fe            >            bne *       ;trap
122c : 68              >            pla         ;load status
                       >            cmp_flag fz
122d : c936            >            cmp #(fz|$34)&$ff
                       >
122f : d0fe            >            bne *       ;trap
1231 : 28              >            plp         ;restore status
                        
                        
                        ; PC modifying instructions except branches (NOP, JMP,
                        ; testing NOP
1232 : a224                     ldx #$24
1234 : a042                     ldy #$42
                                set_a $18,0
                       >            load_flag 0
1236 : a904            >            lda #0|4
                       >
1238 : 48              >            pha         ;use stack to load status
1239 : a918            >            lda #$18     ;precharge accu
123b : 28              >            plp
                        
123c : ea                       nop
                                tst_a $18,0
123d : 08              >            php         ;save flags
123e : 08              >            php
123f : c918            >            cmp #$18     ;test result
1241 : d0fe            >            bne *       ;trap
1243 : 68              >            pla         ;load status
                       >            cmp_flag 0
1244 : c934            >            cmp #(0|$34)&$ff
                       >
1246 : d0fe            >            bne *       ;trap
1248 : 28              >            plp         ;restore status
                        
1249 : e024                     cpx #$24
124b : d0fe                     bne *
124d : c042                     cpy #$42
124f : d0fe                     bne *
1251 : a2db                     ldx #$db
1253 : a0bd                     ldy #$bd
                                set_a $e7,$ff
                       >            load_flag $ff
1255 : a9ff            >            lda #$ff|4
                       >
1257 : 48              >            pha         ;use stack to load status
1258 : a9e7            >            lda #$e7     ;precharge accu
125a : 28              >            plp
                        
125b : ea                       nop
                                tst_a $e7,$ff
125c : 08              >            php         ;save flags
125d : 08              >            php
125e : c9e7            >            cmp #$e7     ;test result
1260 : d0fe            >            bne *       ;trap
1262 : 68              >            pla         ;load status
                       >            cmp_flag $ff
1263 : c9ff            >            cmp #($ff|$34)&$ff
                       >
1265 : d0fe            >            bne *       ;trap
1267 : 28              >            plp         ;restore status
                        
1268 : e0db                     cpx #$db
126a : d0fe                     bne *
126c : c0bd                     cpy #$bd
126e : d0fe                     bne *
                        
                        ; jump absolute
                                set_stat $0
                       >            load_flag $0
1270 : a904            >            lda #$0|4
                       >
1272 : 48              >            pha         ;use stack to load status
1273 : 28              >            plp
                        
1274 : a946                     lda #'F'
1276 : a241                     ldx #'A'
1278 : a052                     ldy #'R'        ;N=0, V=0, Z=0, C=0
127a : 4c773d                   jmp test_far
127d : ea                       nop
127e : ea                       nop
127f : d0fe                     bne *           ;runover protection
1281 : e8                       inx
1282 : e8                       inx
1283 : f0fe             far_ret beq *           ;returned flags OK?
1285 : 10fe                     bpl *
1287 : 90fe                     bcc *
1289 : 50fe                     bvc *
128b : c9ec                     cmp #('F'^$aa)  ;returned registers OK?
128d : d0fe                     bne *
128f : e042                     cpx #('A'+1)
1291 : d0fe                     bne *
1293 : c04f                     cpy #('R'-3)
1295 : d0fe                     bne *
1297 : ca                       dex
1298 : c8                       iny
1299 : c8                       iny
129a : c8                       iny
129b : 49aa                     eor #$aa        ;N=0, V=1, Z=0, C=1
129d : 4ca612                   jmp test_near
12a0 : ea                       nop
12a1 : ea                       nop
12a2 : d0fe                     bne *           ;runover protection
12a4 : e8                       inx
12a5 : e8                       inx
12a6 :                  test_near
12a6 : f0fe                     beq *           ;passed flags OK?
12a8 : 30fe                     bmi *
12aa : 90fe                     bcc *
12ac : 50fe                     bvc *
12ae : c946                     cmp #'F'        ;passed registers OK?
12b0 : d0fe                     bne *
12b2 : e041                     cpx #'A'
12b4 : d0fe                     bne *
12b6 : c052                     cpy #'R'
12b8 : d0fe                     bne *
                        
                        ; jump indirect
                                set_stat 0
                       >            load_flag 0
12ba : a904            >            lda #0|4
                       >
12bc : 48              >            pha         ;use stack to load status
12bd : 28              >            plp
                        
12be : a949                     lda #'I'
12c0 : a24e                     ldx #'N'
12c2 : a044                     ldy #'D'        ;N=0, V=0, Z=0, C=0
12c4 : 6ca53d                   jmp (ptr_tst_ind)
12c7 : ea                       nop
12c8 : d0fe                     bne *           ;runover protection
12ca : 88                       dey
12cb : 88                       dey
12cc :                  ind_ret
12cc : 08                       php             ;either SP or Y count will fai
12cd : 88                       dey
12ce : 88                       dey
12cf : 88                       dey
12d0 : 28                       plp
12d1 : f0fe                     beq *           ;returned flags OK?
12d3 : 10fe                     bpl *
12d5 : 90fe                     bcc *
12d7 : 50fe                     bvc *
12d9 : c9e3                     cmp #('I'^$aa)  ;returned registers OK?
12db : d0fe                     bne *
12dd : e04f                     cpx #('N'+1)
12df : d0fe                     bne *
12e1 : c03e                     cpy #('D'-6)
12e3 : d0fe                     bne *
12e5 : ba                       tsx             ;SP check
12e6 : e0ff                     cpx #$ff
12e8 : d0fe                     bne *
                        
                        ; jump subroutine & return from subroutine
                                set_stat 0
                       >            load_flag 0
12ea : a904            >            lda #0|4
                       >
12ec : 48              >            pha         ;use stack to load status
12ed : 28              >            plp
                        
12ee : a94a                     lda #'J'
12f0 : a253                     ldx #'S'
12f2 : a052                     ldy #'R'        ;N=0, V=0, Z=0, C=0
12f4 : 20e13d                   jsr test_jsr
12f6 =                  jsr_ret = *-1           ;last address of jsr = return 
12f7 : 08                       php             ;either SP or Y count will fai
12f8 : 88                       dey
12f9 : 88                       dey
12fa : 88                       dey
12fb : 28                       plp
12fc : f0fe                     beq *           ;returned flags OK?
12fe : 10fe                     bpl *
1300 : 90fe                     bcc *
1302 : 50fe                     bvc *
1304 : c9e0                     cmp #('J'^$aa)  ;returned registers OK?
1306 : d0fe                     bne *
1308 : e054                     cpx #('S'+1)
130a : d0fe                     bne *
130c : c04c                     cpy #('R'-6)
130e : d0fe                     bne *
1310 : ba                       tsx             ;sp?
1311 : e0ff                     cpx #$ff
1313 : d0fe                     bne *
                        
                        ; break & return from interrupt
                            if ROM_vectors = 1
                                set_stat 0
                       >            load_flag 0
1315 : a904            >            lda #0|4
                       >
1317 : 48              >            pha         ;use stack to load status
1318 : 28              >            plp
                        
1319 : a942                     lda #'B'
131b : a252                     ldx #'R'
131d : a04b                     ldy #'K'        ;N=0, V=0, Z=0, C=0
131f : 00                       brk
                            else
                                lda #hi brk_ret ;emulated break
                                pha
                                lda #lo brk_ret
                                pha
                                lda #$30        ;set break & unused on stack
                                pha
                                set_stat intdis
                                lda #'B'
                                ldx #'R'
                                ldy #'K'        ;N=0, V=0, Z=0, C=0
                                jmp irq_trap
                            endif
1320 : 88                       dey             ;should not be executed
1321 :                  brk_ret                 ;address of break return
1321 : 08                       php             ;either SP or Y count will fai
1322 : 88                       dey
1323 : 88                       dey
1324 : 88                       dey
1325 : c9e8                     cmp #('B'^$aa)  ;returned registers OK?
1327 : d0fe                     bne *
1329 : e053                     cpx #('R'+1)
132b : d0fe                     bne *
132d : c045                     cpy #('K'-6)
132f : d0fe                     bne *
1331 : 68                       pla             ;returned flags OK (unchanged)
                                cmp_flag 0
1332 : c934            >            cmp #(0|$34)&$ff
                        
1334 : d0fe                     bne *
1336 : ba                       tsx             ;sp?
1337 : e0ff                     cpx #$ff
1339 : d0fe                     bne *
                        
                        ; test set and clear flags CLC CLI CLD CLV SEC SEI SED
                                set_stat $ff
                       >            load_flag $ff
133b : a9ff            >            lda #$ff|4
                       >
133d : 48              >            pha         ;use stack to load status
133e : 28              >            plp
                        
133f : 18                       clc
                                tst_stat $ff-carry
1340 : 08              >            php         ;save status
1341 : 08              >            php         ;use stack to retrieve status
1342 : 68              >            pla
                       >            cmp_flag $ff-carry
1343 : c9fe            >            cmp #($ff-carry|$34)&$ff
                       >
1345 : d0fe            >            bne *       ;trap
1347 : 28              >            plp         ;restore status
                        
1348 : 38                       sec
                                tst_stat $ff
1349 : 08              >            php         ;save status
134a : 08              >            php         ;use stack to retrieve status
134b : 68              >            pla
                       >            cmp_flag $ff
134c : c9ff            >            cmp #($ff|$34)&$ff
                       >
134e : d0fe            >            bne *       ;trap
1350 : 28              >            plp         ;restore status
                        
                            if I_flag = 3
                                cli
                                tst_stat $ff-intdis
                                sei
                                tst_stat $ff
                            endif
1351 : d8                       cld
                                tst_stat $ff-decmode
1352 : 08              >            php         ;save status
1353 : 08              >            php         ;use stack to retrieve status
1354 : 68              >            pla
                       >            cmp_flag $ff-decmode
1355 : c9f7            >            cmp #($ff-decmode|$34)&$ff
                       >
1357 : d0fe            >            bne *       ;trap
1359 : 28              >            plp         ;restore status
                        
135a : f8                       sed
                                tst_stat $ff
135b : 08              >            php         ;save status
135c : 08              >            php         ;use stack to retrieve status
135d : 68              >            pla
                       >            cmp_flag $ff
135e : c9ff            >            cmp #($ff|$34)&$ff
                       >
1360 : d0fe            >            bne *       ;trap
1362 : 28              >            plp         ;restore status
                        
1363 : b8                       clv
                                tst_stat $ff-overfl
1364 : 08              >            php         ;save status
1365 : 08              >            php         ;use stack to retrieve status
1366 : 68              >            pla
                       >            cmp_flag $ff-overfl
1367 : c9bf            >            cmp #($ff-overfl|$34)&$ff
                       >
1369 : d0fe            >            bne *       ;trap
136b : 28              >            plp         ;restore status
                        
                                set_stat 0
                       >            load_flag 0
136c : a904            >            lda #0|4
                       >
136e : 48              >            pha         ;use stack to load status
136f : 28              >            plp
                        
                                tst_stat 0
1370 : 08              >            php         ;save status
1371 : 08              >            php         ;use stack to retrieve status
1372 : 68              >            pla
                       >            cmp_flag 0
1373 : c934            >            cmp #(0|$34)&$ff
                       >
1375 : d0fe            >            bne *       ;trap
1377 : 28              >            plp         ;restore status
                        
1378 : 38                       sec
                                tst_stat carry
1379 : 08              >            php         ;save status
137a : 08              >            php         ;use stack to retrieve status
137b : 68              >            pla
                       >            cmp_flag carry
137c : c935            >            cmp #(carry|$34)&$ff
                       >
137e : d0fe            >            bne *       ;trap
1380 : 28              >            plp         ;restore status
                        
1381 : 18                       clc
                                tst_stat 0
1382 : 08              >            php         ;save status
1383 : 08              >            php         ;use stack to retrieve status
1384 : 68              >            pla
                       >            cmp_flag 0
1385 : c934            >            cmp #(0|$34)&$ff
                       >
1387 : d0fe            >            bne *       ;trap
1389 : 28              >            plp         ;restore status
                        
                            if I_flag = 3
                                sei
                                tst_stat intdis
                                cli
                                tst_stat 0
                            endif
138a : f8                       sed
                                tst_stat decmode
138b : 08              >            php         ;save status
138c : 08              >            php         ;use stack to retrieve status
138d : 68              >            pla
                       >            cmp_flag decmode
138e : c93c            >            cmp #(decmode|$34)&$ff
                       >
1390 : d0fe            >            bne *       ;trap
1392 : 28              >            plp         ;restore status
                        
1393 : d8                       cld
                                tst_stat 0
1394 : 08              >            php         ;save status
1395 : 08              >            php         ;use stack to retrieve status
1396 : 68              >            pla
                       >            cmp_flag 0
1397 : c934            >            cmp #(0|$34)&$ff
                       >
1399 : d0fe            >            bne *       ;trap
139b : 28              >            plp         ;restore status
                        
                                set_stat overfl
                       >            load_flag overfl
139c : a944            >            lda #overfl|4
                       >
139e : 48              >            pha         ;use stack to load status
139f : 28              >            plp
                        
                                tst_stat overfl
13a0 : 08              >            php         ;save status
13a1 : 08              >            php         ;use stack to retrieve status
13a2 : 68              >            pla
                       >            cmp_flag overfl
13a3 : c974            >            cmp #(overfl|$34)&$ff
                       >
13a5 : d0fe            >            bne *       ;trap
13a7 : 28              >            plp         ;restore status
                        
13a8 : b8                       clv
                                tst_stat 0
13a9 : 08              >            php         ;save status
13aa : 08              >            php         ;use stack to retrieve status
13ab : 68              >            pla
                       >            cmp_flag 0
13ac : c934            >            cmp #(0|$34)&$ff
                       >
13ae : d0fe            >            bne *       ;trap
13b0 : 28              >            plp         ;restore status
                        
                        ; testing index register increment/decrement and trans
                        ; INX INY DEX DEY TAX TXA TAY TYA
13b1 : a2fe                     ldx #$fe
                                set_stat $ff
                       >            load_flag $ff
13b3 : a9ff            >            lda #$ff|4
                       >
13b5 : 48              >            pha         ;use stack to load status
13b6 : 28              >            plp
                        
13b7 : e8                       inx             ;ff
                                tst_x $ff,$ff-zero
13b8 : 08              >            php         ;save flags
13b9 : 08              >            php
13ba : e0ff            >            cpx #$ff     ;test result
13bc : d0fe            >            bne *       ;trap
13be : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
13bf : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
13c1 : d0fe            >            bne *       ;trap
13c3 : 28              >            plp         ;restore status
                        
13c4 : e8                       inx             ;00
                                tst_x 0,$ff-minus
13c5 : 08              >            php         ;save flags
13c6 : 08              >            php
13c7 : e000            >            cpx #0     ;test result
13c9 : d0fe            >            bne *       ;trap
13cb : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
13cc : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
13ce : d0fe            >            bne *       ;trap
13d0 : 28              >            plp         ;restore status
                        
13d1 : e8                       inx             ;01
                                tst_x 1,$ff-minus-zero
13d2 : 08              >            php         ;save flags
13d3 : 08              >            php
13d4 : e001            >            cpx #1     ;test result
13d6 : d0fe            >            bne *       ;trap
13d8 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus-zero
13d9 : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                       >
13db : d0fe            >            bne *       ;trap
13dd : 28              >            plp         ;restore status
                        
13de : ca                       dex             ;00
                                tst_x 0,$ff-minus
13df : 08              >            php         ;save flags
13e0 : 08              >            php
13e1 : e000            >            cpx #0     ;test result
13e3 : d0fe            >            bne *       ;trap
13e5 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
13e6 : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
13e8 : d0fe            >            bne *       ;trap
13ea : 28              >            plp         ;restore status
                        
13eb : ca                       dex             ;ff
                                tst_x $ff,$ff-zero
13ec : 08              >            php         ;save flags
13ed : 08              >            php
13ee : e0ff            >            cpx #$ff     ;test result
13f0 : d0fe            >            bne *       ;trap
13f2 : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
13f3 : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
13f5 : d0fe            >            bne *       ;trap
13f7 : 28              >            plp         ;restore status
                        
13f8 : ca                       dex             ;fe
                                set_stat 0
                       >            load_flag 0
13f9 : a904            >            lda #0|4
                       >
13fb : 48              >            pha         ;use stack to load status
13fc : 28              >            plp
                        
13fd : e8                       inx             ;ff
                                tst_x $ff,minus
13fe : 08              >            php         ;save flags
13ff : 08              >            php
1400 : e0ff            >            cpx #$ff     ;test result
1402 : d0fe            >            bne *       ;trap
1404 : 68              >            pla         ;load status
                       >            cmp_flag minus
1405 : c9b4            >            cmp #(minus|$34)&$ff
                       >
1407 : d0fe            >            bne *       ;trap
1409 : 28              >            plp         ;restore status
                        
140a : e8                       inx             ;00
                                tst_x 0,zero
140b : 08              >            php         ;save flags
140c : 08              >            php
140d : e000            >            cpx #0     ;test result
140f : d0fe            >            bne *       ;trap
1411 : 68              >            pla         ;load status
                       >            cmp_flag zero
1412 : c936            >            cmp #(zero|$34)&$ff
                       >
1414 : d0fe            >            bne *       ;trap
1416 : 28              >            plp         ;restore status
                        
1417 : e8                       inx             ;01
                                tst_x 1,0
1418 : 08              >            php         ;save flags
1419 : 08              >            php
141a : e001            >            cpx #1     ;test result
141c : d0fe            >            bne *       ;trap
141e : 68              >            pla         ;load status
                       >            cmp_flag 0
141f : c934            >            cmp #(0|$34)&$ff
                       >
1421 : d0fe            >            bne *       ;trap
1423 : 28              >            plp         ;restore status
                        
1424 : ca                       dex             ;00
                                tst_x 0,zero
1425 : 08              >            php         ;save flags
1426 : 08              >            php
1427 : e000            >            cpx #0     ;test result
1429 : d0fe            >            bne *       ;trap
142b : 68              >            pla         ;load status
                       >            cmp_flag zero
142c : c936            >            cmp #(zero|$34)&$ff
                       >
142e : d0fe            >            bne *       ;trap
1430 : 28              >            plp         ;restore status
                        
1431 : ca                       dex             ;ff
                                tst_x $ff,minus
1432 : 08              >            php         ;save flags
1433 : 08              >            php
1434 : e0ff            >            cpx #$ff     ;test result
1436 : d0fe            >            bne *       ;trap
1438 : 68              >            pla         ;load status
                       >            cmp_flag minus
1439 : c9b4            >            cmp #(minus|$34)&$ff
                       >
143b : d0fe            >            bne *       ;trap
143d : 28              >            plp         ;restore status
                        
                        
143e : a0fe                     ldy #$fe
                                set_stat $ff
                       >            load_flag $ff
1440 : a9ff            >            lda #$ff|4
                       >
1442 : 48              >            pha         ;use stack to load status
1443 : 28              >            plp
                        
1444 : c8                       iny             ;ff
                                tst_y $ff,$ff-zero
1445 : 08              >            php         ;save flags
1446 : 08              >            php
1447 : c0ff            >            cpy #$ff     ;test result
1449 : d0fe            >            bne *       ;trap
144b : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
144c : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
144e : d0fe            >            bne *       ;trap
1450 : 28              >            plp         ;restore status
                        
1451 : c8                       iny             ;00
                                tst_y 0,$ff-minus
1452 : 08              >            php         ;save flags
1453 : 08              >            php
1454 : c000            >            cpy #0     ;test result
1456 : d0fe            >            bne *       ;trap
1458 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
1459 : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
145b : d0fe            >            bne *       ;trap
145d : 28              >            plp         ;restore status
                        
145e : c8                       iny             ;01
                                tst_y 1,$ff-minus-zero
145f : 08              >            php         ;save flags
1460 : 08              >            php
1461 : c001            >            cpy #1     ;test result
1463 : d0fe            >            bne *       ;trap
1465 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus-zero
1466 : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                       >
1468 : d0fe            >            bne *       ;trap
146a : 28              >            plp         ;restore status
                        
146b : 88                       dey             ;00
                                tst_y 0,$ff-minus
146c : 08              >            php         ;save flags
146d : 08              >            php
146e : c000            >            cpy #0     ;test result
1470 : d0fe            >            bne *       ;trap
1472 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
1473 : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
1475 : d0fe            >            bne *       ;trap
1477 : 28              >            plp         ;restore status
                        
1478 : 88                       dey             ;ff
                                tst_y $ff,$ff-zero
1479 : 08              >            php         ;save flags
147a : 08              >            php
147b : c0ff            >            cpy #$ff     ;test result
147d : d0fe            >            bne *       ;trap
147f : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
1480 : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
1482 : d0fe            >            bne *       ;trap
1484 : 28              >            plp         ;restore status
                        
1485 : 88                       dey             ;fe
                                set_stat 0
                       >            load_flag 0
1486 : a904            >            lda #0|4
                       >
1488 : 48              >            pha         ;use stack to load status
1489 : 28              >            plp
                        
148a : c8                       iny             ;ff
                                tst_y $ff,0+minus
148b : 08              >            php         ;save flags
148c : 08              >            php
148d : c0ff            >            cpy #$ff     ;test result
148f : d0fe            >            bne *       ;trap
1491 : 68              >            pla         ;load status
                       >            cmp_flag 0+minus
1492 : c9b4            >            cmp #(0+minus|$34)&$ff
                       >
1494 : d0fe            >            bne *       ;trap
1496 : 28              >            plp         ;restore status
                        
1497 : c8                       iny             ;00
                                tst_y 0,zero
1498 : 08              >            php         ;save flags
1499 : 08              >            php
149a : c000            >            cpy #0     ;test result
149c : d0fe            >            bne *       ;trap
149e : 68              >            pla         ;load status
                       >            cmp_flag zero
149f : c936            >            cmp #(zero|$34)&$ff
                       >
14a1 : d0fe            >            bne *       ;trap
14a3 : 28              >            plp         ;restore status
                        
14a4 : c8                       iny             ;01
                                tst_y 1,0
14a5 : 08              >            php         ;save flags
14a6 : 08              >            php
14a7 : c001            >            cpy #1     ;test result
14a9 : d0fe            >            bne *       ;trap
14ab : 68              >            pla         ;load status
                       >            cmp_flag 0
14ac : c934            >            cmp #(0|$34)&$ff
                       >
14ae : d0fe            >            bne *       ;trap
14b0 : 28              >            plp         ;restore status
                        
14b1 : 88                       dey             ;00
                                tst_y 0,zero
14b2 : 08              >            php         ;save flags
14b3 : 08              >            php
14b4 : c000            >            cpy #0     ;test result
14b6 : d0fe            >            bne *       ;trap
14b8 : 68              >            pla         ;load status
                       >            cmp_flag zero
14b9 : c936            >            cmp #(zero|$34)&$ff
                       >
14bb : d0fe            >            bne *       ;trap
14bd : 28              >            plp         ;restore status
                        
14be : 88                       dey             ;ff
                                tst_y $ff,minus
14bf : 08              >            php         ;save flags
14c0 : 08              >            php
14c1 : c0ff            >            cpy #$ff     ;test result
14c3 : d0fe            >            bne *       ;trap
14c5 : 68              >            pla         ;load status
                       >            cmp_flag minus
14c6 : c9b4            >            cmp #(minus|$34)&$ff
                       >
14c8 : d0fe            >            bne *       ;trap
14ca : 28              >            plp         ;restore status
                        
                        
14cb : a2ff                     ldx #$ff
                                set_stat $ff
                       >            load_flag $ff
14cd : a9ff            >            lda #$ff|4
                       >
14cf : 48              >            pha         ;use stack to load status
14d0 : 28              >            plp
                        
14d1 : 8a                       txa
                                tst_a $ff,$ff-zero
14d2 : 08              >            php         ;save flags
14d3 : 08              >            php
14d4 : c9ff            >            cmp #$ff     ;test result
14d6 : d0fe            >            bne *       ;trap
14d8 : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
14d9 : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
14db : d0fe            >            bne *       ;trap
14dd : 28              >            plp         ;restore status
                        
14de : 08                       php
14df : e8                       inx             ;00
14e0 : 28                       plp
14e1 : 8a                       txa
                                tst_a 0,$ff-minus
14e2 : 08              >            php         ;save flags
14e3 : 08              >            php
14e4 : c900            >            cmp #0     ;test result
14e6 : d0fe            >            bne *       ;trap
14e8 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
14e9 : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
14eb : d0fe            >            bne *       ;trap
14ed : 28              >            plp         ;restore status
                        
14ee : 08                       php
14ef : e8                       inx             ;01
14f0 : 28                       plp
14f1 : 8a                       txa
                                tst_a 1,$ff-minus-zero
14f2 : 08              >            php         ;save flags
14f3 : 08              >            php
14f4 : c901            >            cmp #1     ;test result
14f6 : d0fe            >            bne *       ;trap
14f8 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus-zero
14f9 : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                       >
14fb : d0fe            >            bne *       ;trap
14fd : 28              >            plp         ;restore status
                        
                                set_stat 0
                       >            load_flag 0
14fe : a904            >            lda #0|4
                       >
1500 : 48              >            pha         ;use stack to load status
1501 : 28              >            plp
                        
1502 : 8a                       txa
                                tst_a 1,0
1503 : 08              >            php         ;save flags
1504 : 08              >            php
1505 : c901            >            cmp #1     ;test result
1507 : d0fe            >            bne *       ;trap
1509 : 68              >            pla         ;load status
                       >            cmp_flag 0
150a : c934            >            cmp #(0|$34)&$ff
                       >
150c : d0fe            >            bne *       ;trap
150e : 28              >            plp         ;restore status
                        
150f : 08                       php
1510 : ca                       dex             ;00
1511 : 28                       plp
1512 : 8a                       txa
                                tst_a 0,zero
1513 : 08              >            php         ;save flags
1514 : 08              >            php
1515 : c900            >            cmp #0     ;test result
1517 : d0fe            >            bne *       ;trap
1519 : 68              >            pla         ;load status
                       >            cmp_flag zero
151a : c936            >            cmp #(zero|$34)&$ff
                       >
151c : d0fe            >            bne *       ;trap
151e : 28              >            plp         ;restore status
                        
151f : 08                       php
1520 : ca                       dex             ;ff
1521 : 28                       plp
1522 : 8a                       txa
                                tst_a $ff,minus
1523 : 08              >            php         ;save flags
1524 : 08              >            php
1525 : c9ff            >            cmp #$ff     ;test result
1527 : d0fe            >            bne *       ;trap
1529 : 68              >            pla         ;load status
                       >            cmp_flag minus
152a : c9b4            >            cmp #(minus|$34)&$ff
                       >
152c : d0fe            >            bne *       ;trap
152e : 28              >            plp         ;restore status
                        
                        
152f : a0ff                     ldy #$ff
                                set_stat $ff
                       >            load_flag $ff
1531 : a9ff            >            lda #$ff|4
                       >
1533 : 48              >            pha         ;use stack to load status
1534 : 28              >            plp
                        
1535 : 98                       tya
                                tst_a $ff,$ff-zero
1536 : 08              >            php         ;save flags
1537 : 08              >            php
1538 : c9ff            >            cmp #$ff     ;test result
153a : d0fe            >            bne *       ;trap
153c : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
153d : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
153f : d0fe            >            bne *       ;trap
1541 : 28              >            plp         ;restore status
                        
1542 : 08                       php
1543 : c8                       iny             ;00
1544 : 28                       plp
1545 : 98                       tya
                                tst_a 0,$ff-minus
1546 : 08              >            php         ;save flags
1547 : 08              >            php
1548 : c900            >            cmp #0     ;test result
154a : d0fe            >            bne *       ;trap
154c : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
154d : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
154f : d0fe            >            bne *       ;trap
1551 : 28              >            plp         ;restore status
                        
1552 : 08                       php
1553 : c8                       iny             ;01
1554 : 28                       plp
1555 : 98                       tya
                                tst_a 1,$ff-minus-zero
1556 : 08              >            php         ;save flags
1557 : 08              >            php
1558 : c901            >            cmp #1     ;test result
155a : d0fe            >            bne *       ;trap
155c : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus-zero
155d : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                       >
155f : d0fe            >            bne *       ;trap
1561 : 28              >            plp         ;restore status
                        
                                set_stat 0
                       >            load_flag 0
1562 : a904            >            lda #0|4
                       >
1564 : 48              >            pha         ;use stack to load status
1565 : 28              >            plp
                        
1566 : 98                       tya
                                tst_a 1,0
1567 : 08              >            php         ;save flags
1568 : 08              >            php
1569 : c901            >            cmp #1     ;test result
156b : d0fe            >            bne *       ;trap
156d : 68              >            pla         ;load status
                       >            cmp_flag 0
156e : c934            >            cmp #(0|$34)&$ff
                       >
1570 : d0fe            >            bne *       ;trap
1572 : 28              >            plp         ;restore status
                        
1573 : 08                       php
1574 : 88                       dey             ;00
1575 : 28                       plp
1576 : 98                       tya
                                tst_a 0,zero
1577 : 08              >            php         ;save flags
1578 : 08              >            php
1579 : c900            >            cmp #0     ;test result
157b : d0fe            >            bne *       ;trap
157d : 68              >            pla         ;load status
                       >            cmp_flag zero
157e : c936            >            cmp #(zero|$34)&$ff
                       >
1580 : d0fe            >            bne *       ;trap
1582 : 28              >            plp         ;restore status
                        
1583 : 08                       php
1584 : 88                       dey             ;ff
1585 : 28                       plp
1586 : 98                       tya
                                tst_a $ff,minus
1587 : 08              >            php         ;save flags
1588 : 08              >            php
1589 : c9ff            >            cmp #$ff     ;test result
158b : d0fe            >            bne *       ;trap
158d : 68              >            pla         ;load status
                       >            cmp_flag minus
158e : c9b4            >            cmp #(minus|$34)&$ff
                       >
1590 : d0fe            >            bne *       ;trap
1592 : 28              >            plp         ;restore status
                        
                        
                                load_flag $ff
1593 : a9ff            >            lda #$ff|4
                        
1595 : 48                       pha
1596 : a2ff                     ldx #$ff        ;ff
1598 : 8a                       txa
1599 : 28                       plp
159a : a8                       tay
                                tst_y $ff,$ff-zero
159b : 08              >            php         ;save flags
159c : 08              >            php
159d : c0ff            >            cpy #$ff     ;test result
159f : d0fe            >            bne *       ;trap
15a1 : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
15a2 : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
15a4 : d0fe            >            bne *       ;trap
15a6 : 28              >            plp         ;restore status
                        
15a7 : 08                       php
15a8 : e8                       inx             ;00
15a9 : 8a                       txa
15aa : 28                       plp
15ab : a8                       tay
                                tst_y 0,$ff-minus
15ac : 08              >            php         ;save flags
15ad : 08              >            php
15ae : c000            >            cpy #0     ;test result
15b0 : d0fe            >            bne *       ;trap
15b2 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
15b3 : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
15b5 : d0fe            >            bne *       ;trap
15b7 : 28              >            plp         ;restore status
                        
15b8 : 08                       php
15b9 : e8                       inx             ;01
15ba : 8a                       txa
15bb : 28                       plp
15bc : a8                       tay
                                tst_y 1,$ff-minus-zero
15bd : 08              >            php         ;save flags
15be : 08              >            php
15bf : c001            >            cpy #1     ;test result
15c1 : d0fe            >            bne *       ;trap
15c3 : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus-zero
15c4 : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                       >
15c6 : d0fe            >            bne *       ;trap
15c8 : 28              >            plp         ;restore status
                        
                                load_flag 0
15c9 : a904            >            lda #0|4
                        
15cb : 48                       pha
15cc : a900                     lda #0
15ce : 8a                       txa
15cf : 28                       plp
15d0 : a8                       tay
                                tst_y 1,0
15d1 : 08              >            php         ;save flags
15d2 : 08              >            php
15d3 : c001            >            cpy #1     ;test result
15d5 : d0fe            >            bne *       ;trap
15d7 : 68              >            pla         ;load status
                       >            cmp_flag 0
15d8 : c934            >            cmp #(0|$34)&$ff
                       >
15da : d0fe            >            bne *       ;trap
15dc : 28              >            plp         ;restore status
                        
15dd : 08                       php
15de : ca                       dex             ;00
15df : 8a                       txa
15e0 : 28                       plp
15e1 : a8                       tay
                                tst_y 0,zero
15e2 : 08              >            php         ;save flags
15e3 : 08              >            php
15e4 : c000            >            cpy #0     ;test result
15e6 : d0fe            >            bne *       ;trap
15e8 : 68              >            pla         ;load status
                       >            cmp_flag zero
15e9 : c936            >            cmp #(zero|$34)&$ff
                       >
15eb : d0fe            >            bne *       ;trap
15ed : 28              >            plp         ;restore status
                        
15ee : 08                       php
15ef : ca                       dex             ;ff
15f0 : 8a                       txa
15f1 : 28                       plp
15f2 : a8                       tay
                                tst_y $ff,minus
15f3 : 08              >            php         ;save flags
15f4 : 08              >            php
15f5 : c0ff            >            cpy #$ff     ;test result
15f7 : d0fe            >            bne *       ;trap
15f9 : 68              >            pla         ;load status
                       >            cmp_flag minus
15fa : c9b4            >            cmp #(minus|$34)&$ff
                       >
15fc : d0fe            >            bne *       ;trap
15fe : 28              >            plp         ;restore status
                        
                        
                        
                                load_flag $ff
15ff : a9ff            >            lda #$ff|4
                        
1601 : 48                       pha
1602 : a0ff                     ldy #$ff        ;ff
1604 : 98                       tya
1605 : 28                       plp
1606 : aa                       tax
                                tst_x $ff,$ff-zero
1607 : 08              >            php         ;save flags
1608 : 08              >            php
1609 : e0ff            >            cpx #$ff     ;test result
160b : d0fe            >            bne *       ;trap
160d : 68              >            pla         ;load status
                       >            cmp_flag $ff-zero
160e : c9fd            >            cmp #($ff-zero|$34)&$ff
                       >
1610 : d0fe            >            bne *       ;trap
1612 : 28              >            plp         ;restore status
                        
1613 : 08                       php
1614 : c8                       iny             ;00
1615 : 98                       tya
1616 : 28                       plp
1617 : aa                       tax
                                tst_x 0,$ff-minus
1618 : 08              >            php         ;save flags
1619 : 08              >            php
161a : e000            >            cpx #0     ;test result
161c : d0fe            >            bne *       ;trap
161e : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus
161f : c97f            >            cmp #($ff-minus|$34)&$ff
                       >
1621 : d0fe            >            bne *       ;trap
1623 : 28              >            plp         ;restore status
                        
1624 : 08                       php
1625 : c8                       iny             ;01
1626 : 98                       tya
1627 : 28                       plp
1628 : aa                       tax
                                tst_x 1,$ff-minus-zero
1629 : 08              >            php         ;save flags
162a : 08              >            php
162b : e001            >            cpx #1     ;test result
162d : d0fe            >            bne *       ;trap
162f : 68              >            pla         ;load status
                       >            cmp_flag $ff-minus-zero
1630 : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                       >
1632 : d0fe            >            bne *       ;trap
1634 : 28              >            plp         ;restore status
                        
                                load_flag 0
1635 : a904            >            lda #0|4
                        
1637 : 48                       pha
1638 : a900                     lda #0          ;preset status
163a : 98                       tya
163b : 28                       plp
163c : aa                       tax
                                tst_x 1,0
163d : 08              >            php         ;save flags
163e : 08              >            php
163f : e001            >            cpx #1     ;test result
1641 : d0fe            >            bne *       ;trap
1643 : 68              >            pla         ;load status
                       >            cmp_flag 0
1644 : c934            >            cmp #(0|$34)&$ff
                       >
1646 : d0fe            >            bne *       ;trap
1648 : 28              >            plp         ;restore status
                        
1649 : 08                       php
164a : 88                       dey             ;00
164b : 98                       tya
164c : 28                       plp
164d : aa                       tax
                                tst_x 0,zero
164e : 08              >            php         ;save flags
164f : 08              >            php
1650 : e000            >            cpx #0     ;test result
1652 : d0fe            >            bne *       ;trap
1654 : 68              >            pla         ;load status
                       >            cmp_flag zero
1655 : c936            >            cmp #(zero|$34)&$ff
                       >
1657 : d0fe            >            bne *       ;trap
1659 : 28              >            plp         ;restore status
                        
165a : 08                       php
165b : 88                       dey             ;ff
165c : 98                       tya
165d : 28                       plp
165e : aa                       tax
                                tst_x $ff,minus
165f : 08              >            php         ;save flags
1660 : 08              >            php
1661 : e0ff            >            cpx #$ff     ;test result
1663 : d0fe            >            bne *       ;trap
1665 : 68              >            pla         ;load status
                       >            cmp_flag minus
1666 : c9b4            >            cmp #(minus|$34)&$ff
                       >
1668 : d0fe            >            bne *       ;trap
166a : 28              >            plp         ;restore status
                        
                        
                        ;TSX sets NZ - TXS does not
166b : a201                     ldx #1          ;01
                                set_stat $ff
                       >            load_flag $ff
166d : a9ff            >            lda #$ff|4
                       >
166f : 48              >            pha         ;use stack to load status
1670 : 28              >            plp
                        
1671 : 9a                       txs
1672 : 08                       php
1673 : ad0101                   lda $101
                                cmp_flag $ff
1676 : c9ff            >            cmp #($ff|$34)&$ff
                        
1678 : d0fe                     bne *
                                set_stat 0
                       >            load_flag 0
167a : a904            >            lda #0|4
                       >
167c : 48              >            pha         ;use stack to load status
167d : 28              >            plp
                        
167e : 9a                       txs
167f : 08                       php
1680 : ad0101                   lda $101
                                cmp_flag 0
1683 : c934            >            cmp #(0|$34)&$ff
                        
1685 : d0fe                     bne *
1687 : ca                       dex             ;00
                                set_stat $ff
                       >            load_flag $ff
1688 : a9ff            >            lda #$ff|4
                       >
168a : 48              >            pha         ;use stack to load status
168b : 28              >            plp
                        
168c : 9a                       txs
168d : 08                       php
168e : ad0001                   lda $100
                                cmp_flag $ff
1691 : c9ff            >            cmp #($ff|$34)&$ff
                        
1693 : d0fe                     bne *
                                set_stat 0
                       >            load_flag 0
1695 : a904            >            lda #0|4
                       >
1697 : 48              >            pha         ;use stack to load status
1698 : 28              >            plp
                        
1699 : 9a                       txs
169a : 08                       php
169b : ad0001                   lda $100
                                cmp_flag 0
169e : c934            >            cmp #(0|$34)&$ff
                        
16a0 : d0fe                     bne *
16a2 : ca                       dex             ;ff
                                set_stat $ff
                       >            load_flag $ff
16a3 : a9ff            >            lda #$ff|4
                       >
16a5 : 48              >            pha         ;use stack to load status
16a6 : 28              >            plp
                        
16a7 : 9a                       txs
16a8 : 08                       php
16a9 : adff01                   lda $1ff
                                cmp_flag $ff
16ac : c9ff            >            cmp #($ff|$34)&$ff
                        
16ae : d0fe                     bne *
                                set_stat 0
                       >            load_flag 0
16b0 : a904            >            lda #0|4
                       >
16b2 : 48              >            pha         ;use stack to load status
16b3 : 28              >            plp
                        
16b4 : 9a                       txs
16b5 : 08                       php
16b6 : adff01                   lda $1ff
                                cmp_flag 0
16b9 : c934            >            cmp #(0|$34)&$ff
                        
                        
16bb : a201                     ldx #1
16bd : 9a                       txs             ;sp=01
                                set_stat $ff
                       >            load_flag $ff
16be : a9ff            >            lda #$ff|4
                       >
16c0 : 48              >            pha         ;use stack to load status
16c1 : 28              >            plp
                        
16c2 : ba                       tsx             ;clears Z, N
16c3 : 08                       php             ;sp=00
16c4 : e001                     cpx #1
16c6 : d0fe                     bne *
16c8 : ad0101                   lda $101
                                cmp_flag $ff-minus-zero
16cb : c97d            >            cmp #($ff-minus-zero|$34)&$ff
                        
16cd : d0fe                     bne *
                                set_stat $ff
                       >            load_flag $ff
16cf : a9ff            >            lda #$ff|4
                       >
16d1 : 48              >            pha         ;use stack to load status
16d2 : 28              >            plp
                        
16d3 : ba                       tsx             ;clears N, sets Z
16d4 : 08                       php             ;sp=ff
16d5 : e000                     cpx #0
16d7 : d0fe                     bne *
16d9 : ad0001                   lda $100
                                cmp_flag $ff-minus
16dc : c97f            >            cmp #($ff-minus|$34)&$ff
                        
16de : d0fe                     bne *
                                set_stat $ff
                       >            load_flag $ff
16e0 : a9ff            >            lda #$ff|4
                       >
16e2 : 48              >            pha         ;use stack to load status
16e3 : 28              >            plp
                        
16e4 : ba                       tsx             ;clears N, sets Z
16e5 : 08                       php             ;sp=fe
16e6 : e0ff                     cpx #$ff
16e8 : d0fe                     bne *
16ea : adff01                   lda $1ff
                                cmp_flag $ff-zero
16ed : c9fd            >            cmp #($ff-zero|$34)&$ff
                        
16ef : d0fe                     bne *
                        
16f1 : a201                     ldx #1
16f3 : 9a                       txs             ;sp=01
                                set_stat 0
                       >            load_flag 0
16f4 : a904            >            lda #0|4
                       >
16f6 : 48              >            pha         ;use stack to load status
16f7 : 28              >            plp
                        
16f8 : ba                       tsx             ;clears Z, N
16f9 : 08                       php             ;sp=00
16fa : e001                     cpx #1
16fc : d0fe                     bne *
16fe : ad0101                   lda $101
                                cmp_flag 0
1701 : c934            >            cmp #(0|$34)&$ff
                        
1703 : d0fe                     bne *
                                set_stat 0
                       >            load_flag 0
1705 : a904            >            lda #0|4
                       >
1707 : 48              >            pha         ;use stack to load status
1708 : 28              >            plp
                        
1709 : ba                       tsx             ;clears N, sets Z
170a : 08                       php             ;sp=ff
170b : e000                     cpx #0
170d : d0fe                     bne *
170f : ad0001                   lda $100
                                cmp_flag zero
1712 : c936            >            cmp #(zero|$34)&$ff
                        
1714 : d0fe                     bne *
                                set_stat 0
                       >            load_flag 0
1716 : a904            >            lda #0|4
                       >
1718 : 48              >            pha         ;use stack to load status
1719 : 28              >            plp
                        
171a : ba                       tsx             ;clears N, sets Z
171b : 08                       php             ;sp=fe
171c : e0ff                     cpx #$ff
171e : d0fe                     bne *
1720 : adff01                   lda $1ff
                                cmp_flag minus
1723 : c9b4            >            cmp #(minus|$34)&$ff
                        
1725 : d0fe                     bne *
1727 : 68                       pla             ;sp=ff
                        
                        ; testing index register load & store LDY LDX STY STX 
                        ; LDX / STX - zp,y / abs,y
1728 : a003                     ldy #3
172a :                  tldx
                                set_stat 0
                       >            load_flag 0
172a : a904            >            lda #0|4
                       >
172c : 48              >            pha         ;use stack to load status
172d : 28              >            plp
                        
172e : b60a                     ldx zp1,y
1730 : 08                       php         ;test stores do not alter flags
1731 : 8a                       txa
1732 : 49c3                     eor #$c3
1734 : 28                       plp
1735 : 993302                   sta abst,y
1738 : 08                       php         ;flags after load/store sequence
1739 : 49c3                     eor #$c3
173b : d90002                   cmp abs1,y  ;test result
173e : d0fe                     bne *       ;trap
1740 : 68                       pla         ;load status
                                eor_flag 0    ;always on bits
1741 : 4934            >            eor #(0    |$34)
                        
1743 : d90502                   cmp fLDx,y  ;test flags
1746 : d0fe                     bne *       ;trap
1748 : 88                       dey
1749 : 10df                     bpl tldx
                        
174b : a003                     ldy #3
174d :                  tldx1
                                set_stat $ff
                       >            load_flag $ff
174d : a9ff            >            lda #$ff|4
                       >
174f : 48              >            pha         ;use stack to load status
1750 : 28              >            plp
                        
1751 : b60a                     ldx zp1,y
1753 : 08                       php         ;test stores do not alter flags
1754 : 8a                       txa
1755 : 49c3                     eor #$c3
1757 : 28                       plp
1758 : 993302                   sta abst,y
175b : 08                       php         ;flags after load/store sequence
175c : 49c3                     eor #$c3
175e : d90002                   cmp abs1,y  ;test result
1761 : d0fe                     bne *       ;trap
1763 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1764 : 497d            >            eor #(lo~fnz |$34)
                        
1766 : d90502                   cmp fLDx,y  ;test flags
1769 : d0fe                     bne *       ;trap
176b : 88                       dey
176c : 10df                     bpl tldx1
                        
176e : a003                     ldy #3
1770 :                  tldx2
                                set_stat 0
                       >            load_flag 0
1770 : a904            >            lda #0|4
                       >
1772 : 48              >            pha         ;use stack to load status
1773 : 28              >            plp
                        
1774 : be0002                   ldx abs1,y
1777 : 08                       php         ;test stores do not alter flags
1778 : 8a                       txa
1779 : 49c3                     eor #$c3
177b : aa                       tax
177c : 28                       plp
177d : 960f                     stx zpt,y
177f : 08                       php         ;flags after load/store sequence
1780 : 49c3                     eor #$c3
1782 : d90a00                   cmp zp1,y   ;test result
1785 : d0fe                     bne *       ;trap
1787 : 68                       pla         ;load status
                                eor_flag 0
1788 : 4934            >            eor #(0|$34)
                        
178a : d90502                   cmp fLDx,y  ;test flags
178d : d0fe                     bne *       ;trap
178f : 88                       dey
1790 : 10de                     bpl tldx2
                        
1792 : a003                     ldy #3
1794 :                  tldx3
                                set_stat $ff
                       >            load_flag $ff
1794 : a9ff            >            lda #$ff|4
                       >
1796 : 48              >            pha         ;use stack to load status
1797 : 28              >            plp
                        
1798 : be0002                   ldx abs1,y
179b : 08                       php         ;test stores do not alter flags
179c : 8a                       txa
179d : 49c3                     eor #$c3
179f : aa                       tax
17a0 : 28                       plp
17a1 : 960f                     stx zpt,y
17a3 : 08                       php         ;flags after load/store sequence
17a4 : 49c3                     eor #$c3
17a6 : d90a00                   cmp zp1,y   ;test result
17a9 : d0fe                     bne *       ;trap
17ab : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
17ac : 497d            >            eor #(lo~fnz |$34)
                        
17ae : d90502                   cmp fLDx,y  ;test flags
17b1 : d0fe                     bne *       ;trap
17b3 : 88                       dey
17b4 : 10de                     bpl tldx3
                        
17b6 : a003                     ldy #3      ;testing store result
17b8 : a200                     ldx #0
17ba : b90f00           tstx    lda zpt,y
17bd : 49c3                     eor #$c3
17bf : d90a00                   cmp zp1,y
17c2 : d0fe                     bne *       ;trap: store to zp data
17c4 : 960f                     stx zpt,y   ;clear
17c6 : b93302                   lda abst,y
17c9 : 49c3                     eor #$c3
17cb : d90002                   cmp abs1,y
17ce : d0fe                     bne *       ;trap: store to abs data
17d0 : 8a                       txa
17d1 : 993302                   sta abst,y  ;clear
17d4 : 88                       dey
17d5 : 10e3                     bpl tstx
                        
                        ; indexed wraparound test (only zp should wrap)
17d7 : a0fd                     ldy #3+$fa
17d9 : b610             tldx4   ldx zp1-$fa&$ff,y   ;wrap on indexed zp
17db : 8a                       txa
17dc : 993901                   sta abst-$fa,y      ;no STX abs,y!
17df : 88                       dey
17e0 : c0fa                     cpy #$fa
17e2 : b0f5                     bcs tldx4
17e4 : a0fd                     ldy #3+$fa
17e6 : be0601           tldx5   ldx abs1-$fa,y      ;no wrap on indexed abs
17e9 : 9615                     stx zpt-$fa&$ff,y
17eb : 88                       dey
17ec : c0fa                     cpy #$fa
17ee : b0f6                     bcs tldx5
17f0 : a003                     ldy #3      ;testing wraparound result
17f2 : a200                     ldx #0
17f4 : b90f00           tstx1   lda zpt,y
17f7 : d90a00                   cmp zp1,y
17fa : d0fe                     bne *       ;trap: store to zp data
17fc : 960f                     stx zpt,y   ;clear
17fe : b93302                   lda abst,y
1801 : d90002                   cmp abs1,y
1804 : d0fe                     bne *       ;trap: store to abs data
1806 : 8a                       txa
1807 : 993302                   sta abst,y  ;clear
180a : 88                       dey
180b : 10e7                     bpl tstx1
                        
                        ; LDY / STY - zp,x / abs,x
180d : a203                     ldx #3
180f :                  tldy
                                set_stat 0
                       >            load_flag 0
180f : a904            >            lda #0|4
                       >
1811 : 48              >            pha         ;use stack to load status
1812 : 28              >            plp
                        
1813 : b40a                     ldy zp1,x
1815 : 08                       php         ;test stores do not alter flags
1816 : 98                       tya
1817 : 49c3                     eor #$c3
1819 : 28                       plp
181a : 9d3302                   sta abst,x
181d : 08                       php         ;flags after load/store sequence
181e : 49c3                     eor #$c3
1820 : dd0002                   cmp abs1,x  ;test result
1823 : d0fe                     bne *       ;trap
1825 : 68                       pla         ;load status
                                eor_flag 0
1826 : 4934            >            eor #(0|$34)
                        
1828 : dd0502                   cmp fLDx,x  ;test flags
182b : d0fe                     bne *       ;trap
182d : ca                       dex
182e : 10df                     bpl tldy
                        
1830 : a203                     ldx #3
1832 :                  tldy1
                                set_stat $ff
                       >            load_flag $ff
1832 : a9ff            >            lda #$ff|4
                       >
1834 : 48              >            pha         ;use stack to load status
1835 : 28              >            plp
                        
1836 : b40a                     ldy zp1,x
1838 : 08                       php         ;test stores do not alter flags
1839 : 98                       tya
183a : 49c3                     eor #$c3
183c : 28                       plp
183d : 9d3302                   sta abst,x
1840 : 08                       php         ;flags after load/store sequence
1841 : 49c3                     eor #$c3
1843 : dd0002                   cmp abs1,x   ;test result
1846 : d0fe                     bne *       ;trap
1848 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1849 : 497d            >            eor #(lo~fnz |$34)
                        
184b : dd0502                   cmp fLDx,x  ;test flags
184e : d0fe                     bne *       ;trap
1850 : ca                       dex
1851 : 10df                     bpl tldy1
                        
1853 : a203                     ldx #3
1855 :                  tldy2
                                set_stat 0
                       >            load_flag 0
1855 : a904            >            lda #0|4
                       >
1857 : 48              >            pha         ;use stack to load status
1858 : 28              >            plp
                        
1859 : bc0002                   ldy abs1,x
185c : 08                       php         ;test stores do not alter flags
185d : 98                       tya
185e : 49c3                     eor #$c3
1860 : a8                       tay
1861 : 28                       plp
1862 : 940f                     sty zpt,x
1864 : 08                       php         ;flags after load/store sequence
1865 : 49c3                     eor #$c3
1867 : d50a                     cmp zp1,x   ;test result
1869 : d0fe                     bne *       ;trap
186b : 68                       pla         ;load status
                                eor_flag 0
186c : 4934            >            eor #(0|$34)
                        
186e : dd0502                   cmp fLDx,x  ;test flags
1871 : d0fe                     bne *       ;trap
1873 : ca                       dex
1874 : 10df                     bpl tldy2
                        
1876 : a203                     ldx #3
1878 :                  tldy3
                                set_stat $ff
                       >            load_flag $ff
1878 : a9ff            >            lda #$ff|4
                       >
187a : 48              >            pha         ;use stack to load status
187b : 28              >            plp
                        
187c : bc0002                   ldy abs1,x
187f : 08                       php         ;test stores do not alter flags
1880 : 98                       tya
1881 : 49c3                     eor #$c3
1883 : a8                       tay
1884 : 28                       plp
1885 : 940f                     sty zpt,x
1887 : 08                       php         ;flags after load/store sequence
1888 : 49c3                     eor #$c3
188a : d50a                     cmp zp1,x   ;test result
188c : d0fe                     bne *       ;trap
188e : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
188f : 497d            >            eor #(lo~fnz |$34)
                        
1891 : dd0502                   cmp fLDx,x  ;test flags
1894 : d0fe                     bne *       ;trap
1896 : ca                       dex
1897 : 10df                     bpl tldy3
                        
1899 : a203                     ldx #3      ;testing store result
189b : a000                     ldy #0
189d : b50f             tsty    lda zpt,x
189f : 49c3                     eor #$c3
18a1 : d50a                     cmp zp1,x
18a3 : d0fe                     bne *       ;trap: store to zp,x data
18a5 : 940f                     sty zpt,x   ;clear
18a7 : bd3302                   lda abst,x
18aa : 49c3                     eor #$c3
18ac : dd0002                   cmp abs1,x
18af : d0fe                     bne *       ;trap: store to abs,x data
18b1 : 8a                       txa
18b2 : 9d3302                   sta abst,x  ;clear
18b5 : ca                       dex
18b6 : 10e5                     bpl tsty
                        
                        ; indexed wraparound test (only zp should wrap)
18b8 : a2fd                     ldx #3+$fa
18ba : b410             tldy4   ldy zp1-$fa&$ff,x   ;wrap on indexed zp
18bc : 98                       tya
18bd : 9d3901                   sta abst-$fa,x      ;no STX abs,x!
18c0 : ca                       dex
18c1 : e0fa                     cpx #$fa
18c3 : b0f5                     bcs tldy4
18c5 : a2fd                     ldx #3+$fa
18c7 : bc0601           tldy5   ldy abs1-$fa,x      ;no wrap on indexed abs
18ca : 9415                     sty zpt-$fa&$ff,x
18cc : ca                       dex
18cd : e0fa                     cpx #$fa
18cf : b0f6                     bcs tldy5
18d1 : a203                     ldx #3      ;testing wraparound result
18d3 : a000                     ldy #0
18d5 : b50f             tsty1   lda zpt,x
18d7 : d50a                     cmp zp1,x
18d9 : d0fe                     bne *       ;trap: store to zp,x data
18db : 940f                     sty zpt,x   ;clear
18dd : bd3302                   lda abst,x
18e0 : dd0002                   cmp abs1,x
18e3 : d0fe                     bne *       ;trap: store to abs,x data
18e5 : 8a                       txa
18e6 : 9d3302                   sta abst,x  ;clear
18e9 : ca                       dex
18ea : 10e9                     bpl tsty1
                        
                        ; LDX / STX - zp / abs / #
                                set_stat 0
                       >            load_flag 0
18ec : a904            >            lda #0|4
                       >
18ee : 48              >            pha         ;use stack to load status
18ef : 28              >            plp
                        
18f0 : a60a                     ldx zp1
18f2 : 08                       php         ;test stores do not alter flags
18f3 : 8a                       txa
18f4 : 49c3                     eor #$c3
18f6 : aa                       tax
18f7 : 28                       plp
18f8 : 8e3302                   stx abst
18fb : 08                       php         ;flags after load/store sequence
18fc : 49c3                     eor #$c3
18fe : aa                       tax
18ff : e0c3                     cpx #$c3    ;test result
1901 : d0fe                     bne *       ;trap
1903 : 68                       pla         ;load status
                                eor_flag 0
1904 : 4934            >            eor #(0|$34)
                        
1906 : cd0502                   cmp fLDx    ;test flags
1909 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
190b : a904            >            lda #0|4
                       >
190d : 48              >            pha         ;use stack to load status
190e : 28              >            plp
                        
190f : a60b                     ldx zp1+1
1911 : 08                       php         ;test stores do not alter flags
1912 : 8a                       txa
1913 : 49c3                     eor #$c3
1915 : aa                       tax
1916 : 28                       plp
1917 : 8e3402                   stx abst+1
191a : 08                       php         ;flags after load/store sequence
191b : 49c3                     eor #$c3
191d : aa                       tax
191e : e082                     cpx #$82    ;test result
1920 : d0fe                     bne *       ;trap
1922 : 68                       pla         ;load status
                                eor_flag 0
1923 : 4934            >            eor #(0|$34)
                        
1925 : cd0602                   cmp fLDx+1  ;test flags
1928 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
192a : a904            >            lda #0|4
                       >
192c : 48              >            pha         ;use stack to load status
192d : 28              >            plp
                        
192e : a60c                     ldx zp1+2
1930 : 08                       php         ;test stores do not alter flags
1931 : 8a                       txa
1932 : 49c3                     eor #$c3
1934 : aa                       tax
1935 : 28                       plp
1936 : 8e3502                   stx abst+2
1939 : 08                       php         ;flags after load/store sequence
193a : 49c3                     eor #$c3
193c : aa                       tax
193d : e041                     cpx #$41    ;test result
193f : d0fe                     bne *       ;trap
1941 : 68                       pla         ;load status
                                eor_flag 0
1942 : 4934            >            eor #(0|$34)
                        
1944 : cd0702                   cmp fLDx+2  ;test flags
1947 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1949 : a904            >            lda #0|4
                       >
194b : 48              >            pha         ;use stack to load status
194c : 28              >            plp
                        
194d : a60d                     ldx zp1+3
194f : 08                       php         ;test stores do not alter flags
1950 : 8a                       txa
1951 : 49c3                     eor #$c3
1953 : aa                       tax
1954 : 28                       plp
1955 : 8e3602                   stx abst+3
1958 : 08                       php         ;flags after load/store sequence
1959 : 49c3                     eor #$c3
195b : aa                       tax
195c : e000                     cpx #0      ;test result
195e : d0fe                     bne *       ;trap
1960 : 68                       pla         ;load status
                                eor_flag 0
1961 : 4934            >            eor #(0|$34)
                        
1963 : cd0802                   cmp fLDx+3  ;test flags
1966 : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
1968 : a9ff            >            lda #$ff|4
                       >
196a : 48              >            pha         ;use stack to load status
196b : 28              >            plp
                        
196c : a60a                     ldx zp1
196e : 08                       php         ;test stores do not alter flags
196f : 8a                       txa
1970 : 49c3                     eor #$c3
1972 : aa                       tax
1973 : 28                       plp
1974 : 8e3302                   stx abst
1977 : 08                       php         ;flags after load/store sequence
1978 : 49c3                     eor #$c3
197a : aa                       tax
197b : e0c3                     cpx #$c3    ;test result
197d : d0fe                     bne *       ;trap
197f : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1980 : 497d            >            eor #(lo~fnz |$34)
                        
1982 : cd0502                   cmp fLDx    ;test flags
1985 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1987 : a9ff            >            lda #$ff|4
                       >
1989 : 48              >            pha         ;use stack to load status
198a : 28              >            plp
                        
198b : a60b                     ldx zp1+1
198d : 08                       php         ;test stores do not alter flags
198e : 8a                       txa
198f : 49c3                     eor #$c3
1991 : aa                       tax
1992 : 28                       plp
1993 : 8e3402                   stx abst+1
1996 : 08                       php         ;flags after load/store sequence
1997 : 49c3                     eor #$c3
1999 : aa                       tax
199a : e082                     cpx #$82    ;test result
199c : d0fe                     bne *       ;trap
199e : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
199f : 497d            >            eor #(lo~fnz |$34)
                        
19a1 : cd0602                   cmp fLDx+1  ;test flags
19a4 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
19a6 : a9ff            >            lda #$ff|4
                       >
19a8 : 48              >            pha         ;use stack to load status
19a9 : 28              >            plp
                        
19aa : a60c                     ldx zp1+2
19ac : 08                       php         ;test stores do not alter flags
19ad : 8a                       txa
19ae : 49c3                     eor #$c3
19b0 : aa                       tax
19b1 : 28                       plp
19b2 : 8e3502                   stx abst+2
19b5 : 08                       php         ;flags after load/store sequence
19b6 : 49c3                     eor #$c3
19b8 : aa                       tax
19b9 : e041                     cpx #$41    ;test result
19bb : d0fe                     bne *       ;trap
19bd : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
19be : 497d            >            eor #(lo~fnz |$34)
                        
19c0 : cd0702                   cmp fLDx+2  ;test flags
19c3 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
19c5 : a9ff            >            lda #$ff|4
                       >
19c7 : 48              >            pha         ;use stack to load status
19c8 : 28              >            plp
                        
19c9 : a60d                     ldx zp1+3
19cb : 08                       php         ;test stores do not alter flags
19cc : 8a                       txa
19cd : 49c3                     eor #$c3
19cf : aa                       tax
19d0 : 28                       plp
19d1 : 8e3602                   stx abst+3
19d4 : 08                       php         ;flags after load/store sequence
19d5 : 49c3                     eor #$c3
19d7 : aa                       tax
19d8 : e000                     cpx #0      ;test result
19da : d0fe                     bne *       ;trap
19dc : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
19dd : 497d            >            eor #(lo~fnz |$34)
                        
19df : cd0802                   cmp fLDx+3  ;test flags
19e2 : d0fe                     bne *       ;trap
                        
                                set_stat 0
                       >            load_flag 0
19e4 : a904            >            lda #0|4
                       >
19e6 : 48              >            pha         ;use stack to load status
19e7 : 28              >            plp
                        
19e8 : ae0002                   ldx abs1
19eb : 08                       php         ;test stores do not alter flags
19ec : 8a                       txa
19ed : 49c3                     eor #$c3
19ef : aa                       tax
19f0 : 28                       plp
19f1 : 860f                     stx zpt
19f3 : 08                       php         ;flags after load/store sequence
19f4 : 49c3                     eor #$c3
19f6 : c50a                     cmp zp1     ;test result
19f8 : d0fe                     bne *       ;trap
19fa : 68                       pla         ;load status
                                eor_flag 0    ;always on bits
19fb : 4934            >            eor #(0    |$34)
                        
19fd : cd0502                   cmp fLDx    ;test flags
1a00 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1a02 : a904            >            lda #0|4
                       >
1a04 : 48              >            pha         ;use stack to load status
1a05 : 28              >            plp
                        
1a06 : ae0102                   ldx abs1+1
1a09 : 08                       php         ;test stores do not alter flags
1a0a : 8a                       txa
1a0b : 49c3                     eor #$c3
1a0d : aa                       tax
1a0e : 28                       plp
1a0f : 8610                     stx zpt+1
1a11 : 08                       php         ;flags after load/store sequence
1a12 : 49c3                     eor #$c3
1a14 : c50b                     cmp zp1+1   ;test result
1a16 : d0fe                     bne *       ;trap
1a18 : 68                       pla         ;load status
                                eor_flag 0
1a19 : 4934            >            eor #(0|$34)
                        
1a1b : cd0602                   cmp fLDx+1  ;test flags
1a1e : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1a20 : a904            >            lda #0|4
                       >
1a22 : 48              >            pha         ;use stack to load status
1a23 : 28              >            plp
                        
1a24 : ae0202                   ldx abs1+2
1a27 : 08                       php         ;test stores do not alter flags
1a28 : 8a                       txa
1a29 : 49c3                     eor #$c3
1a2b : aa                       tax
1a2c : 28                       plp
1a2d : 8611                     stx zpt+2
1a2f : 08                       php         ;flags after load/store sequence
1a30 : 49c3                     eor #$c3
1a32 : c50c                     cmp zp1+2   ;test result
1a34 : d0fe                     bne *       ;trap
1a36 : 68                       pla         ;load status
                                eor_flag 0
1a37 : 4934            >            eor #(0|$34)
                        
1a39 : cd0702                   cmp fLDx+2  ;test flags
1a3c : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1a3e : a904            >            lda #0|4
                       >
1a40 : 48              >            pha         ;use stack to load status
1a41 : 28              >            plp
                        
1a42 : ae0302                   ldx abs1+3
1a45 : 08                       php         ;test stores do not alter flags
1a46 : 8a                       txa
1a47 : 49c3                     eor #$c3
1a49 : aa                       tax
1a4a : 28                       plp
1a4b : 8612                     stx zpt+3
1a4d : 08                       php         ;flags after load/store sequence
1a4e : 49c3                     eor #$c3
1a50 : c50d                     cmp zp1+3   ;test result
1a52 : d0fe                     bne *       ;trap
1a54 : 68                       pla         ;load status
                                eor_flag 0
1a55 : 4934            >            eor #(0|$34)
                        
1a57 : cd0802                   cmp fLDx+3  ;test flags
1a5a : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
1a5c : a9ff            >            lda #$ff|4
                       >
1a5e : 48              >            pha         ;use stack to load status
1a5f : 28              >            plp
                        
1a60 : ae0002                   ldx abs1
1a63 : 08                       php         ;test stores do not alter flags
1a64 : 8a                       txa
1a65 : 49c3                     eor #$c3
1a67 : aa                       tax
1a68 : 28                       plp
1a69 : 860f                     stx zpt
1a6b : 08                       php         ;flags after load/store sequence
1a6c : 49c3                     eor #$c3
1a6e : aa                       tax
1a6f : e40a                     cpx zp1     ;test result
1a71 : d0fe                     bne *       ;trap
1a73 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1a74 : 497d            >            eor #(lo~fnz |$34)
                        
1a76 : cd0502                   cmp fLDx    ;test flags
1a79 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1a7b : a9ff            >            lda #$ff|4
                       >
1a7d : 48              >            pha         ;use stack to load status
1a7e : 28              >            plp
                        
1a7f : ae0102                   ldx abs1+1
1a82 : 08                       php         ;test stores do not alter flags
1a83 : 8a                       txa
1a84 : 49c3                     eor #$c3
1a86 : aa                       tax
1a87 : 28                       plp
1a88 : 8610                     stx zpt+1
1a8a : 08                       php         ;flags after load/store sequence
1a8b : 49c3                     eor #$c3
1a8d : aa                       tax
1a8e : e40b                     cpx zp1+1   ;test result
1a90 : d0fe                     bne *       ;trap
1a92 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1a93 : 497d            >            eor #(lo~fnz |$34)
                        
1a95 : cd0602                   cmp fLDx+1  ;test flags
1a98 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1a9a : a9ff            >            lda #$ff|4
                       >
1a9c : 48              >            pha         ;use stack to load status
1a9d : 28              >            plp
                        
1a9e : ae0202                   ldx abs1+2
1aa1 : 08                       php         ;test stores do not alter flags
1aa2 : 8a                       txa
1aa3 : 49c3                     eor #$c3
1aa5 : aa                       tax
1aa6 : 28                       plp
1aa7 : 8611                     stx zpt+2
1aa9 : 08                       php         ;flags after load/store sequence
1aaa : 49c3                     eor #$c3
1aac : aa                       tax
1aad : e40c                     cpx zp1+2   ;test result
1aaf : d0fe                     bne *       ;trap
1ab1 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1ab2 : 497d            >            eor #(lo~fnz |$34)
                        
1ab4 : cd0702                   cmp fLDx+2  ;test flags
1ab7 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1ab9 : a9ff            >            lda #$ff|4
                       >
1abb : 48              >            pha         ;use stack to load status
1abc : 28              >            plp
                        
1abd : ae0302                   ldx abs1+3
1ac0 : 08                       php         ;test stores do not alter flags
1ac1 : 8a                       txa
1ac2 : 49c3                     eor #$c3
1ac4 : aa                       tax
1ac5 : 28                       plp
1ac6 : 8612                     stx zpt+3
1ac8 : 08                       php         ;flags after load/store sequence
1ac9 : 49c3                     eor #$c3
1acb : aa                       tax
1acc : e40d                     cpx zp1+3   ;test result
1ace : d0fe                     bne *       ;trap
1ad0 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1ad1 : 497d            >            eor #(lo~fnz |$34)
                        
1ad3 : cd0802                   cmp fLDx+3  ;test flags
1ad6 : d0fe                     bne *       ;trap
                        
                                set_stat 0
                       >            load_flag 0
1ad8 : a904            >            lda #0|4
                       >
1ada : 48              >            pha         ;use stack to load status
1adb : 28              >            plp
                        
1adc : a2c3                     ldx #$c3
1ade : 08                       php
1adf : ec0002                   cpx abs1    ;test result
1ae2 : d0fe                     bne *       ;trap
1ae4 : 68                       pla         ;load status
                                eor_flag 0
1ae5 : 4934            >            eor #(0|$34)
                        
1ae7 : cd0502                   cmp fLDx    ;test flags
1aea : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1aec : a904            >            lda #0|4
                       >
1aee : 48              >            pha         ;use stack to load status
1aef : 28              >            plp
                        
1af0 : a282                     ldx #$82
1af2 : 08                       php
1af3 : ec0102                   cpx abs1+1  ;test result
1af6 : d0fe                     bne *       ;trap
1af8 : 68                       pla         ;load status
                                eor_flag 0
1af9 : 4934            >            eor #(0|$34)
                        
1afb : cd0602                   cmp fLDx+1  ;test flags
1afe : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1b00 : a904            >            lda #0|4
                       >
1b02 : 48              >            pha         ;use stack to load status
1b03 : 28              >            plp
                        
1b04 : a241                     ldx #$41
1b06 : 08                       php
1b07 : ec0202                   cpx abs1+2  ;test result
1b0a : d0fe                     bne *       ;trap
1b0c : 68                       pla         ;load status
                                eor_flag 0
1b0d : 4934            >            eor #(0|$34)
                        
1b0f : cd0702                   cmp fLDx+2  ;test flags
1b12 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1b14 : a904            >            lda #0|4
                       >
1b16 : 48              >            pha         ;use stack to load status
1b17 : 28              >            plp
                        
1b18 : a200                     ldx #0
1b1a : 08                       php
1b1b : ec0302                   cpx abs1+3  ;test result
1b1e : d0fe                     bne *       ;trap
1b20 : 68                       pla         ;load status
                                eor_flag 0    ;always on bits
1b21 : 4934            >            eor #(0    |$34)
                        
1b23 : cd0802                   cmp fLDx+3  ;test flags
1b26 : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
1b28 : a9ff            >            lda #$ff|4
                       >
1b2a : 48              >            pha         ;use stack to load status
1b2b : 28              >            plp
                        
1b2c : a2c3                     ldx #$c3
1b2e : 08                       php
1b2f : ec0002                   cpx abs1    ;test result
1b32 : d0fe                     bne *       ;trap
1b34 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1b35 : 497d            >            eor #(lo~fnz |$34)
                        
1b37 : cd0502                   cmp fLDx    ;test flags
1b3a : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1b3c : a9ff            >            lda #$ff|4
                       >
1b3e : 48              >            pha         ;use stack to load status
1b3f : 28              >            plp
                        
1b40 : a282                     ldx #$82
1b42 : 08                       php
1b43 : ec0102                   cpx abs1+1  ;test result
1b46 : d0fe                     bne *       ;trap
1b48 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1b49 : 497d            >            eor #(lo~fnz |$34)
                        
1b4b : cd0602                   cmp fLDx+1  ;test flags
1b4e : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1b50 : a9ff            >            lda #$ff|4
                       >
1b52 : 48              >            pha         ;use stack to load status
1b53 : 28              >            plp
                        
1b54 : a241                     ldx #$41
1b56 : 08                       php
1b57 : ec0202                   cpx abs1+2  ;test result
1b5a : d0fe                     bne *       ;trap
1b5c : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1b5d : 497d            >            eor #(lo~fnz |$34)
                        
1b5f : cd0702                   cmp fLDx+2  ;test flags
1b62 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1b64 : a9ff            >            lda #$ff|4
                       >
1b66 : 48              >            pha         ;use stack to load status
1b67 : 28              >            plp
                        
1b68 : a200                     ldx #0
1b6a : 08                       php
1b6b : ec0302                   cpx abs1+3  ;test result
1b6e : d0fe                     bne *       ;trap
1b70 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1b71 : 497d            >            eor #(lo~fnz |$34)
                        
1b73 : cd0802                   cmp fLDx+3  ;test flags
1b76 : d0fe                     bne *       ;trap
                        
1b78 : a200                     ldx #0
1b7a : a50f                     lda zpt
1b7c : 49c3                     eor #$c3
1b7e : c50a                     cmp zp1
1b80 : d0fe                     bne *       ;trap: store to zp data
1b82 : 860f                     stx zpt     ;clear
1b84 : ad3302                   lda abst
1b87 : 49c3                     eor #$c3
1b89 : cd0002                   cmp abs1
1b8c : d0fe                     bne *       ;trap: store to abs data
1b8e : 8e3302                   stx abst    ;clear
1b91 : a510                     lda zpt+1
1b93 : 49c3                     eor #$c3
1b95 : c50b                     cmp zp1+1
1b97 : d0fe                     bne *       ;trap: store to zp data
1b99 : 8610                     stx zpt+1   ;clear
1b9b : ad3402                   lda abst+1
1b9e : 49c3                     eor #$c3
1ba0 : cd0102                   cmp abs1+1
1ba3 : d0fe                     bne *       ;trap: store to abs data
1ba5 : 8e3402                   stx abst+1  ;clear
1ba8 : a511                     lda zpt+2
1baa : 49c3                     eor #$c3
1bac : c50c                     cmp zp1+2
1bae : d0fe                     bne *       ;trap: store to zp data
1bb0 : 8611                     stx zpt+2   ;clear
1bb2 : ad3502                   lda abst+2
1bb5 : 49c3                     eor #$c3
1bb7 : cd0202                   cmp abs1+2
1bba : d0fe                     bne *       ;trap: store to abs data
1bbc : 8e3502                   stx abst+2  ;clear
1bbf : a512                     lda zpt+3
1bc1 : 49c3                     eor #$c3
1bc3 : c50d                     cmp zp1+3
1bc5 : d0fe                     bne *       ;trap: store to zp data
1bc7 : 8612                     stx zpt+3   ;clear
1bc9 : ad3602                   lda abst+3
1bcc : 49c3                     eor #$c3
1bce : cd0302                   cmp abs1+3
1bd1 : d0fe                     bne *       ;trap: store to abs data
1bd3 : 8e3602                   stx abst+3  ;clear
                        
                        ; LDY / STY - zp / abs / #
                                set_stat 0
                       >            load_flag 0
1bd6 : a904            >            lda #0|4
                       >
1bd8 : 48              >            pha         ;use stack to load status
1bd9 : 28              >            plp
                        
1bda : a40a                     ldy zp1
1bdc : 08                       php         ;test stores do not alter flags
1bdd : 98                       tya
1bde : 49c3                     eor #$c3
1be0 : a8                       tay
1be1 : 28                       plp
1be2 : 8c3302                   sty abst
1be5 : 08                       php         ;flags after load/store sequence
1be6 : 49c3                     eor #$c3
1be8 : a8                       tay
1be9 : c0c3                     cpy #$c3    ;test result
1beb : d0fe                     bne *       ;trap
1bed : 68                       pla         ;load status
                                eor_flag 0
1bee : 4934            >            eor #(0|$34)
                        
1bf0 : cd0502                   cmp fLDx    ;test flags
1bf3 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1bf5 : a904            >            lda #0|4
                       >
1bf7 : 48              >            pha         ;use stack to load status
1bf8 : 28              >            plp
                        
1bf9 : a40b                     ldy zp1+1
1bfb : 08                       php         ;test stores do not alter flags
1bfc : 98                       tya
1bfd : 49c3                     eor #$c3
1bff : a8                       tay
1c00 : 28                       plp
1c01 : 8c3402                   sty abst+1
1c04 : 08                       php         ;flags after load/store sequence
1c05 : 49c3                     eor #$c3
1c07 : a8                       tay
1c08 : c082                     cpy #$82    ;test result
1c0a : d0fe                     bne *       ;trap
1c0c : 68                       pla         ;load status
                                eor_flag 0
1c0d : 4934            >            eor #(0|$34)
                        
1c0f : cd0602                   cmp fLDx+1  ;test flags
1c12 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1c14 : a904            >            lda #0|4
                       >
1c16 : 48              >            pha         ;use stack to load status
1c17 : 28              >            plp
                        
1c18 : a40c                     ldy zp1+2
1c1a : 08                       php         ;test stores do not alter flags
1c1b : 98                       tya
1c1c : 49c3                     eor #$c3
1c1e : a8                       tay
1c1f : 28                       plp
1c20 : 8c3502                   sty abst+2
1c23 : 08                       php         ;flags after load/store sequence
1c24 : 49c3                     eor #$c3
1c26 : a8                       tay
1c27 : c041                     cpy #$41    ;test result
1c29 : d0fe                     bne *       ;trap
1c2b : 68                       pla         ;load status
                                eor_flag 0
1c2c : 4934            >            eor #(0|$34)
                        
1c2e : cd0702                   cmp fLDx+2  ;test flags
1c31 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1c33 : a904            >            lda #0|4
                       >
1c35 : 48              >            pha         ;use stack to load status
1c36 : 28              >            plp
                        
1c37 : a40d                     ldy zp1+3
1c39 : 08                       php         ;test stores do not alter flags
1c3a : 98                       tya
1c3b : 49c3                     eor #$c3
1c3d : a8                       tay
1c3e : 28                       plp
1c3f : 8c3602                   sty abst+3
1c42 : 08                       php         ;flags after load/store sequence
1c43 : 49c3                     eor #$c3
1c45 : a8                       tay
1c46 : c000                     cpy #0      ;test result
1c48 : d0fe                     bne *       ;trap
1c4a : 68                       pla         ;load status
                                eor_flag 0
1c4b : 4934            >            eor #(0|$34)
                        
1c4d : cd0802                   cmp fLDx+3  ;test flags
1c50 : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
1c52 : a9ff            >            lda #$ff|4
                       >
1c54 : 48              >            pha         ;use stack to load status
1c55 : 28              >            plp
                        
1c56 : a40a                     ldy zp1
1c58 : 08                       php         ;test stores do not alter flags
1c59 : 98                       tya
1c5a : 49c3                     eor #$c3
1c5c : a8                       tay
1c5d : 28                       plp
1c5e : 8c3302                   sty abst
1c61 : 08                       php         ;flags after load/store sequence
1c62 : 49c3                     eor #$c3
1c64 : a8                       tay
1c65 : c0c3                     cpy #$c3    ;test result
1c67 : d0fe                     bne *       ;trap
1c69 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1c6a : 497d            >            eor #(lo~fnz |$34)
                        
1c6c : cd0502                   cmp fLDx    ;test flags
1c6f : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1c71 : a9ff            >            lda #$ff|4
                       >
1c73 : 48              >            pha         ;use stack to load status
1c74 : 28              >            plp
                        
1c75 : a40b                     ldy zp1+1
1c77 : 08                       php         ;test stores do not alter flags
1c78 : 98                       tya
1c79 : 49c3                     eor #$c3
1c7b : a8                       tay
1c7c : 28                       plp
1c7d : 8c3402                   sty abst+1
1c80 : 08                       php         ;flags after load/store sequence
1c81 : 49c3                     eor #$c3
1c83 : a8                       tay
1c84 : c082                     cpy #$82   ;test result
1c86 : d0fe                     bne *       ;trap
1c88 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1c89 : 497d            >            eor #(lo~fnz |$34)
                        
1c8b : cd0602                   cmp fLDx+1  ;test flags
1c8e : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1c90 : a9ff            >            lda #$ff|4
                       >
1c92 : 48              >            pha         ;use stack to load status
1c93 : 28              >            plp
                        
1c94 : a40c                     ldy zp1+2
1c96 : 08                       php         ;test stores do not alter flags
1c97 : 98                       tya
1c98 : 49c3                     eor #$c3
1c9a : a8                       tay
1c9b : 28                       plp
1c9c : 8c3502                   sty abst+2
1c9f : 08                       php         ;flags after load/store sequence
1ca0 : 49c3                     eor #$c3
1ca2 : a8                       tay
1ca3 : c041                     cpy #$41    ;test result
1ca5 : d0fe                     bne *       ;trap
1ca7 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1ca8 : 497d            >            eor #(lo~fnz |$34)
                        
1caa : cd0702                   cmp fLDx+2  ;test flags
1cad : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1caf : a9ff            >            lda #$ff|4
                       >
1cb1 : 48              >            pha         ;use stack to load status
1cb2 : 28              >            plp
                        
1cb3 : a40d                     ldy zp1+3
1cb5 : 08                       php         ;test stores do not alter flags
1cb6 : 98                       tya
1cb7 : 49c3                     eor #$c3
1cb9 : a8                       tay
1cba : 28                       plp
1cbb : 8c3602                   sty abst+3
1cbe : 08                       php         ;flags after load/store sequence
1cbf : 49c3                     eor #$c3
1cc1 : a8                       tay
1cc2 : c000                     cpy #0      ;test result
1cc4 : d0fe                     bne *       ;trap
1cc6 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1cc7 : 497d            >            eor #(lo~fnz |$34)
                        
1cc9 : cd0802                   cmp fLDx+3  ;test flags
1ccc : d0fe                     bne *       ;trap
                        
                                set_stat 0
                       >            load_flag 0
1cce : a904            >            lda #0|4
                       >
1cd0 : 48              >            pha         ;use stack to load status
1cd1 : 28              >            plp
                        
1cd2 : ac0002                   ldy abs1
1cd5 : 08                       php         ;test stores do not alter flags
1cd6 : 98                       tya
1cd7 : 49c3                     eor #$c3
1cd9 : a8                       tay
1cda : 28                       plp
1cdb : 840f                     sty zpt
1cdd : 08                       php         ;flags after load/store sequence
1cde : 49c3                     eor #$c3
1ce0 : a8                       tay
1ce1 : c40a                     cpy zp1     ;test result
1ce3 : d0fe                     bne *       ;trap
1ce5 : 68                       pla         ;load status
                                eor_flag 0
1ce6 : 4934            >            eor #(0|$34)
                        
1ce8 : cd0502                   cmp fLDx    ;test flags
1ceb : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1ced : a904            >            lda #0|4
                       >
1cef : 48              >            pha         ;use stack to load status
1cf0 : 28              >            plp
                        
1cf1 : ac0102                   ldy abs1+1
1cf4 : 08                       php         ;test stores do not alter flags
1cf5 : 98                       tya
1cf6 : 49c3                     eor #$c3
1cf8 : a8                       tay
1cf9 : 28                       plp
1cfa : 8410                     sty zpt+1
1cfc : 08                       php         ;flags after load/store sequence
1cfd : 49c3                     eor #$c3
1cff : a8                       tay
1d00 : c40b                     cpy zp1+1   ;test result
1d02 : d0fe                     bne *       ;trap
1d04 : 68                       pla         ;load status
                                eor_flag 0
1d05 : 4934            >            eor #(0|$34)
                        
1d07 : cd0602                   cmp fLDx+1  ;test flags
1d0a : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1d0c : a904            >            lda #0|4
                       >
1d0e : 48              >            pha         ;use stack to load status
1d0f : 28              >            plp
                        
1d10 : ac0202                   ldy abs1+2
1d13 : 08                       php         ;test stores do not alter flags
1d14 : 98                       tya
1d15 : 49c3                     eor #$c3
1d17 : a8                       tay
1d18 : 28                       plp
1d19 : 8411                     sty zpt+2
1d1b : 08                       php         ;flags after load/store sequence
1d1c : 49c3                     eor #$c3
1d1e : a8                       tay
1d1f : c40c                     cpy zp1+2   ;test result
1d21 : d0fe                     bne *       ;trap
1d23 : 68                       pla         ;load status
                                eor_flag 0
1d24 : 4934            >            eor #(0|$34)
                        
1d26 : cd0702                   cmp fLDx+2  ;test flags
1d29 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1d2b : a904            >            lda #0|4
                       >
1d2d : 48              >            pha         ;use stack to load status
1d2e : 28              >            plp
                        
1d2f : ac0302                   ldy abs1+3
1d32 : 08                       php         ;test stores do not alter flags
1d33 : 98                       tya
1d34 : 49c3                     eor #$c3
1d36 : a8                       tay
1d37 : 28                       plp
1d38 : 8412                     sty zpt+3
1d3a : 08                       php         ;flags after load/store sequence
1d3b : 49c3                     eor #$c3
1d3d : a8                       tay
1d3e : c40d                     cpy zp1+3   ;test result
1d40 : d0fe                     bne *       ;trap
1d42 : 68                       pla         ;load status
                                eor_flag 0
1d43 : 4934            >            eor #(0|$34)
                        
1d45 : cd0802                   cmp fLDx+3  ;test flags
1d48 : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
1d4a : a9ff            >            lda #$ff|4
                       >
1d4c : 48              >            pha         ;use stack to load status
1d4d : 28              >            plp
                        
1d4e : ac0002                   ldy abs1
1d51 : 08                       php         ;test stores do not alter flags
1d52 : 98                       tya
1d53 : 49c3                     eor #$c3
1d55 : a8                       tay
1d56 : 28                       plp
1d57 : 840f                     sty zpt
1d59 : 08                       php         ;flags after load/store sequence
1d5a : 49c3                     eor #$c3
1d5c : a8                       tay
1d5d : c50a                     cmp zp1     ;test result
1d5f : d0fe                     bne *       ;trap
1d61 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1d62 : 497d            >            eor #(lo~fnz |$34)
                        
1d64 : cd0502                   cmp fLDx    ;test flags
1d67 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1d69 : a9ff            >            lda #$ff|4
                       >
1d6b : 48              >            pha         ;use stack to load status
1d6c : 28              >            plp
                        
1d6d : ac0102                   ldy abs1+1
1d70 : 08                       php         ;test stores do not alter flags
1d71 : 98                       tya
1d72 : 49c3                     eor #$c3
1d74 : a8                       tay
1d75 : 28                       plp
1d76 : 8410                     sty zpt+1
1d78 : 08                       php         ;flags after load/store sequence
1d79 : 49c3                     eor #$c3
1d7b : a8                       tay
1d7c : c50b                     cmp zp1+1   ;test result
1d7e : d0fe                     bne *       ;trap
1d80 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1d81 : 497d            >            eor #(lo~fnz |$34)
                        
1d83 : cd0602                   cmp fLDx+1  ;test flags
1d86 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1d88 : a9ff            >            lda #$ff|4
                       >
1d8a : 48              >            pha         ;use stack to load status
1d8b : 28              >            plp
                        
1d8c : ac0202                   ldy abs1+2
1d8f : 08                       php         ;test stores do not alter flags
1d90 : 98                       tya
1d91 : 49c3                     eor #$c3
1d93 : a8                       tay
1d94 : 28                       plp
1d95 : 8411                     sty zpt+2
1d97 : 08                       php         ;flags after load/store sequence
1d98 : 49c3                     eor #$c3
1d9a : a8                       tay
1d9b : c50c                     cmp zp1+2   ;test result
1d9d : d0fe                     bne *       ;trap
1d9f : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1da0 : 497d            >            eor #(lo~fnz |$34)
                        
1da2 : cd0702                   cmp fLDx+2  ;test flags
1da5 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1da7 : a9ff            >            lda #$ff|4
                       >
1da9 : 48              >            pha         ;use stack to load status
1daa : 28              >            plp
                        
1dab : ac0302                   ldy abs1+3
1dae : 08                       php         ;test stores do not alter flags
1daf : 98                       tya
1db0 : 49c3                     eor #$c3
1db2 : a8                       tay
1db3 : 28                       plp
1db4 : 8412                     sty zpt+3
1db6 : 08                       php         ;flags after load/store sequence
1db7 : 49c3                     eor #$c3
1db9 : a8                       tay
1dba : c50d                     cmp zp1+3   ;test result
1dbc : d0fe                     bne *       ;trap
1dbe : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1dbf : 497d            >            eor #(lo~fnz |$34)
                        
1dc1 : cd0802                   cmp fLDx+3  ;test flags
1dc4 : d0fe                     bne *       ;trap
                        
                        
                                set_stat 0
                       >            load_flag 0
1dc6 : a904            >            lda #0|4
                       >
1dc8 : 48              >            pha         ;use stack to load status
1dc9 : 28              >            plp
                        
1dca : a0c3                     ldy #$c3
1dcc : 08                       php
1dcd : cc0002                   cpy abs1    ;test result
1dd0 : d0fe                     bne *       ;trap
1dd2 : 68                       pla         ;load status
                                eor_flag 0    ;always on bits
1dd3 : 4934            >            eor #(0    |$34)
                        
1dd5 : cd0502                   cmp fLDx    ;test flags
1dd8 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1dda : a904            >            lda #0|4
                       >
1ddc : 48              >            pha         ;use stack to load status
1ddd : 28              >            plp
                        
1dde : a082                     ldy #$82
1de0 : 08                       php
1de1 : cc0102                   cpy abs1+1  ;test result
1de4 : d0fe                     bne *       ;trap
1de6 : 68                       pla         ;load status
                                eor_flag 0
1de7 : 4934            >            eor #(0|$34)
                        
1de9 : cd0602                   cmp fLDx+1  ;test flags
1dec : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1dee : a904            >            lda #0|4
                       >
1df0 : 48              >            pha         ;use stack to load status
1df1 : 28              >            plp
                        
1df2 : a041                     ldy #$41
1df4 : 08                       php
1df5 : cc0202                   cpy abs1+2  ;test result
1df8 : d0fe                     bne *       ;trap
1dfa : 68                       pla         ;load status
                                eor_flag 0
1dfb : 4934            >            eor #(0|$34)
                        
1dfd : cd0702                   cmp fLDx+2  ;test flags
1e00 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
1e02 : a904            >            lda #0|4
                       >
1e04 : 48              >            pha         ;use stack to load status
1e05 : 28              >            plp
                        
1e06 : a000                     ldy #0
1e08 : 08                       php
1e09 : cc0302                   cpy abs1+3  ;test result
1e0c : d0fe                     bne *       ;trap
1e0e : 68                       pla         ;load status
                                eor_flag 0
1e0f : 4934            >            eor #(0|$34)
                        
1e11 : cd0802                   cmp fLDx+3  ;test flags
1e14 : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
1e16 : a9ff            >            lda #$ff|4
                       >
1e18 : 48              >            pha         ;use stack to load status
1e19 : 28              >            plp
                        
1e1a : a0c3                     ldy #$c3
1e1c : 08                       php
1e1d : cc0002                   cpy abs1     ;test result
1e20 : d0fe                     bne *       ;trap
1e22 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1e23 : 497d            >            eor #(lo~fnz |$34)
                        
1e25 : cd0502                   cmp fLDx    ;test flags
1e28 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1e2a : a9ff            >            lda #$ff|4
                       >
1e2c : 48              >            pha         ;use stack to load status
1e2d : 28              >            plp
                        
1e2e : a082                     ldy #$82
1e30 : 08                       php
1e31 : cc0102                   cpy abs1+1   ;test result
1e34 : d0fe                     bne *       ;trap
1e36 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1e37 : 497d            >            eor #(lo~fnz |$34)
                        
1e39 : cd0602                   cmp fLDx+1  ;test flags
1e3c : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1e3e : a9ff            >            lda #$ff|4
                       >
1e40 : 48              >            pha         ;use stack to load status
1e41 : 28              >            plp
                        
1e42 : a041                     ldy #$41
1e44 : 08                       php
1e45 : cc0202                   cpy abs1+2   ;test result
1e48 : d0fe                     bne *       ;trap
1e4a : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1e4b : 497d            >            eor #(lo~fnz |$34)
                        
1e4d : cd0702                   cmp fLDx+2  ;test flags
1e50 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
1e52 : a9ff            >            lda #$ff|4
                       >
1e54 : 48              >            pha         ;use stack to load status
1e55 : 28              >            plp
                        
1e56 : a000                     ldy #0
1e58 : 08                       php
1e59 : cc0302                   cpy abs1+3   ;test result
1e5c : d0fe                     bne *       ;trap
1e5e : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1e5f : 497d            >            eor #(lo~fnz |$34)
                        
1e61 : cd0802                   cmp fLDx+3  ;test flags
1e64 : d0fe                     bne *       ;trap
                        
1e66 : a000                     ldy #0
1e68 : a50f                     lda zpt
1e6a : 49c3                     eor #$c3
1e6c : c50a                     cmp zp1
1e6e : d0fe                     bne *       ;trap: store to zp   data
1e70 : 840f                     sty zpt     ;clear
1e72 : ad3302                   lda abst
1e75 : 49c3                     eor #$c3
1e77 : cd0002                   cmp abs1
1e7a : d0fe                     bne *       ;trap: store to abs   data
1e7c : 8c3302                   sty abst    ;clear
1e7f : a510                     lda zpt+1
1e81 : 49c3                     eor #$c3
1e83 : c50b                     cmp zp1+1
1e85 : d0fe                     bne *       ;trap: store to zp+1 data
1e87 : 8410                     sty zpt+1   ;clear
1e89 : ad3402                   lda abst+1
1e8c : 49c3                     eor #$c3
1e8e : cd0102                   cmp abs1+1
1e91 : d0fe                     bne *       ;trap: store to abs+1 data
1e93 : 8c3402                   sty abst+1  ;clear
1e96 : a511                     lda zpt+2
1e98 : 49c3                     eor #$c3
1e9a : c50c                     cmp zp1+2
1e9c : d0fe                     bne *       ;trap: store to zp+2 data
1e9e : 8411                     sty zpt+2   ;clear
1ea0 : ad3502                   lda abst+2
1ea3 : 49c3                     eor #$c3
1ea5 : cd0202                   cmp abs1+2
1ea8 : d0fe                     bne *       ;trap: store to abs+2 data
1eaa : 8c3502                   sty abst+2  ;clear
1ead : a512                     lda zpt+3
1eaf : 49c3                     eor #$c3
1eb1 : c50d                     cmp zp1+3
1eb3 : d0fe                     bne *       ;trap: store to zp+3 data
1eb5 : 8412                     sty zpt+3   ;clear
1eb7 : ad3602                   lda abst+3
1eba : 49c3                     eor #$c3
1ebc : cd0302                   cmp abs1+3
1ebf : d0fe                     bne *       ;trap: store to abs+3 data
1ec1 : 8c3602                   sty abst+3  ;clear
                        
                        ; testing load / store accumulator LDA / STA all addre
                        ; LDA / STA - zp,x / abs,x
1ec4 : a203                     ldx #3
1ec6 :                  tldax
                                set_stat 0
                       >            load_flag 0
1ec6 : a904            >            lda #0|4
                       >
1ec8 : 48              >            pha         ;use stack to load status
1ec9 : 28              >            plp
                        
1eca : b50a                     lda zp1,x
1ecc : 08                       php         ;test stores do not alter flags
1ecd : 49c3                     eor #$c3
1ecf : 28                       plp
1ed0 : 9d3302                   sta abst,x
1ed3 : 08                       php         ;flags after load/store sequence
1ed4 : 49c3                     eor #$c3
1ed6 : dd0002                   cmp abs1,x  ;test result
1ed9 : d0fe                     bne *       ;trap
1edb : 68                       pla         ;load status
                                eor_flag 0
1edc : 4934            >            eor #(0|$34)
                        
1ede : dd0502                   cmp fLDx,x  ;test flags
1ee1 : d0fe                     bne *       ;trap
1ee3 : ca                       dex
1ee4 : 10e0                     bpl tldax
                        
1ee6 : a203                     ldx #3
1ee8 :                  tldax1
                                set_stat $ff
                       >            load_flag $ff
1ee8 : a9ff            >            lda #$ff|4
                       >
1eea : 48              >            pha         ;use stack to load status
1eeb : 28              >            plp
                        
1eec : b50a                     lda zp1,x
1eee : 08                       php         ;test stores do not alter flags
1eef : 49c3                     eor #$c3
1ef1 : 28                       plp
1ef2 : 9d3302                   sta abst,x
1ef5 : 08                       php         ;flags after load/store sequence
1ef6 : 49c3                     eor #$c3
1ef8 : dd0002                   cmp abs1,x   ;test result
1efb : d0fe                     bne *       ;trap
1efd : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1efe : 497d            >            eor #(lo~fnz |$34)
                        
1f00 : dd0502                   cmp fLDx,x  ;test flags
1f03 : d0fe                     bne *       ;trap
1f05 : ca                       dex
1f06 : 10e0                     bpl tldax1
                        
1f08 : a203                     ldx #3
1f0a :                  tldax2
                                set_stat 0
                       >            load_flag 0
1f0a : a904            >            lda #0|4
                       >
1f0c : 48              >            pha         ;use stack to load status
1f0d : 28              >            plp
                        
1f0e : bd0002                   lda abs1,x
1f11 : 08                       php         ;test stores do not alter flags
1f12 : 49c3                     eor #$c3
1f14 : 28                       plp
1f15 : 950f                     sta zpt,x
1f17 : 08                       php         ;flags after load/store sequence
1f18 : 49c3                     eor #$c3
1f1a : d50a                     cmp zp1,x   ;test result
1f1c : d0fe                     bne *       ;trap
1f1e : 68                       pla         ;load status
                                eor_flag 0
1f1f : 4934            >            eor #(0|$34)
                        
1f21 : dd0502                   cmp fLDx,x  ;test flags
1f24 : d0fe                     bne *       ;trap
1f26 : ca                       dex
1f27 : 10e1                     bpl tldax2
                        
1f29 : a203                     ldx #3
1f2b :                  tldax3
                                set_stat $ff
                       >            load_flag $ff
1f2b : a9ff            >            lda #$ff|4
                       >
1f2d : 48              >            pha         ;use stack to load status
1f2e : 28              >            plp
                        
1f2f : bd0002                   lda abs1,x
1f32 : 08                       php         ;test stores do not alter flags
1f33 : 49c3                     eor #$c3
1f35 : 28                       plp
1f36 : 950f                     sta zpt,x
1f38 : 08                       php         ;flags after load/store sequence
1f39 : 49c3                     eor #$c3
1f3b : d50a                     cmp zp1,x   ;test result
1f3d : d0fe                     bne *       ;trap
1f3f : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1f40 : 497d            >            eor #(lo~fnz |$34)
                        
1f42 : dd0502                   cmp fLDx,x  ;test flags
1f45 : d0fe                     bne *       ;trap
1f47 : ca                       dex
1f48 : 10e1                     bpl tldax3
                        
1f4a : a203                     ldx #3      ;testing store result
1f4c : a000                     ldy #0
1f4e : b50f             tstax   lda zpt,x
1f50 : 49c3                     eor #$c3
1f52 : d50a                     cmp zp1,x
1f54 : d0fe                     bne *       ;trap: store to zp,x data
1f56 : 940f                     sty zpt,x   ;clear
1f58 : bd3302                   lda abst,x
1f5b : 49c3                     eor #$c3
1f5d : dd0002                   cmp abs1,x
1f60 : d0fe                     bne *       ;trap: store to abs,x data
1f62 : 8a                       txa
1f63 : 9d3302                   sta abst,x  ;clear
1f66 : ca                       dex
1f67 : 10e5                     bpl tstax
                        
                        ; LDA / STA - (zp),y / abs,y / (zp,x)
1f69 : a003                     ldy #3
1f6b :                  tlday
                                set_stat 0
                       >            load_flag 0
1f6b : a904            >            lda #0|4
                       >
1f6d : 48              >            pha         ;use stack to load status
1f6e : 28              >            plp
                        
1f6f : b120                     lda (ind1),y
1f71 : 08                       php         ;test stores do not alter flags
1f72 : 49c3                     eor #$c3
1f74 : 28                       plp
1f75 : 993302                   sta abst,y
1f78 : 08                       php         ;flags after load/store sequence
1f79 : 49c3                     eor #$c3
1f7b : d90002                   cmp abs1,y  ;test result
1f7e : d0fe                     bne *       ;trap
1f80 : 68                       pla         ;load status
                                eor_flag 0
1f81 : 4934            >            eor #(0|$34)
                        
1f83 : d90502                   cmp fLDx,y  ;test flags
1f86 : d0fe                     bne *       ;trap
1f88 : 88                       dey
1f89 : 10e0                     bpl tlday
                        
1f8b : a003                     ldy #3
1f8d :                  tlday1
                                set_stat $ff
                       >            load_flag $ff
1f8d : a9ff            >            lda #$ff|4
                       >
1f8f : 48              >            pha         ;use stack to load status
1f90 : 28              >            plp
                        
1f91 : b120                     lda (ind1),y
1f93 : 08                       php         ;test stores do not alter flags
1f94 : 49c3                     eor #$c3
1f96 : 28                       plp
1f97 : 993302                   sta abst,y
1f9a : 08                       php         ;flags after load/store sequence
1f9b : 49c3                     eor #$c3
1f9d : d90002                   cmp abs1,y  ;test result
1fa0 : d0fe                     bne *       ;trap
1fa2 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1fa3 : 497d            >            eor #(lo~fnz |$34)
                        
1fa5 : d90502                   cmp fLDx,y  ;test flags
1fa8 : d0fe                     bne *       ;trap
1faa : 88                       dey
1fab : 10e0                     bpl tlday1
                        
1fad : a003                     ldy #3      ;testing store result
1faf : a200                     ldx #0
1fb1 : b93302           tstay   lda abst,y
1fb4 : 49c3                     eor #$c3
1fb6 : d90002                   cmp abs1,y
1fb9 : d0fe                     bne *       ;trap: store to abs data
1fbb : 8a                       txa
1fbc : 993302                   sta abst,y  ;clear
1fbf : 88                       dey
1fc0 : 10ef                     bpl tstay
                        
1fc2 : a003                     ldy #3
1fc4 :                  tlday2
                                set_stat 0
                       >            load_flag 0
1fc4 : a904            >            lda #0|4
                       >
1fc6 : 48              >            pha         ;use stack to load status
1fc7 : 28              >            plp
                        
1fc8 : b90002                   lda abs1,y
1fcb : 08                       php         ;test stores do not alter flags
1fcc : 49c3                     eor #$c3
1fce : 28                       plp
1fcf : 912c                     sta (indt),y
1fd1 : 08                       php         ;flags after load/store sequence
1fd2 : 49c3                     eor #$c3
1fd4 : d120                     cmp (ind1),y   ;test result
1fd6 : d0fe                     bne *       ;trap
1fd8 : 68                       pla         ;load status
                                eor_flag $30    ;always on bits
1fd9 : 4934            >            eor #($30    |$34)
                        
1fdb : d90502                   cmp fLDx,y  ;test flags
1fde : d0fe                     bne *       ;trap
1fe0 : 88                       dey
1fe1 : 10e1                     bpl tlday2
                        
1fe3 : a003                     ldy #3
1fe5 :                  tlday3
                                set_stat $ff
                       >            load_flag $ff
1fe5 : a9ff            >            lda #$ff|4
                       >
1fe7 : 48              >            pha         ;use stack to load status
1fe8 : 28              >            plp
                        
1fe9 : b90002                   lda abs1,y
1fec : 08                       php         ;test stores do not alter flags
1fed : 49c3                     eor #$c3
1fef : 28                       plp
1ff0 : 912c                     sta (indt),y
1ff2 : 08                       php         ;flags after load/store sequence
1ff3 : 49c3                     eor #$c3
1ff5 : d120                     cmp (ind1),y   ;test result
1ff7 : d0fe                     bne *       ;trap
1ff9 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
1ffa : 497d            >            eor #(lo~fnz |$34)
                        
1ffc : d90502                   cmp fLDx,y  ;test flags
1fff : d0fe                     bne *       ;trap
2001 : 88                       dey
2002 : 10e1                     bpl tlday3
                        
2004 : a003                     ldy #3      ;testing store result
2006 : a200                     ldx #0
2008 : b93302           tstay1  lda abst,y
200b : 49c3                     eor #$c3
200d : d90002                   cmp abs1,y
2010 : d0fe                     bne *       ;trap: store to abs data
2012 : 8a                       txa
2013 : 993302                   sta abst,y  ;clear
2016 : 88                       dey
2017 : 10ef                     bpl tstay1
                        
2019 : a206                     ldx #6
201b : a003                     ldy #3
201d :                  tldax4
                                set_stat 0
                       >            load_flag 0
201d : a904            >            lda #0|4
                       >
201f : 48              >            pha         ;use stack to load status
2020 : 28              >            plp
                        
2021 : a120                     lda (ind1,x)
2023 : 08                       php         ;test stores do not alter flags
2024 : 49c3                     eor #$c3
2026 : 28                       plp
2027 : 812c                     sta (indt,x)
2029 : 08                       php         ;flags after load/store sequence
202a : 49c3                     eor #$c3
202c : d90002                   cmp abs1,y  ;test result
202f : d0fe                     bne *       ;trap
2031 : 68                       pla         ;load status
                                eor_flag 0    ;always on bits
2032 : 4934            >            eor #(0    |$34)
                        
2034 : d90502                   cmp fLDx,y  ;test flags
2037 : d0fe                     bne *       ;trap
2039 : ca                       dex
203a : ca                       dex
203b : 88                       dey
203c : 10df                     bpl tldax4
                        
203e : a206                     ldx #6
2040 : a003                     ldy #3
2042 :                  tldax5
                                set_stat $ff
                       >            load_flag $ff
2042 : a9ff            >            lda #$ff|4
                       >
2044 : 48              >            pha         ;use stack to load status
2045 : 28              >            plp
                        
2046 : a120                     lda (ind1,x)
2048 : 08                       php         ;test stores do not alter flags
2049 : 49c3                     eor #$c3
204b : 28                       plp
204c : 812c                     sta (indt,x)
204e : 08                       php         ;flags after load/store sequence
204f : 49c3                     eor #$c3
2051 : d90002                   cmp abs1,y  ;test result
2054 : d0fe                     bne *       ;trap
2056 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2057 : 497d            >            eor #(lo~fnz |$34)
                        
2059 : d90502                   cmp fLDx,y  ;test flags
205c : d0fe                     bne *       ;trap
205e : ca                       dex
205f : ca                       dex
2060 : 88                       dey
2061 : 10df                     bpl tldax5
                        
2063 : a003                     ldy #3      ;testing store result
2065 : a200                     ldx #0
2067 : b93302           tstay2  lda abst,y
206a : 49c3                     eor #$c3
206c : d90002                   cmp abs1,y
206f : d0fe                     bne *       ;trap: store to abs data
2071 : 8a                       txa
2072 : 993302                   sta abst,y  ;clear
2075 : 88                       dey
2076 : 10ef                     bpl tstay2
                        
                        ; indexed wraparound test (only zp should wrap)
2078 : a2fd                     ldx #3+$fa
207a : b510             tldax6  lda zp1-$fa&$ff,x   ;wrap on indexed zp
207c : 9d3901                   sta abst-$fa,x      ;no STX abs,x!
207f : ca                       dex
2080 : e0fa                     cpx #$fa
2082 : b0f6                     bcs tldax6
2084 : a2fd                     ldx #3+$fa
2086 : bd0601           tldax7  lda abs1-$fa,x      ;no wrap on indexed abs
2089 : 9515                     sta zpt-$fa&$ff,x
208b : ca                       dex
208c : e0fa                     cpx #$fa
208e : b0f6                     bcs tldax7
                        
2090 : a203                     ldx #3      ;testing wraparound result
2092 : a000                     ldy #0
2094 : b50f             tstax1  lda zpt,x
2096 : d50a                     cmp zp1,x
2098 : d0fe                     bne *       ;trap: store to zp,x data
209a : 940f                     sty zpt,x   ;clear
209c : bd3302                   lda abst,x
209f : dd0002                   cmp abs1,x
20a2 : d0fe                     bne *       ;trap: store to abs,x data
20a4 : 8a                       txa
20a5 : 9d3302                   sta abst,x  ;clear
20a8 : ca                       dex
20a9 : 10e9                     bpl tstax1
                        
20ab : a0fb                     ldy #3+$f8
20ad : a2fe                     ldx #6+$f8
20af : a128             tlday4  lda (ind1-$f8&$ff,x) ;wrap on indexed zp indir
20b1 : 993b01                   sta abst-$f8,y
20b4 : ca                       dex
20b5 : ca                       dex
20b6 : 88                       dey
20b7 : c0f8                     cpy #$f8
20b9 : b0f4                     bcs tlday4
20bb : a003                     ldy #3      ;testing wraparound result
20bd : a200                     ldx #0
20bf : b93302           tstay4  lda abst,y
20c2 : d90002                   cmp abs1,y
20c5 : d0fe                     bne *       ;trap: store to abs data
20c7 : 8a                       txa
20c8 : 993302                   sta abst,y  ;clear
20cb : 88                       dey
20cc : 10f1                     bpl tstay4
                        
20ce : a0fb                     ldy #3+$f8
20d0 : b90801           tlday5  lda abs1-$f8,y  ;no wrap on indexed abs
20d3 : 9134                     sta (inwt),y
20d5 : 88                       dey
20d6 : c0f8                     cpy #$f8
20d8 : b0f6                     bcs tlday5
20da : a003                     ldy #3      ;testing wraparound result
20dc : a200                     ldx #0
20de : b93302           tstay5  lda abst,y
20e1 : d90002                   cmp abs1,y
20e4 : d0fe                     bne *       ;trap: store to abs data
20e6 : 8a                       txa
20e7 : 993302                   sta abst,y  ;clear
20ea : 88                       dey
20eb : 10f1                     bpl tstay5
                        
20ed : a0fb                     ldy #3+$f8
20ef : a2fe                     ldx #6+$f8
20f1 : b12a             tlday6  lda (inw1),y    ;no wrap on zp indirect indexe
20f3 : 8134                     sta (indt-$f8&$ff,x)
20f5 : ca                       dex
20f6 : ca                       dex
20f7 : 88                       dey
20f8 : c0f8                     cpy #$f8
20fa : b0f5                     bcs tlday6
20fc : a003                     ldy #3      ;testing wraparound result
20fe : a200                     ldx #0
2100 : b93302           tstay6  lda abst,y
2103 : d90002                   cmp abs1,y
2106 : d0fe                     bne *       ;trap: store to abs data
2108 : 8a                       txa
2109 : 993302                   sta abst,y  ;clear
210c : 88                       dey
210d : 10f1                     bpl tstay6
                        
                        ; LDA / STA - zp / abs / #
                                set_stat 0
                       >            load_flag 0
210f : a904            >            lda #0|4
                       >
2111 : 48              >            pha         ;use stack to load status
2112 : 28              >            plp
                        
2113 : a50a                     lda zp1
2115 : 08                       php         ;test stores do not alter flags
2116 : 49c3                     eor #$c3
2118 : 28                       plp
2119 : 8d3302                   sta abst
211c : 08                       php         ;flags after load/store sequence
211d : 49c3                     eor #$c3
211f : c9c3                     cmp #$c3    ;test result
2121 : d0fe                     bne *       ;trap
2123 : 68                       pla         ;load status
                                eor_flag 0
2124 : 4934            >            eor #(0|$34)
                        
2126 : cd0502                   cmp fLDx    ;test flags
2129 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
212b : a904            >            lda #0|4
                       >
212d : 48              >            pha         ;use stack to load status
212e : 28              >            plp
                        
212f : a50b                     lda zp1+1
2131 : 08                       php         ;test stores do not alter flags
2132 : 49c3                     eor #$c3
2134 : 28                       plp
2135 : 8d3402                   sta abst+1
2138 : 08                       php         ;flags after load/store sequence
2139 : 49c3                     eor #$c3
213b : c982                     cmp #$82    ;test result
213d : d0fe                     bne *       ;trap
213f : 68                       pla         ;load status
                                eor_flag 0
2140 : 4934            >            eor #(0|$34)
                        
2142 : cd0602                   cmp fLDx+1  ;test flags
2145 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
2147 : a904            >            lda #0|4
                       >
2149 : 48              >            pha         ;use stack to load status
214a : 28              >            plp
                        
214b : a50c                     lda zp1+2
214d : 08                       php         ;test stores do not alter flags
214e : 49c3                     eor #$c3
2150 : 28                       plp
2151 : 8d3502                   sta abst+2
2154 : 08                       php         ;flags after load/store sequence
2155 : 49c3                     eor #$c3
2157 : c941                     cmp #$41    ;test result
2159 : d0fe                     bne *       ;trap
215b : 68                       pla         ;load status
                                eor_flag 0
215c : 4934            >            eor #(0|$34)
                        
215e : cd0702                   cmp fLDx+2  ;test flags
2161 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
2163 : a904            >            lda #0|4
                       >
2165 : 48              >            pha         ;use stack to load status
2166 : 28              >            plp
                        
2167 : a50d                     lda zp1+3
2169 : 08                       php         ;test stores do not alter flags
216a : 49c3                     eor #$c3
216c : 28                       plp
216d : 8d3602                   sta abst+3
2170 : 08                       php         ;flags after load/store sequence
2171 : 49c3                     eor #$c3
2173 : c900                     cmp #0      ;test result
2175 : d0fe                     bne *       ;trap
2177 : 68                       pla         ;load status
                                eor_flag 0
2178 : 4934            >            eor #(0|$34)
                        
217a : cd0802                   cmp fLDx+3  ;test flags
217d : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
217f : a9ff            >            lda #$ff|4
                       >
2181 : 48              >            pha         ;use stack to load status
2182 : 28              >            plp
                        
2183 : a50a                     lda zp1
2185 : 08                       php         ;test stores do not alter flags
2186 : 49c3                     eor #$c3
2188 : 28                       plp
2189 : 8d3302                   sta abst
218c : 08                       php         ;flags after load/store sequence
218d : 49c3                     eor #$c3
218f : c9c3                     cmp #$c3    ;test result
2191 : d0fe                     bne *       ;trap
2193 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2194 : 497d            >            eor #(lo~fnz |$34)
                        
2196 : cd0502                   cmp fLDx    ;test flags
2199 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
219b : a9ff            >            lda #$ff|4
                       >
219d : 48              >            pha         ;use stack to load status
219e : 28              >            plp
                        
219f : a50b                     lda zp1+1
21a1 : 08                       php         ;test stores do not alter flags
21a2 : 49c3                     eor #$c3
21a4 : 28                       plp
21a5 : 8d3402                   sta abst+1
21a8 : 08                       php         ;flags after load/store sequence
21a9 : 49c3                     eor #$c3
21ab : c982                     cmp #$82    ;test result
21ad : d0fe                     bne *       ;trap
21af : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
21b0 : 497d            >            eor #(lo~fnz |$34)
                        
21b2 : cd0602                   cmp fLDx+1  ;test flags
21b5 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
21b7 : a9ff            >            lda #$ff|4
                       >
21b9 : 48              >            pha         ;use stack to load status
21ba : 28              >            plp
                        
21bb : a50c                     lda zp1+2
21bd : 08                       php         ;test stores do not alter flags
21be : 49c3                     eor #$c3
21c0 : 28                       plp
21c1 : 8d3502                   sta abst+2
21c4 : 08                       php         ;flags after load/store sequence
21c5 : 49c3                     eor #$c3
21c7 : c941                     cmp #$41    ;test result
21c9 : d0fe                     bne *       ;trap
21cb : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
21cc : 497d            >            eor #(lo~fnz |$34)
                        
21ce : cd0702                   cmp fLDx+2  ;test flags
21d1 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
21d3 : a9ff            >            lda #$ff|4
                       >
21d5 : 48              >            pha         ;use stack to load status
21d6 : 28              >            plp
                        
21d7 : a50d                     lda zp1+3
21d9 : 08                       php         ;test stores do not alter flags
21da : 49c3                     eor #$c3
21dc : 28                       plp
21dd : 8d3602                   sta abst+3
21e0 : 08                       php         ;flags after load/store sequence
21e1 : 49c3                     eor #$c3
21e3 : c900                     cmp #0      ;test result
21e5 : d0fe                     bne *       ;trap
21e7 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
21e8 : 497d            >            eor #(lo~fnz |$34)
                        
21ea : cd0802                   cmp fLDx+3  ;test flags
21ed : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
21ef : a904            >            lda #0|4
                       >
21f1 : 48              >            pha         ;use stack to load status
21f2 : 28              >            plp
                        
21f3 : ad0002                   lda abs1
21f6 : 08                       php         ;test stores do not alter flags
21f7 : 49c3                     eor #$c3
21f9 : 28                       plp
21fa : 850f                     sta zpt
21fc : 08                       php         ;flags after load/store sequence
21fd : 49c3                     eor #$c3
21ff : c50a                     cmp zp1     ;test result
2201 : d0fe                     bne *       ;trap
2203 : 68                       pla         ;load status
                                eor_flag 0
2204 : 4934            >            eor #(0|$34)
                        
2206 : cd0502                   cmp fLDx    ;test flags
2209 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
220b : a904            >            lda #0|4
                       >
220d : 48              >            pha         ;use stack to load status
220e : 28              >            plp
                        
220f : ad0102                   lda abs1+1
2212 : 08                       php         ;test stores do not alter flags
2213 : 49c3                     eor #$c3
2215 : 28                       plp
2216 : 8510                     sta zpt+1
2218 : 08                       php         ;flags after load/store sequence
2219 : 49c3                     eor #$c3
221b : c50b                     cmp zp1+1   ;test result
221d : d0fe                     bne *       ;trap
221f : 68                       pla         ;load status
                                eor_flag 0
2220 : 4934            >            eor #(0|$34)
                        
2222 : cd0602                   cmp fLDx+1  ;test flags
2225 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
2227 : a904            >            lda #0|4
                       >
2229 : 48              >            pha         ;use stack to load status
222a : 28              >            plp
                        
222b : ad0202                   lda abs1+2
222e : 08                       php         ;test stores do not alter flags
222f : 49c3                     eor #$c3
2231 : 28                       plp
2232 : 8511                     sta zpt+2
2234 : 08                       php         ;flags after load/store sequence
2235 : 49c3                     eor #$c3
2237 : c50c                     cmp zp1+2   ;test result
2239 : d0fe                     bne *       ;trap
223b : 68                       pla         ;load status
                                eor_flag 0
223c : 4934            >            eor #(0|$34)
                        
223e : cd0702                   cmp fLDx+2  ;test flags
2241 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
2243 : a904            >            lda #0|4
                       >
2245 : 48              >            pha         ;use stack to load status
2246 : 28              >            plp
                        
2247 : ad0302                   lda abs1+3
224a : 08                       php         ;test stores do not alter flags
224b : 49c3                     eor #$c3
224d : 28                       plp
224e : 8512                     sta zpt+3
2250 : 08                       php         ;flags after load/store sequence
2251 : 49c3                     eor #$c3
2253 : c50d                     cmp zp1+3   ;test result
2255 : d0fe                     bne *       ;trap
2257 : 68                       pla         ;load status
                                eor_flag 0
2258 : 4934            >            eor #(0|$34)
                        
225a : cd0802                   cmp fLDx+3  ;test flags
225d : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
225f : a9ff            >            lda #$ff|4
                       >
2261 : 48              >            pha         ;use stack to load status
2262 : 28              >            plp
                        
2263 : ad0002                   lda abs1
2266 : 08                       php         ;test stores do not alter flags
2267 : 49c3                     eor #$c3
2269 : 28                       plp
226a : 850f                     sta zpt
226c : 08                       php         ;flags after load/store sequence
226d : 49c3                     eor #$c3
226f : c50a                     cmp zp1     ;test result
2271 : d0fe                     bne *       ;trap
2273 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2274 : 497d            >            eor #(lo~fnz |$34)
                        
2276 : cd0502                   cmp fLDx    ;test flags
2279 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
227b : a9ff            >            lda #$ff|4
                       >
227d : 48              >            pha         ;use stack to load status
227e : 28              >            plp
                        
227f : ad0102                   lda abs1+1
2282 : 08                       php         ;test stores do not alter flags
2283 : 49c3                     eor #$c3
2285 : 28                       plp
2286 : 8510                     sta zpt+1
2288 : 08                       php         ;flags after load/store sequence
2289 : 49c3                     eor #$c3
228b : c50b                     cmp zp1+1   ;test result
228d : d0fe                     bne *       ;trap
228f : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2290 : 497d            >            eor #(lo~fnz |$34)
                        
2292 : cd0602                   cmp fLDx+1  ;test flags
2295 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
2297 : a9ff            >            lda #$ff|4
                       >
2299 : 48              >            pha         ;use stack to load status
229a : 28              >            plp
                        
229b : ad0202                   lda abs1+2
229e : 08                       php         ;test stores do not alter flags
229f : 49c3                     eor #$c3
22a1 : 28                       plp
22a2 : 8511                     sta zpt+2
22a4 : 08                       php         ;flags after load/store sequence
22a5 : 49c3                     eor #$c3
22a7 : c50c                     cmp zp1+2   ;test result
22a9 : d0fe                     bne *       ;trap
22ab : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
22ac : 497d            >            eor #(lo~fnz |$34)
                        
22ae : cd0702                   cmp fLDx+2  ;test flags
22b1 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
22b3 : a9ff            >            lda #$ff|4
                       >
22b5 : 48              >            pha         ;use stack to load status
22b6 : 28              >            plp
                        
22b7 : ad0302                   lda abs1+3
22ba : 08                       php         ;test stores do not alter flags
22bb : 49c3                     eor #$c3
22bd : 28                       plp
22be : 8512                     sta zpt+3
22c0 : 08                       php         ;flags after load/store sequence
22c1 : 49c3                     eor #$c3
22c3 : c50d                     cmp zp1+3   ;test result
22c5 : d0fe                     bne *       ;trap
22c7 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
22c8 : 497d            >            eor #(lo~fnz |$34)
                        
22ca : cd0802                   cmp fLDx+3  ;test flags
22cd : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
22cf : a904            >            lda #0|4
                       >
22d1 : 48              >            pha         ;use stack to load status
22d2 : 28              >            plp
                        
22d3 : a9c3                     lda #$c3
22d5 : 08                       php
22d6 : cd0002                   cmp abs1    ;test result
22d9 : d0fe                     bne *       ;trap
22db : 68                       pla         ;load status
                                eor_flag 0
22dc : 4934            >            eor #(0|$34)
                        
22de : cd0502                   cmp fLDx    ;test flags
22e1 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
22e3 : a904            >            lda #0|4
                       >
22e5 : 48              >            pha         ;use stack to load status
22e6 : 28              >            plp
                        
22e7 : a982                     lda #$82
22e9 : 08                       php
22ea : cd0102                   cmp abs1+1  ;test result
22ed : d0fe                     bne *       ;trap
22ef : 68                       pla         ;load status
                                eor_flag 0
22f0 : 4934            >            eor #(0|$34)
                        
22f2 : cd0602                   cmp fLDx+1  ;test flags
22f5 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
22f7 : a904            >            lda #0|4
                       >
22f9 : 48              >            pha         ;use stack to load status
22fa : 28              >            plp
                        
22fb : a941                     lda #$41
22fd : 08                       php
22fe : cd0202                   cmp abs1+2  ;test result
2301 : d0fe                     bne *       ;trap
2303 : 68                       pla         ;load status
                                eor_flag 0
2304 : 4934            >            eor #(0|$34)
                        
2306 : cd0702                   cmp fLDx+2  ;test flags
2309 : d0fe                     bne *       ;trap
                                set_stat 0
                       >            load_flag 0
230b : a904            >            lda #0|4
                       >
230d : 48              >            pha         ;use stack to load status
230e : 28              >            plp
                        
230f : a900                     lda #0
2311 : 08                       php
2312 : cd0302                   cmp abs1+3  ;test result
2315 : d0fe                     bne *       ;trap
2317 : 68                       pla         ;load status
                                eor_flag 0
2318 : 4934            >            eor #(0|$34)
                        
231a : cd0802                   cmp fLDx+3  ;test flags
231d : d0fe                     bne *       ;trap
                        
                                set_stat $ff
                       >            load_flag $ff
231f : a9ff            >            lda #$ff|4
                       >
2321 : 48              >            pha         ;use stack to load status
2322 : 28              >            plp
                        
2323 : a9c3                     lda #$c3
2325 : 08                       php
2326 : cd0002                   cmp abs1    ;test result
2329 : d0fe                     bne *       ;trap
232b : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
232c : 497d            >            eor #(lo~fnz |$34)
                        
232e : cd0502                   cmp fLDx    ;test flags
2331 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
2333 : a9ff            >            lda #$ff|4
                       >
2335 : 48              >            pha         ;use stack to load status
2336 : 28              >            plp
                        
2337 : a982                     lda #$82
2339 : 08                       php
233a : cd0102                   cmp abs1+1  ;test result
233d : d0fe                     bne *       ;trap
233f : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2340 : 497d            >            eor #(lo~fnz |$34)
                        
2342 : cd0602                   cmp fLDx+1  ;test flags
2345 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
2347 : a9ff            >            lda #$ff|4
                       >
2349 : 48              >            pha         ;use stack to load status
234a : 28              >            plp
                        
234b : a941                     lda #$41
234d : 08                       php
234e : cd0202                   cmp abs1+2  ;test result
2351 : d0fe                     bne *       ;trap
2353 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2354 : 497d            >            eor #(lo~fnz |$34)
                        
2356 : cd0702                   cmp fLDx+2  ;test flags
2359 : d0fe                     bne *       ;trap
                                set_stat $ff
                       >            load_flag $ff
235b : a9ff            >            lda #$ff|4
                       >
235d : 48              >            pha         ;use stack to load status
235e : 28              >            plp
                        
235f : a900                     lda #0
2361 : 08                       php
2362 : cd0302                   cmp abs1+3  ;test result
2365 : d0fe                     bne *       ;trap
2367 : 68                       pla         ;load status
                                eor_flag lo~fnz ;mask bits not altered
2368 : 497d            >            eor #(lo~fnz |$34)
                        
236a : cd0802                   cmp fLDx+3  ;test flags
236d : d0fe                     bne *       ;trap
                        
236f : a200                     ldx #0
2371 : a50f                     lda zpt
2373 : 49c3                     eor #$c3
2375 : c50a                     cmp zp1
2377 : d0fe                     bne *       ;trap: store to zp data
2379 : 860f                     stx zpt     ;clear
237b : ad3302                   lda abst
237e : 49c3                     eor #$c3
2380 : cd0002                   cmp abs1
2383 : d0fe                     bne *       ;trap: store to abs data
2385 : 8e3302                   stx abst    ;clear
2388 : a510                     lda zpt+1
238a : 49c3                     eor #$c3
238c : c50b                     cmp zp1+1
238e : d0fe                     bne *       ;trap: store to zp data
2390 : 8610                     stx zpt+1   ;clear
2392 : ad3402                   lda abst+1
2395 : 49c3                     eor #$c3
2397 : cd0102                   cmp abs1+1
239a : d0fe                     bne *       ;trap: store to abs data
239c : 8e3402                   stx abst+1  ;clear
239f : a511                     lda zpt+2
23a1 : 49c3                     eor #$c3
23a3 : c50c                     cmp zp1+2
23a5 : d0fe                     bne *       ;trap: store to zp data
23a7 : 8611                     stx zpt+2   ;clear
23a9 : ad3502                   lda abst+2
23ac : 49c3                     eor #$c3
23ae : cd0202                   cmp abs1+2
23b1 : d0fe                     bne *       ;trap: store to abs data
23b3 : 8e3502                   stx abst+2  ;clear
23b6 : a512                     lda zpt+3
23b8 : 49c3                     eor #$c3
23ba : c50d                     cmp zp1+3
23bc : d0fe                     bne *       ;trap: store to zp data
23be : 8612                     stx zpt+3   ;clear
23c0 : ad3602                   lda abst+3
23c3 : 49c3                     eor #$c3
23c5 : cd0302                   cmp abs1+3
23c8 : d0fe                     bne *       ;trap: store to abs data
23ca : 8e3602                   stx abst+3  ;clear
                        
                        ; testing bit test & compares BIT CPX CPY CMP all addr
                        ; BIT - zp / abs
                                set_a $ff,0
                       >            load_flag 0
23cd : a904            >            lda #0|4
                       >
23cf : 48              >            pha         ;use stack to load status
23d0 : a9ff            >            lda #$ff     ;precharge accu
23d2 : 28              >            plp
                        
23d3 : 240d                     bit zp1+3   ;00 - should set Z / clear  NV
                                tst_a $ff,fz
23d5 : 08              >            php         ;save flags
23d6 : 08              >            php
23d7 : c9ff            >            cmp #$ff     ;test result
23d9 : d0fe            >            bne *       ;trap
23db : 68              >            pla         ;load status
                       >            cmp_flag fz
23dc : c936            >            cmp #(fz|$34)&$ff
                       >
23de : d0fe            >            bne *       ;trap
23e0 : 28              >            plp         ;restore status
                        
                                set_a 1,0
                       >            load_flag 0
23e1 : a904            >            lda #0|4
                       >
23e3 : 48              >            pha         ;use stack to load status
23e4 : a901            >            lda #1     ;precharge accu
23e6 : 28              >            plp
                        
23e7 : 240c                     bit zp1+2   ;41 - should set V (M6) / clear NZ
                                tst_a 1,fv
23e9 : 08              >            php         ;save flags
23ea : 08              >            php
23eb : c901            >            cmp #1     ;test result
23ed : d0fe            >            bne *       ;trap
23ef : 68              >            pla         ;load status
                       >            cmp_flag fv
23f0 : c974            >            cmp #(fv|$34)&$ff
                       >
23f2 : d0fe            >            bne *       ;trap
23f4 : 28              >            plp         ;restore status
                        
                                set_a 1,0
                       >            load_flag 0
23f5 : a904            >            lda #0|4
                       >
23f7 : 48              >            pha         ;use stack to load status
23f8 : a901            >            lda #1     ;precharge accu
23fa : 28              >            plp
                        
23fb : 240b                     bit zp1+1   ;82 - should set N (M7) & Z / clea
                                tst_a 1,fnz
23fd : 08              >            php         ;save flags
23fe : 08              >            php
23ff : c901            >            cmp #1     ;test result
2401 : d0fe            >            bne *       ;trap
2403 : 68              >            pla         ;load status
                       >            cmp_flag fnz
2404 : c9b6            >            cmp #(fnz|$34)&$ff
                       >
2406 : d0fe            >            bne *       ;trap
2408 : 28              >            plp         ;restore status
                        
                                set_a 1,0
                       >            load_flag 0
2409 : a904            >            lda #0|4
                       >
240b : 48              >            pha         ;use stack to load status
240c : a901            >            lda #1     ;precharge accu
240e : 28              >            plp
                        
240f : 240a                     bit zp1     ;c3 - should set N (M7) & V (M6) /
                                tst_a 1,fnv
2411 : 08              >            php         ;save flags
2412 : 08              >            php
2413 : c901            >            cmp #1     ;test result
2415 : d0fe            >            bne *       ;trap
2417 : 68              >            pla         ;load status
                       >            cmp_flag fnv
2418 : c9f4            >            cmp #(fnv|$34)&$ff
                       >
241a : d0fe            >            bne *       ;trap
241c : 28              >            plp         ;restore status
                        
                        
                                set_a $ff,$ff
                       >            load_flag $ff
241d : a9ff            >            lda #$ff|4
                       >
241f : 48              >            pha         ;use stack to load status
2420 : a9ff            >            lda #$ff     ;precharge accu
2422 : 28              >            plp
                        
2423 : 240d                     bit zp1+3   ;00 - should set Z / clear  NV
                                tst_a $ff,~fnv
2425 : 08              >            php         ;save flags
2426 : 08              >            php
2427 : c9ff            >            cmp #$ff     ;test result
2429 : d0fe            >            bne *       ;trap
242b : 68              >            pla         ;load status
                       >            cmp_flag ~fnv
242c : c93f            >            cmp #(~fnv|$34)&$ff
                       >
242e : d0fe            >            bne *       ;trap
2430 : 28              >            plp         ;restore status
                        
                                set_a 1,$ff
                       >            load_flag $ff
2431 : a9ff            >            lda #$ff|4
                       >
2433 : 48              >            pha         ;use stack to load status
2434 : a901            >            lda #1     ;precharge accu
2436 : 28              >            plp
                        
2437 : 240c                     bit zp1+2   ;41 - should set V (M6) / clear NZ
                                tst_a 1,~fnz
2439 : 08              >            php         ;save flags
243a : 08              >            php
243b : c901            >            cmp #1     ;test result
243d : d0fe            >            bne *       ;trap
243f : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
2440 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
2442 : d0fe            >            bne *       ;trap
2444 : 28              >            plp         ;restore status
                        
                                set_a 1,$ff
                       >            load_flag $ff
2445 : a9ff            >            lda #$ff|4
                       >
2447 : 48              >            pha         ;use stack to load status
2448 : a901            >            lda #1     ;precharge accu
244a : 28              >            plp
                        
244b : 240b                     bit zp1+1   ;82 - should set N (M7) & Z / clea
                                tst_a 1,~fv
244d : 08              >            php         ;save flags
244e : 08              >            php
244f : c901            >            cmp #1     ;test result
2451 : d0fe            >            bne *       ;trap
2453 : 68              >            pla         ;load status
                       >            cmp_flag ~fv
2454 : c9bf            >            cmp #(~fv|$34)&$ff
                       >
2456 : d0fe            >            bne *       ;trap
2458 : 28              >            plp         ;restore status
                        
                                set_a 1,$ff
                       >            load_flag $ff
2459 : a9ff            >            lda #$ff|4
                       >
245b : 48              >            pha         ;use stack to load status
245c : a901            >            lda #1     ;precharge accu
245e : 28              >            plp
                        
245f : 240a                     bit zp1     ;c3 - should set N (M7) & V (M6) /
                                tst_a 1,~fz
2461 : 08              >            php         ;save flags
2462 : 08              >            php
2463 : c901            >            cmp #1     ;test result
2465 : d0fe            >            bne *       ;trap
2467 : 68              >            pla         ;load status
                       >            cmp_flag ~fz
2468 : c9fd            >            cmp #(~fz|$34)&$ff
                       >
246a : d0fe            >            bne *       ;trap
246c : 28              >            plp         ;restore status
                        
                        
                                set_a $ff,0
                       >            load_flag 0
246d : a904            >            lda #0|4
                       >
246f : 48              >            pha         ;use stack to load status
2470 : a9ff            >            lda #$ff     ;precharge accu
2472 : 28              >            plp
                        
2473 : 2c0302                   bit abs1+3  ;00 - should set Z / clear  NV
                                tst_a $ff,fz
2476 : 08              >            php         ;save flags
2477 : 08              >            php
2478 : c9ff            >            cmp #$ff     ;test result
247a : d0fe            >            bne *       ;trap
247c : 68              >            pla         ;load status
                       >            cmp_flag fz
247d : c936            >            cmp #(fz|$34)&$ff
                       >
247f : d0fe            >            bne *       ;trap
2481 : 28              >            plp         ;restore status
                        
                                set_a 1,0
                       >            load_flag 0
2482 : a904            >            lda #0|4
                       >
2484 : 48              >            pha         ;use stack to load status
2485 : a901            >            lda #1     ;precharge accu
2487 : 28              >            plp
                        
2488 : 2c0202                   bit abs1+2  ;41 - should set V (M6) / clear NZ
                                tst_a 1,fv
248b : 08              >            php         ;save flags
248c : 08              >            php
248d : c901            >            cmp #1     ;test result
248f : d0fe            >            bne *       ;trap
2491 : 68              >            pla         ;load status
                       >            cmp_flag fv
2492 : c974            >            cmp #(fv|$34)&$ff
                       >
2494 : d0fe            >            bne *       ;trap
2496 : 28              >            plp         ;restore status
                        
                                set_a 1,0
                       >            load_flag 0
2497 : a904            >            lda #0|4
                       >
2499 : 48              >            pha         ;use stack to load status
249a : a901            >            lda #1     ;precharge accu
249c : 28              >            plp
                        
249d : 2c0102                   bit abs1+1  ;82 - should set N (M7) & Z / clea
                                tst_a 1,fnz
24a0 : 08              >            php         ;save flags
24a1 : 08              >            php
24a2 : c901            >            cmp #1     ;test result
24a4 : d0fe            >            bne *       ;trap
24a6 : 68              >            pla         ;load status
                       >            cmp_flag fnz
24a7 : c9b6            >            cmp #(fnz|$34)&$ff
                       >
24a9 : d0fe            >            bne *       ;trap
24ab : 28              >            plp         ;restore status
                        
                                set_a 1,0
                       >            load_flag 0
24ac : a904            >            lda #0|4
                       >
24ae : 48              >            pha         ;use stack to load status
24af : a901            >            lda #1     ;precharge accu
24b1 : 28              >            plp
                        
24b2 : 2c0002                   bit abs1    ;c3 - should set N (M7) & V (M6) /
                                tst_a 1,fnv
24b5 : 08              >            php         ;save flags
24b6 : 08              >            php
24b7 : c901            >            cmp #1     ;test result
24b9 : d0fe            >            bne *       ;trap
24bb : 68              >            pla         ;load status
                       >            cmp_flag fnv
24bc : c9f4            >            cmp #(fnv|$34)&$ff
                       >
24be : d0fe            >            bne *       ;trap
24c0 : 28              >            plp         ;restore status
                        
                        
                                set_a $ff,$ff
                       >            load_flag $ff
24c1 : a9ff            >            lda #$ff|4
                       >
24c3 : 48              >            pha         ;use stack to load status
24c4 : a9ff            >            lda #$ff     ;precharge accu
24c6 : 28              >            plp
                        
24c7 : 2c0302                   bit abs1+3  ;00 - should set Z / clear  NV
                                tst_a $ff,~fnv
24ca : 08              >            php         ;save flags
24cb : 08              >            php
24cc : c9ff            >            cmp #$ff     ;test result
24ce : d0fe            >            bne *       ;trap
24d0 : 68              >            pla         ;load status
                       >            cmp_flag ~fnv
24d1 : c93f            >            cmp #(~fnv|$34)&$ff
                       >
24d3 : d0fe            >            bne *       ;trap
24d5 : 28              >            plp         ;restore status
                        
                                set_a 1,$ff
                       >            load_flag $ff
24d6 : a9ff            >            lda #$ff|4
                       >
24d8 : 48              >            pha         ;use stack to load status
24d9 : a901            >            lda #1     ;precharge accu
24db : 28              >            plp
                        
24dc : 2c0202                   bit abs1+2  ;41 - should set V (M6) / clear NZ
                                tst_a 1,~fnz
24df : 08              >            php         ;save flags
24e0 : 08              >            php
24e1 : c901            >            cmp #1     ;test result
24e3 : d0fe            >            bne *       ;trap
24e5 : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
24e6 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
24e8 : d0fe            >            bne *       ;trap
24ea : 28              >            plp         ;restore status
                        
                                set_a 1,$ff
                       >            load_flag $ff
24eb : a9ff            >            lda #$ff|4
                       >
24ed : 48              >            pha         ;use stack to load status
24ee : a901            >            lda #1     ;precharge accu
24f0 : 28              >            plp
                        
24f1 : 2c0102                   bit abs1+1  ;82 - should set N (M7) & Z / clea
                                tst_a 1,~fv
24f4 : 08              >            php         ;save flags
24f5 : 08              >            php
24f6 : c901            >            cmp #1     ;test result
24f8 : d0fe            >            bne *       ;trap
24fa : 68              >            pla         ;load status
                       >            cmp_flag ~fv
24fb : c9bf            >            cmp #(~fv|$34)&$ff
                       >
24fd : d0fe            >            bne *       ;trap
24ff : 28              >            plp         ;restore status
                        
                                set_a 1,$ff
                       >            load_flag $ff
2500 : a9ff            >            lda #$ff|4
                       >
2502 : 48              >            pha         ;use stack to load status
2503 : a901            >            lda #1     ;precharge accu
2505 : 28              >            plp
                        
2506 : 2c0002                   bit abs1    ;c3 - should set N (M7) & V (M6) /
                                tst_a 1,~fz
2509 : 08              >            php         ;save flags
250a : 08              >            php
250b : c901            >            cmp #1     ;test result
250d : d0fe            >            bne *       ;trap
250f : 68              >            pla         ;load status
                       >            cmp_flag ~fz
2510 : c9fd            >            cmp #(~fz|$34)&$ff
                       >
2512 : d0fe            >            bne *       ;trap
2514 : 28              >            plp         ;restore status
                        
                        
                        ; CPX - zp / abs / #
                                set_x $80,0
                       >            load_flag 0
2515 : a904            >            lda #0|4
                       >
2517 : 48              >            pha         ;use stack to load status
2518 : a280            >            ldx #$80     ;precharge accu
251a : 28              >            plp
                        
251b : e40e                     cpx zp7f
                                tst_stat fc
251d : 08              >            php         ;save status
251e : 08              >            php         ;use stack to retrieve status
251f : 68              >            pla
                       >            cmp_flag fc
2520 : c935            >            cmp #(fc|$34)&$ff
                       >
2522 : d0fe            >            bne *       ;trap
2524 : 28              >            plp         ;restore status
                        
2525 : ca                       dex
2526 : e40e                     cpx zp7f
                                tst_stat fzc
2528 : 08              >            php         ;save status
2529 : 08              >            php         ;use stack to retrieve status
252a : 68              >            pla
                       >            cmp_flag fzc
252b : c937            >            cmp #(fzc|$34)&$ff
                       >
252d : d0fe            >            bne *       ;trap
252f : 28              >            plp         ;restore status
                        
2530 : ca                       dex
2531 : e40e                     cpx zp7f
                                tst_x $7e,fn
2533 : 08              >            php         ;save flags
2534 : 08              >            php
2535 : e07e            >            cpx #$7e     ;test result
2537 : d0fe            >            bne *       ;trap
2539 : 68              >            pla         ;load status
                       >            cmp_flag fn
253a : c9b4            >            cmp #(fn|$34)&$ff
                       >
253c : d0fe            >            bne *       ;trap
253e : 28              >            plp         ;restore status
                        
                                set_x $80,$ff
                       >            load_flag $ff
253f : a9ff            >            lda #$ff|4
                       >
2541 : 48              >            pha         ;use stack to load status
2542 : a280            >            ldx #$80     ;precharge accu
2544 : 28              >            plp
                        
2545 : e40e                     cpx zp7f
                                tst_stat ~fnz
2547 : 08              >            php         ;save status
2548 : 08              >            php         ;use stack to retrieve status
2549 : 68              >            pla
                       >            cmp_flag ~fnz
254a : c97d            >            cmp #(~fnz|$34)&$ff
                       >
254c : d0fe            >            bne *       ;trap
254e : 28              >            plp         ;restore status
                        
254f : ca                       dex
2550 : e40e                     cpx zp7f
                                tst_stat ~fn
2552 : 08              >            php         ;save status
2553 : 08              >            php         ;use stack to retrieve status
2554 : 68              >            pla
                       >            cmp_flag ~fn
2555 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2557 : d0fe            >            bne *       ;trap
2559 : 28              >            plp         ;restore status
                        
255a : ca                       dex
255b : e40e                     cpx zp7f
                                tst_x $7e,~fzc
255d : 08              >            php         ;save flags
255e : 08              >            php
255f : e07e            >            cpx #$7e     ;test result
2561 : d0fe            >            bne *       ;trap
2563 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2564 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2566 : d0fe            >            bne *       ;trap
2568 : 28              >            plp         ;restore status
                        
                        
                                set_x $80,0
                       >            load_flag 0
2569 : a904            >            lda #0|4
                       >
256b : 48              >            pha         ;use stack to load status
256c : a280            >            ldx #$80     ;precharge accu
256e : 28              >            plp
                        
256f : ec0402                   cpx abs7f
                                tst_stat fc
2572 : 08              >            php         ;save status
2573 : 08              >            php         ;use stack to retrieve status
2574 : 68              >            pla
                       >            cmp_flag fc
2575 : c935            >            cmp #(fc|$34)&$ff
                       >
2577 : d0fe            >            bne *       ;trap
2579 : 28              >            plp         ;restore status
                        
257a : ca                       dex
257b : ec0402                   cpx abs7f
                                tst_stat fzc
257e : 08              >            php         ;save status
257f : 08              >            php         ;use stack to retrieve status
2580 : 68              >            pla
                       >            cmp_flag fzc
2581 : c937            >            cmp #(fzc|$34)&$ff
                       >
2583 : d0fe            >            bne *       ;trap
2585 : 28              >            plp         ;restore status
                        
2586 : ca                       dex
2587 : ec0402                   cpx abs7f
                                tst_x $7e,fn
258a : 08              >            php         ;save flags
258b : 08              >            php
258c : e07e            >            cpx #$7e     ;test result
258e : d0fe            >            bne *       ;trap
2590 : 68              >            pla         ;load status
                       >            cmp_flag fn
2591 : c9b4            >            cmp #(fn|$34)&$ff
                       >
2593 : d0fe            >            bne *       ;trap
2595 : 28              >            plp         ;restore status
                        
                                set_x $80,$ff
                       >            load_flag $ff
2596 : a9ff            >            lda #$ff|4
                       >
2598 : 48              >            pha         ;use stack to load status
2599 : a280            >            ldx #$80     ;precharge accu
259b : 28              >            plp
                        
259c : ec0402                   cpx abs7f
                                tst_stat ~fnz
259f : 08              >            php         ;save status
25a0 : 08              >            php         ;use stack to retrieve status
25a1 : 68              >            pla
                       >            cmp_flag ~fnz
25a2 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
25a4 : d0fe            >            bne *       ;trap
25a6 : 28              >            plp         ;restore status
                        
25a7 : ca                       dex
25a8 : ec0402                   cpx abs7f
                                tst_stat ~fn
25ab : 08              >            php         ;save status
25ac : 08              >            php         ;use stack to retrieve status
25ad : 68              >            pla
                       >            cmp_flag ~fn
25ae : c97f            >            cmp #(~fn|$34)&$ff
                       >
25b0 : d0fe            >            bne *       ;trap
25b2 : 28              >            plp         ;restore status
                        
25b3 : ca                       dex
25b4 : ec0402                   cpx abs7f
                                tst_x $7e,~fzc
25b7 : 08              >            php         ;save flags
25b8 : 08              >            php
25b9 : e07e            >            cpx #$7e     ;test result
25bb : d0fe            >            bne *       ;trap
25bd : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
25be : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
25c0 : d0fe            >            bne *       ;trap
25c2 : 28              >            plp         ;restore status
                        
                        
                                set_x $80,0
                       >            load_flag 0
25c3 : a904            >            lda #0|4
                       >
25c5 : 48              >            pha         ;use stack to load status
25c6 : a280            >            ldx #$80     ;precharge accu
25c8 : 28              >            plp
                        
25c9 : e07f                     cpx #$7f
                                tst_stat fc
25cb : 08              >            php         ;save status
25cc : 08              >            php         ;use stack to retrieve status
25cd : 68              >            pla
                       >            cmp_flag fc
25ce : c935            >            cmp #(fc|$34)&$ff
                       >
25d0 : d0fe            >            bne *       ;trap
25d2 : 28              >            plp         ;restore status
                        
25d3 : ca                       dex
25d4 : e07f                     cpx #$7f
                                tst_stat fzc
25d6 : 08              >            php         ;save status
25d7 : 08              >            php         ;use stack to retrieve status
25d8 : 68              >            pla
                       >            cmp_flag fzc
25d9 : c937            >            cmp #(fzc|$34)&$ff
                       >
25db : d0fe            >            bne *       ;trap
25dd : 28              >            plp         ;restore status
                        
25de : ca                       dex
25df : e07f                     cpx #$7f
                                tst_x $7e,fn
25e1 : 08              >            php         ;save flags
25e2 : 08              >            php
25e3 : e07e            >            cpx #$7e     ;test result
25e5 : d0fe            >            bne *       ;trap
25e7 : 68              >            pla         ;load status
                       >            cmp_flag fn
25e8 : c9b4            >            cmp #(fn|$34)&$ff
                       >
25ea : d0fe            >            bne *       ;trap
25ec : 28              >            plp         ;restore status
                        
                                set_x $80,$ff
                       >            load_flag $ff
25ed : a9ff            >            lda #$ff|4
                       >
25ef : 48              >            pha         ;use stack to load status
25f0 : a280            >            ldx #$80     ;precharge accu
25f2 : 28              >            plp
                        
25f3 : e07f                     cpx #$7f
                                tst_stat ~fnz
25f5 : 08              >            php         ;save status
25f6 : 08              >            php         ;use stack to retrieve status
25f7 : 68              >            pla
                       >            cmp_flag ~fnz
25f8 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
25fa : d0fe            >            bne *       ;trap
25fc : 28              >            plp         ;restore status
                        
25fd : ca                       dex
25fe : e07f                     cpx #$7f
                                tst_stat ~fn
2600 : 08              >            php         ;save status
2601 : 08              >            php         ;use stack to retrieve status
2602 : 68              >            pla
                       >            cmp_flag ~fn
2603 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2605 : d0fe            >            bne *       ;trap
2607 : 28              >            plp         ;restore status
                        
2608 : ca                       dex
2609 : e07f                     cpx #$7f
                                tst_x $7e,~fzc
260b : 08              >            php         ;save flags
260c : 08              >            php
260d : e07e            >            cpx #$7e     ;test result
260f : d0fe            >            bne *       ;trap
2611 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2612 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2614 : d0fe            >            bne *       ;trap
2616 : 28              >            plp         ;restore status
                        
                        
                        ; CPY - zp / abs / #
                                set_y $80,0
                       >            load_flag 0
2617 : a904            >            lda #0|4
                       >
2619 : 48              >            pha         ;use stack to load status
261a : a080            >            ldy #$80     ;precharge accu
261c : 28              >            plp
                        
261d : c40e                     cpy zp7f
                                tst_stat fc
261f : 08              >            php         ;save status
2620 : 08              >            php         ;use stack to retrieve status
2621 : 68              >            pla
                       >            cmp_flag fc
2622 : c935            >            cmp #(fc|$34)&$ff
                       >
2624 : d0fe            >            bne *       ;trap
2626 : 28              >            plp         ;restore status
                        
2627 : 88                       dey
2628 : c40e                     cpy zp7f
                                tst_stat fzc
262a : 08              >            php         ;save status
262b : 08              >            php         ;use stack to retrieve status
262c : 68              >            pla
                       >            cmp_flag fzc
262d : c937            >            cmp #(fzc|$34)&$ff
                       >
262f : d0fe            >            bne *       ;trap
2631 : 28              >            plp         ;restore status
                        
2632 : 88                       dey
2633 : c40e                     cpy zp7f
                                tst_y $7e,fn
2635 : 08              >            php         ;save flags
2636 : 08              >            php
2637 : c07e            >            cpy #$7e     ;test result
2639 : d0fe            >            bne *       ;trap
263b : 68              >            pla         ;load status
                       >            cmp_flag fn
263c : c9b4            >            cmp #(fn|$34)&$ff
                       >
263e : d0fe            >            bne *       ;trap
2640 : 28              >            plp         ;restore status
                        
                                set_y $80,$ff
                       >            load_flag $ff
2641 : a9ff            >            lda #$ff|4
                       >
2643 : 48              >            pha         ;use stack to load status
2644 : a080            >            ldy #$80     ;precharge accu
2646 : 28              >            plp
                        
2647 : c40e                     cpy zp7f
                                tst_stat ~fnz
2649 : 08              >            php         ;save status
264a : 08              >            php         ;use stack to retrieve status
264b : 68              >            pla
                       >            cmp_flag ~fnz
264c : c97d            >            cmp #(~fnz|$34)&$ff
                       >
264e : d0fe            >            bne *       ;trap
2650 : 28              >            plp         ;restore status
                        
2651 : 88                       dey
2652 : c40e                     cpy zp7f
                                tst_stat ~fn
2654 : 08              >            php         ;save status
2655 : 08              >            php         ;use stack to retrieve status
2656 : 68              >            pla
                       >            cmp_flag ~fn
2657 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2659 : d0fe            >            bne *       ;trap
265b : 28              >            plp         ;restore status
                        
265c : 88                       dey
265d : c40e                     cpy zp7f
                                tst_y $7e,~fzc
265f : 08              >            php         ;save flags
2660 : 08              >            php
2661 : c07e            >            cpy #$7e     ;test result
2663 : d0fe            >            bne *       ;trap
2665 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2666 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2668 : d0fe            >            bne *       ;trap
266a : 28              >            plp         ;restore status
                        
                        
                                set_y $80,0
                       >            load_flag 0
266b : a904            >            lda #0|4
                       >
266d : 48              >            pha         ;use stack to load status
266e : a080            >            ldy #$80     ;precharge accu
2670 : 28              >            plp
                        
2671 : cc0402                   cpy abs7f
                                tst_stat fc
2674 : 08              >            php         ;save status
2675 : 08              >            php         ;use stack to retrieve status
2676 : 68              >            pla
                       >            cmp_flag fc
2677 : c935            >            cmp #(fc|$34)&$ff
                       >
2679 : d0fe            >            bne *       ;trap
267b : 28              >            plp         ;restore status
                        
267c : 88                       dey
267d : cc0402                   cpy abs7f
                                tst_stat fzc
2680 : 08              >            php         ;save status
2681 : 08              >            php         ;use stack to retrieve status
2682 : 68              >            pla
                       >            cmp_flag fzc
2683 : c937            >            cmp #(fzc|$34)&$ff
                       >
2685 : d0fe            >            bne *       ;trap
2687 : 28              >            plp         ;restore status
                        
2688 : 88                       dey
2689 : cc0402                   cpy abs7f
                                tst_y $7e,fn
268c : 08              >            php         ;save flags
268d : 08              >            php
268e : c07e            >            cpy #$7e     ;test result
2690 : d0fe            >            bne *       ;trap
2692 : 68              >            pla         ;load status
                       >            cmp_flag fn
2693 : c9b4            >            cmp #(fn|$34)&$ff
                       >
2695 : d0fe            >            bne *       ;trap
2697 : 28              >            plp         ;restore status
                        
                                set_y $80,$ff
                       >            load_flag $ff
2698 : a9ff            >            lda #$ff|4
                       >
269a : 48              >            pha         ;use stack to load status
269b : a080            >            ldy #$80     ;precharge accu
269d : 28              >            plp
                        
269e : cc0402                   cpy abs7f
                                tst_stat ~fnz
26a1 : 08              >            php         ;save status
26a2 : 08              >            php         ;use stack to retrieve status
26a3 : 68              >            pla
                       >            cmp_flag ~fnz
26a4 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
26a6 : d0fe            >            bne *       ;trap
26a8 : 28              >            plp         ;restore status
                        
26a9 : 88                       dey
26aa : cc0402                   cpy abs7f
                                tst_stat ~fn
26ad : 08              >            php         ;save status
26ae : 08              >            php         ;use stack to retrieve status
26af : 68              >            pla
                       >            cmp_flag ~fn
26b0 : c97f            >            cmp #(~fn|$34)&$ff
                       >
26b2 : d0fe            >            bne *       ;trap
26b4 : 28              >            plp         ;restore status
                        
26b5 : 88                       dey
26b6 : cc0402                   cpy abs7f
                                tst_y $7e,~fzc
26b9 : 08              >            php         ;save flags
26ba : 08              >            php
26bb : c07e            >            cpy #$7e     ;test result
26bd : d0fe            >            bne *       ;trap
26bf : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
26c0 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
26c2 : d0fe            >            bne *       ;trap
26c4 : 28              >            plp         ;restore status
                        
                        
                                set_y $80,0
                       >            load_flag 0
26c5 : a904            >            lda #0|4
                       >
26c7 : 48              >            pha         ;use stack to load status
26c8 : a080            >            ldy #$80     ;precharge accu
26ca : 28              >            plp
                        
26cb : c07f                     cpy #$7f
                                tst_stat fc
26cd : 08              >            php         ;save status
26ce : 08              >            php         ;use stack to retrieve status
26cf : 68              >            pla
                       >            cmp_flag fc
26d0 : c935            >            cmp #(fc|$34)&$ff
                       >
26d2 : d0fe            >            bne *       ;trap
26d4 : 28              >            plp         ;restore status
                        
26d5 : 88                       dey
26d6 : c07f                     cpy #$7f
                                tst_stat fzc
26d8 : 08              >            php         ;save status
26d9 : 08              >            php         ;use stack to retrieve status
26da : 68              >            pla
                       >            cmp_flag fzc
26db : c937            >            cmp #(fzc|$34)&$ff
                       >
26dd : d0fe            >            bne *       ;trap
26df : 28              >            plp         ;restore status
                        
26e0 : 88                       dey
26e1 : c07f                     cpy #$7f
                                tst_y $7e,fn
26e3 : 08              >            php         ;save flags
26e4 : 08              >            php
26e5 : c07e            >            cpy #$7e     ;test result
26e7 : d0fe            >            bne *       ;trap
26e9 : 68              >            pla         ;load status
                       >            cmp_flag fn
26ea : c9b4            >            cmp #(fn|$34)&$ff
                       >
26ec : d0fe            >            bne *       ;trap
26ee : 28              >            plp         ;restore status
                        
                                set_y $80,$ff
                       >            load_flag $ff
26ef : a9ff            >            lda #$ff|4
                       >
26f1 : 48              >            pha         ;use stack to load status
26f2 : a080            >            ldy #$80     ;precharge accu
26f4 : 28              >            plp
                        
26f5 : c07f                     cpy #$7f
                                tst_stat ~fnz
26f7 : 08              >            php         ;save status
26f8 : 08              >            php         ;use stack to retrieve status
26f9 : 68              >            pla
                       >            cmp_flag ~fnz
26fa : c97d            >            cmp #(~fnz|$34)&$ff
                       >
26fc : d0fe            >            bne *       ;trap
26fe : 28              >            plp         ;restore status
                        
26ff : 88                       dey
2700 : c07f                     cpy #$7f
                                tst_stat ~fn
2702 : 08              >            php         ;save status
2703 : 08              >            php         ;use stack to retrieve status
2704 : 68              >            pla
                       >            cmp_flag ~fn
2705 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2707 : d0fe            >            bne *       ;trap
2709 : 28              >            plp         ;restore status
                        
270a : 88                       dey
270b : c07f                     cpy #$7f
                                tst_y $7e,~fzc
270d : 08              >            php         ;save flags
270e : 08              >            php
270f : c07e            >            cpy #$7e     ;test result
2711 : d0fe            >            bne *       ;trap
2713 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2714 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2716 : d0fe            >            bne *       ;trap
2718 : 28              >            plp         ;restore status
                        
                        
                        ; CMP - zp / abs / #
                                set_a $80,0
                       >            load_flag 0
2719 : a904            >            lda #0|4
                       >
271b : 48              >            pha         ;use stack to load status
271c : a980            >            lda #$80     ;precharge accu
271e : 28              >            plp
                        
271f : c50e                     cmp zp7f
                                tst_a $80,fc
2721 : 08              >            php         ;save flags
2722 : 08              >            php
2723 : c980            >            cmp #$80     ;test result
2725 : d0fe            >            bne *       ;trap
2727 : 68              >            pla         ;load status
                       >            cmp_flag fc
2728 : c935            >            cmp #(fc|$34)&$ff
                       >
272a : d0fe            >            bne *       ;trap
272c : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
272d : a904            >            lda #0|4
                       >
272f : 48              >            pha         ;use stack to load status
2730 : a97f            >            lda #$7f     ;precharge accu
2732 : 28              >            plp
                        
2733 : c50e                     cmp zp7f
                                tst_a $7f,fzc
2735 : 08              >            php         ;save flags
2736 : 08              >            php
2737 : c97f            >            cmp #$7f     ;test result
2739 : d0fe            >            bne *       ;trap
273b : 68              >            pla         ;load status
                       >            cmp_flag fzc
273c : c937            >            cmp #(fzc|$34)&$ff
                       >
273e : d0fe            >            bne *       ;trap
2740 : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
2741 : a904            >            lda #0|4
                       >
2743 : 48              >            pha         ;use stack to load status
2744 : a97e            >            lda #$7e     ;precharge accu
2746 : 28              >            plp
                        
2747 : c50e                     cmp zp7f
                                tst_a $7e,fn
2749 : 08              >            php         ;save flags
274a : 08              >            php
274b : c97e            >            cmp #$7e     ;test result
274d : d0fe            >            bne *       ;trap
274f : 68              >            pla         ;load status
                       >            cmp_flag fn
2750 : c9b4            >            cmp #(fn|$34)&$ff
                       >
2752 : d0fe            >            bne *       ;trap
2754 : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
2755 : a9ff            >            lda #$ff|4
                       >
2757 : 48              >            pha         ;use stack to load status
2758 : a980            >            lda #$80     ;precharge accu
275a : 28              >            plp
                        
275b : c50e                     cmp zp7f
                                tst_a $80,~fnz
275d : 08              >            php         ;save flags
275e : 08              >            php
275f : c980            >            cmp #$80     ;test result
2761 : d0fe            >            bne *       ;trap
2763 : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
2764 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
2766 : d0fe            >            bne *       ;trap
2768 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
2769 : a9ff            >            lda #$ff|4
                       >
276b : 48              >            pha         ;use stack to load status
276c : a97f            >            lda #$7f     ;precharge accu
276e : 28              >            plp
                        
276f : c50e                     cmp zp7f
                                tst_a $7f,~fn
2771 : 08              >            php         ;save flags
2772 : 08              >            php
2773 : c97f            >            cmp #$7f     ;test result
2775 : d0fe            >            bne *       ;trap
2777 : 68              >            pla         ;load status
                       >            cmp_flag ~fn
2778 : c97f            >            cmp #(~fn|$34)&$ff
                       >
277a : d0fe            >            bne *       ;trap
277c : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
277d : a9ff            >            lda #$ff|4
                       >
277f : 48              >            pha         ;use stack to load status
2780 : a97e            >            lda #$7e     ;precharge accu
2782 : 28              >            plp
                        
2783 : c50e                     cmp zp7f
                                tst_a $7e,~fzc
2785 : 08              >            php         ;save flags
2786 : 08              >            php
2787 : c97e            >            cmp #$7e     ;test result
2789 : d0fe            >            bne *       ;trap
278b : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
278c : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
278e : d0fe            >            bne *       ;trap
2790 : 28              >            plp         ;restore status
                        
                        
                                set_a $80,0
                       >            load_flag 0
2791 : a904            >            lda #0|4
                       >
2793 : 48              >            pha         ;use stack to load status
2794 : a980            >            lda #$80     ;precharge accu
2796 : 28              >            plp
                        
2797 : cd0402                   cmp abs7f
                                tst_a $80,fc
279a : 08              >            php         ;save flags
279b : 08              >            php
279c : c980            >            cmp #$80     ;test result
279e : d0fe            >            bne *       ;trap
27a0 : 68              >            pla         ;load status
                       >            cmp_flag fc
27a1 : c935            >            cmp #(fc|$34)&$ff
                       >
27a3 : d0fe            >            bne *       ;trap
27a5 : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
27a6 : a904            >            lda #0|4
                       >
27a8 : 48              >            pha         ;use stack to load status
27a9 : a97f            >            lda #$7f     ;precharge accu
27ab : 28              >            plp
                        
27ac : cd0402                   cmp abs7f
                                tst_a $7f,fzc
27af : 08              >            php         ;save flags
27b0 : 08              >            php
27b1 : c97f            >            cmp #$7f     ;test result
27b3 : d0fe            >            bne *       ;trap
27b5 : 68              >            pla         ;load status
                       >            cmp_flag fzc
27b6 : c937            >            cmp #(fzc|$34)&$ff
                       >
27b8 : d0fe            >            bne *       ;trap
27ba : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
27bb : a904            >            lda #0|4
                       >
27bd : 48              >            pha         ;use stack to load status
27be : a97e            >            lda #$7e     ;precharge accu
27c0 : 28              >            plp
                        
27c1 : cd0402                   cmp abs7f
                                tst_a $7e,fn
27c4 : 08              >            php         ;save flags
27c5 : 08              >            php
27c6 : c97e            >            cmp #$7e     ;test result
27c8 : d0fe            >            bne *       ;trap
27ca : 68              >            pla         ;load status
                       >            cmp_flag fn
27cb : c9b4            >            cmp #(fn|$34)&$ff
                       >
27cd : d0fe            >            bne *       ;trap
27cf : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
27d0 : a9ff            >            lda #$ff|4
                       >
27d2 : 48              >            pha         ;use stack to load status
27d3 : a980            >            lda #$80     ;precharge accu
27d5 : 28              >            plp
                        
27d6 : cd0402                   cmp abs7f
                                tst_a $80,~fnz
27d9 : 08              >            php         ;save flags
27da : 08              >            php
27db : c980            >            cmp #$80     ;test result
27dd : d0fe            >            bne *       ;trap
27df : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
27e0 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
27e2 : d0fe            >            bne *       ;trap
27e4 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
27e5 : a9ff            >            lda #$ff|4
                       >
27e7 : 48              >            pha         ;use stack to load status
27e8 : a97f            >            lda #$7f     ;precharge accu
27ea : 28              >            plp
                        
27eb : cd0402                   cmp abs7f
                                tst_a $7f,~fn
27ee : 08              >            php         ;save flags
27ef : 08              >            php
27f0 : c97f            >            cmp #$7f     ;test result
27f2 : d0fe            >            bne *       ;trap
27f4 : 68              >            pla         ;load status
                       >            cmp_flag ~fn
27f5 : c97f            >            cmp #(~fn|$34)&$ff
                       >
27f7 : d0fe            >            bne *       ;trap
27f9 : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
27fa : a9ff            >            lda #$ff|4
                       >
27fc : 48              >            pha         ;use stack to load status
27fd : a97e            >            lda #$7e     ;precharge accu
27ff : 28              >            plp
                        
2800 : cd0402                   cmp abs7f
                                tst_a $7e,~fzc
2803 : 08              >            php         ;save flags
2804 : 08              >            php
2805 : c97e            >            cmp #$7e     ;test result
2807 : d0fe            >            bne *       ;trap
2809 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
280a : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
280c : d0fe            >            bne *       ;trap
280e : 28              >            plp         ;restore status
                        
                        
                                set_a $80,0
                       >            load_flag 0
280f : a904            >            lda #0|4
                       >
2811 : 48              >            pha         ;use stack to load status
2812 : a980            >            lda #$80     ;precharge accu
2814 : 28              >            plp
                        
2815 : c97f                     cmp #$7f
                                tst_a $80,fc
2817 : 08              >            php         ;save flags
2818 : 08              >            php
2819 : c980            >            cmp #$80     ;test result
281b : d0fe            >            bne *       ;trap
281d : 68              >            pla         ;load status
                       >            cmp_flag fc
281e : c935            >            cmp #(fc|$34)&$ff
                       >
2820 : d0fe            >            bne *       ;trap
2822 : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
2823 : a904            >            lda #0|4
                       >
2825 : 48              >            pha         ;use stack to load status
2826 : a97f            >            lda #$7f     ;precharge accu
2828 : 28              >            plp
                        
2829 : c97f                     cmp #$7f
                                tst_a $7f,fzc
282b : 08              >            php         ;save flags
282c : 08              >            php
282d : c97f            >            cmp #$7f     ;test result
282f : d0fe            >            bne *       ;trap
2831 : 68              >            pla         ;load status
                       >            cmp_flag fzc
2832 : c937            >            cmp #(fzc|$34)&$ff
                       >
2834 : d0fe            >            bne *       ;trap
2836 : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
2837 : a904            >            lda #0|4
                       >
2839 : 48              >            pha         ;use stack to load status
283a : a97e            >            lda #$7e     ;precharge accu
283c : 28              >            plp
                        
283d : c97f                     cmp #$7f
                                tst_a $7e,fn
283f : 08              >            php         ;save flags
2840 : 08              >            php
2841 : c97e            >            cmp #$7e     ;test result
2843 : d0fe            >            bne *       ;trap
2845 : 68              >            pla         ;load status
                       >            cmp_flag fn
2846 : c9b4            >            cmp #(fn|$34)&$ff
                       >
2848 : d0fe            >            bne *       ;trap
284a : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
284b : a9ff            >            lda #$ff|4
                       >
284d : 48              >            pha         ;use stack to load status
284e : a980            >            lda #$80     ;precharge accu
2850 : 28              >            plp
                        
2851 : c97f                     cmp #$7f
                                tst_a $80,~fnz
2853 : 08              >            php         ;save flags
2854 : 08              >            php
2855 : c980            >            cmp #$80     ;test result
2857 : d0fe            >            bne *       ;trap
2859 : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
285a : c97d            >            cmp #(~fnz|$34)&$ff
                       >
285c : d0fe            >            bne *       ;trap
285e : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
285f : a9ff            >            lda #$ff|4
                       >
2861 : 48              >            pha         ;use stack to load status
2862 : a97f            >            lda #$7f     ;precharge accu
2864 : 28              >            plp
                        
2865 : c97f                     cmp #$7f
                                tst_a $7f,~fn
2867 : 08              >            php         ;save flags
2868 : 08              >            php
2869 : c97f            >            cmp #$7f     ;test result
286b : d0fe            >            bne *       ;trap
286d : 68              >            pla         ;load status
                       >            cmp_flag ~fn
286e : c97f            >            cmp #(~fn|$34)&$ff
                       >
2870 : d0fe            >            bne *       ;trap
2872 : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
2873 : a9ff            >            lda #$ff|4
                       >
2875 : 48              >            pha         ;use stack to load status
2876 : a97e            >            lda #$7e     ;precharge accu
2878 : 28              >            plp
                        
2879 : c97f                     cmp #$7f
                                tst_a $7e,~fzc
287b : 08              >            php         ;save flags
287c : 08              >            php
287d : c97e            >            cmp #$7e     ;test result
287f : d0fe            >            bne *       ;trap
2881 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2882 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2884 : d0fe            >            bne *       ;trap
2886 : 28              >            plp         ;restore status
                        
                        
2887 : a204                     ldx #4          ;with indexing by X
                                set_a $80,0
                       >            load_flag 0
2889 : a904            >            lda #0|4
                       >
288b : 48              >            pha         ;use stack to load status
288c : a980            >            lda #$80     ;precharge accu
288e : 28              >            plp
                        
288f : d50a                     cmp zp1,x
                                tst_a $80,fc
2891 : 08              >            php         ;save flags
2892 : 08              >            php
2893 : c980            >            cmp #$80     ;test result
2895 : d0fe            >            bne *       ;trap
2897 : 68              >            pla         ;load status
                       >            cmp_flag fc
2898 : c935            >            cmp #(fc|$34)&$ff
                       >
289a : d0fe            >            bne *       ;trap
289c : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
289d : a904            >            lda #0|4
                       >
289f : 48              >            pha         ;use stack to load status
28a0 : a97f            >            lda #$7f     ;precharge accu
28a2 : 28              >            plp
                        
28a3 : d50a                     cmp zp1,x
                                tst_a $7f,fzc
28a5 : 08              >            php         ;save flags
28a6 : 08              >            php
28a7 : c97f            >            cmp #$7f     ;test result
28a9 : d0fe            >            bne *       ;trap
28ab : 68              >            pla         ;load status
                       >            cmp_flag fzc
28ac : c937            >            cmp #(fzc|$34)&$ff
                       >
28ae : d0fe            >            bne *       ;trap
28b0 : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
28b1 : a904            >            lda #0|4
                       >
28b3 : 48              >            pha         ;use stack to load status
28b4 : a97e            >            lda #$7e     ;precharge accu
28b6 : 28              >            plp
                        
28b7 : d50a                     cmp zp1,x
                                tst_a $7e,fn
28b9 : 08              >            php         ;save flags
28ba : 08              >            php
28bb : c97e            >            cmp #$7e     ;test result
28bd : d0fe            >            bne *       ;trap
28bf : 68              >            pla         ;load status
                       >            cmp_flag fn
28c0 : c9b4            >            cmp #(fn|$34)&$ff
                       >
28c2 : d0fe            >            bne *       ;trap
28c4 : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
28c5 : a9ff            >            lda #$ff|4
                       >
28c7 : 48              >            pha         ;use stack to load status
28c8 : a980            >            lda #$80     ;precharge accu
28ca : 28              >            plp
                        
28cb : d50a                     cmp zp1,x
                                tst_a $80,~fnz
28cd : 08              >            php         ;save flags
28ce : 08              >            php
28cf : c980            >            cmp #$80     ;test result
28d1 : d0fe            >            bne *       ;trap
28d3 : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
28d4 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
28d6 : d0fe            >            bne *       ;trap
28d8 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
28d9 : a9ff            >            lda #$ff|4
                       >
28db : 48              >            pha         ;use stack to load status
28dc : a97f            >            lda #$7f     ;precharge accu
28de : 28              >            plp
                        
28df : d50a                     cmp zp1,x
                                tst_a $7f,~fn
28e1 : 08              >            php         ;save flags
28e2 : 08              >            php
28e3 : c97f            >            cmp #$7f     ;test result
28e5 : d0fe            >            bne *       ;trap
28e7 : 68              >            pla         ;load status
                       >            cmp_flag ~fn
28e8 : c97f            >            cmp #(~fn|$34)&$ff
                       >
28ea : d0fe            >            bne *       ;trap
28ec : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
28ed : a9ff            >            lda #$ff|4
                       >
28ef : 48              >            pha         ;use stack to load status
28f0 : a97e            >            lda #$7e     ;precharge accu
28f2 : 28              >            plp
                        
28f3 : d50a                     cmp zp1,x
                                tst_a $7e,~fzc
28f5 : 08              >            php         ;save flags
28f6 : 08              >            php
28f7 : c97e            >            cmp #$7e     ;test result
28f9 : d0fe            >            bne *       ;trap
28fb : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
28fc : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
28fe : d0fe            >            bne *       ;trap
2900 : 28              >            plp         ;restore status
                        
                        
                                set_a $80,0
                       >            load_flag 0
2901 : a904            >            lda #0|4
                       >
2903 : 48              >            pha         ;use stack to load status
2904 : a980            >            lda #$80     ;precharge accu
2906 : 28              >            plp
                        
2907 : dd0002                   cmp abs1,x
                                tst_a $80,fc
290a : 08              >            php         ;save flags
290b : 08              >            php
290c : c980            >            cmp #$80     ;test result
290e : d0fe            >            bne *       ;trap
2910 : 68              >            pla         ;load status
                       >            cmp_flag fc
2911 : c935            >            cmp #(fc|$34)&$ff
                       >
2913 : d0fe            >            bne *       ;trap
2915 : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
2916 : a904            >            lda #0|4
                       >
2918 : 48              >            pha         ;use stack to load status
2919 : a97f            >            lda #$7f     ;precharge accu
291b : 28              >            plp
                        
291c : dd0002                   cmp abs1,x
                                tst_a $7f,fzc
291f : 08              >            php         ;save flags
2920 : 08              >            php
2921 : c97f            >            cmp #$7f     ;test result
2923 : d0fe            >            bne *       ;trap
2925 : 68              >            pla         ;load status
                       >            cmp_flag fzc
2926 : c937            >            cmp #(fzc|$34)&$ff
                       >
2928 : d0fe            >            bne *       ;trap
292a : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
292b : a904            >            lda #0|4
                       >
292d : 48              >            pha         ;use stack to load status
292e : a97e            >            lda #$7e     ;precharge accu
2930 : 28              >            plp
                        
2931 : dd0002                   cmp abs1,x
                                tst_a $7e,fn
2934 : 08              >            php         ;save flags
2935 : 08              >            php
2936 : c97e            >            cmp #$7e     ;test result
2938 : d0fe            >            bne *       ;trap
293a : 68              >            pla         ;load status
                       >            cmp_flag fn
293b : c9b4            >            cmp #(fn|$34)&$ff
                       >
293d : d0fe            >            bne *       ;trap
293f : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
2940 : a9ff            >            lda #$ff|4
                       >
2942 : 48              >            pha         ;use stack to load status
2943 : a980            >            lda #$80     ;precharge accu
2945 : 28              >            plp
                        
2946 : dd0002                   cmp abs1,x
                                tst_a $80,~fnz
2949 : 08              >            php         ;save flags
294a : 08              >            php
294b : c980            >            cmp #$80     ;test result
294d : d0fe            >            bne *       ;trap
294f : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
2950 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
2952 : d0fe            >            bne *       ;trap
2954 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
2955 : a9ff            >            lda #$ff|4
                       >
2957 : 48              >            pha         ;use stack to load status
2958 : a97f            >            lda #$7f     ;precharge accu
295a : 28              >            plp
                        
295b : dd0002                   cmp abs1,x
                                tst_a $7f,~fn
295e : 08              >            php         ;save flags
295f : 08              >            php
2960 : c97f            >            cmp #$7f     ;test result
2962 : d0fe            >            bne *       ;trap
2964 : 68              >            pla         ;load status
                       >            cmp_flag ~fn
2965 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2967 : d0fe            >            bne *       ;trap
2969 : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
296a : a9ff            >            lda #$ff|4
                       >
296c : 48              >            pha         ;use stack to load status
296d : a97e            >            lda #$7e     ;precharge accu
296f : 28              >            plp
                        
2970 : dd0002                   cmp abs1,x
                                tst_a $7e,~fzc
2973 : 08              >            php         ;save flags
2974 : 08              >            php
2975 : c97e            >            cmp #$7e     ;test result
2977 : d0fe            >            bne *       ;trap
2979 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
297a : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
297c : d0fe            >            bne *       ;trap
297e : 28              >            plp         ;restore status
                        
                        
297f : a004                     ldy #4          ;with indexing by Y
2981 : a208                     ldx #8          ;with indexed indirect
                                set_a $80,0
                       >            load_flag 0
2983 : a904            >            lda #0|4
                       >
2985 : 48              >            pha         ;use stack to load status
2986 : a980            >            lda #$80     ;precharge accu
2988 : 28              >            plp
                        
2989 : d90002                   cmp abs1,y
                                tst_a $80,fc
298c : 08              >            php         ;save flags
298d : 08              >            php
298e : c980            >            cmp #$80     ;test result
2990 : d0fe            >            bne *       ;trap
2992 : 68              >            pla         ;load status
                       >            cmp_flag fc
2993 : c935            >            cmp #(fc|$34)&$ff
                       >
2995 : d0fe            >            bne *       ;trap
2997 : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
2998 : a904            >            lda #0|4
                       >
299a : 48              >            pha         ;use stack to load status
299b : a97f            >            lda #$7f     ;precharge accu
299d : 28              >            plp
                        
299e : d90002                   cmp abs1,y
                                tst_a $7f,fzc
29a1 : 08              >            php         ;save flags
29a2 : 08              >            php
29a3 : c97f            >            cmp #$7f     ;test result
29a5 : d0fe            >            bne *       ;trap
29a7 : 68              >            pla         ;load status
                       >            cmp_flag fzc
29a8 : c937            >            cmp #(fzc|$34)&$ff
                       >
29aa : d0fe            >            bne *       ;trap
29ac : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
29ad : a904            >            lda #0|4
                       >
29af : 48              >            pha         ;use stack to load status
29b0 : a97e            >            lda #$7e     ;precharge accu
29b2 : 28              >            plp
                        
29b3 : d90002                   cmp abs1,y
                                tst_a $7e,fn
29b6 : 08              >            php         ;save flags
29b7 : 08              >            php
29b8 : c97e            >            cmp #$7e     ;test result
29ba : d0fe            >            bne *       ;trap
29bc : 68              >            pla         ;load status
                       >            cmp_flag fn
29bd : c9b4            >            cmp #(fn|$34)&$ff
                       >
29bf : d0fe            >            bne *       ;trap
29c1 : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
29c2 : a9ff            >            lda #$ff|4
                       >
29c4 : 48              >            pha         ;use stack to load status
29c5 : a980            >            lda #$80     ;precharge accu
29c7 : 28              >            plp
                        
29c8 : d90002                   cmp abs1,y
                                tst_a $80,~fnz
29cb : 08              >            php         ;save flags
29cc : 08              >            php
29cd : c980            >            cmp #$80     ;test result
29cf : d0fe            >            bne *       ;trap
29d1 : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
29d2 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
29d4 : d0fe            >            bne *       ;trap
29d6 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
29d7 : a9ff            >            lda #$ff|4
                       >
29d9 : 48              >            pha         ;use stack to load status
29da : a97f            >            lda #$7f     ;precharge accu
29dc : 28              >            plp
                        
29dd : d90002                   cmp abs1,y
                                tst_a $7f,~fn
29e0 : 08              >            php         ;save flags
29e1 : 08              >            php
29e2 : c97f            >            cmp #$7f     ;test result
29e4 : d0fe            >            bne *       ;trap
29e6 : 68              >            pla         ;load status
                       >            cmp_flag ~fn
29e7 : c97f            >            cmp #(~fn|$34)&$ff
                       >
29e9 : d0fe            >            bne *       ;trap
29eb : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
29ec : a9ff            >            lda #$ff|4
                       >
29ee : 48              >            pha         ;use stack to load status
29ef : a97e            >            lda #$7e     ;precharge accu
29f1 : 28              >            plp
                        
29f2 : d90002                   cmp abs1,y
                                tst_a $7e,~fzc
29f5 : 08              >            php         ;save flags
29f6 : 08              >            php
29f7 : c97e            >            cmp #$7e     ;test result
29f9 : d0fe            >            bne *       ;trap
29fb : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
29fc : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
29fe : d0fe            >            bne *       ;trap
2a00 : 28              >            plp         ;restore status
                        
                        
                                set_a $80,0
                       >            load_flag 0
2a01 : a904            >            lda #0|4
                       >
2a03 : 48              >            pha         ;use stack to load status
2a04 : a980            >            lda #$80     ;precharge accu
2a06 : 28              >            plp
                        
2a07 : c120                     cmp (ind1,x)
                                tst_a $80,fc
2a09 : 08              >            php         ;save flags
2a0a : 08              >            php
2a0b : c980            >            cmp #$80     ;test result
2a0d : d0fe            >            bne *       ;trap
2a0f : 68              >            pla         ;load status
                       >            cmp_flag fc
2a10 : c935            >            cmp #(fc|$34)&$ff
                       >
2a12 : d0fe            >            bne *       ;trap
2a14 : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
2a15 : a904            >            lda #0|4
                       >
2a17 : 48              >            pha         ;use stack to load status
2a18 : a97f            >            lda #$7f     ;precharge accu
2a1a : 28              >            plp
                        
2a1b : c120                     cmp (ind1,x)
                                tst_a $7f,fzc
2a1d : 08              >            php         ;save flags
2a1e : 08              >            php
2a1f : c97f            >            cmp #$7f     ;test result
2a21 : d0fe            >            bne *       ;trap
2a23 : 68              >            pla         ;load status
                       >            cmp_flag fzc
2a24 : c937            >            cmp #(fzc|$34)&$ff
                       >
2a26 : d0fe            >            bne *       ;trap
2a28 : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
2a29 : a904            >            lda #0|4
                       >
2a2b : 48              >            pha         ;use stack to load status
2a2c : a97e            >            lda #$7e     ;precharge accu
2a2e : 28              >            plp
                        
2a2f : c120                     cmp (ind1,x)
                                tst_a $7e,fn
2a31 : 08              >            php         ;save flags
2a32 : 08              >            php
2a33 : c97e            >            cmp #$7e     ;test result
2a35 : d0fe            >            bne *       ;trap
2a37 : 68              >            pla         ;load status
                       >            cmp_flag fn
2a38 : c9b4            >            cmp #(fn|$34)&$ff
                       >
2a3a : d0fe            >            bne *       ;trap
2a3c : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
2a3d : a9ff            >            lda #$ff|4
                       >
2a3f : 48              >            pha         ;use stack to load status
2a40 : a980            >            lda #$80     ;precharge accu
2a42 : 28              >            plp
                        
2a43 : c120                     cmp (ind1,x)
                                tst_a $80,~fnz
2a45 : 08              >            php         ;save flags
2a46 : 08              >            php
2a47 : c980            >            cmp #$80     ;test result
2a49 : d0fe            >            bne *       ;trap
2a4b : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
2a4c : c97d            >            cmp #(~fnz|$34)&$ff
                       >
2a4e : d0fe            >            bne *       ;trap
2a50 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
2a51 : a9ff            >            lda #$ff|4
                       >
2a53 : 48              >            pha         ;use stack to load status
2a54 : a97f            >            lda #$7f     ;precharge accu
2a56 : 28              >            plp
                        
2a57 : c120                     cmp (ind1,x)
                                tst_a $7f,~fn
2a59 : 08              >            php         ;save flags
2a5a : 08              >            php
2a5b : c97f            >            cmp #$7f     ;test result
2a5d : d0fe            >            bne *       ;trap
2a5f : 68              >            pla         ;load status
                       >            cmp_flag ~fn
2a60 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2a62 : d0fe            >            bne *       ;trap
2a64 : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
2a65 : a9ff            >            lda #$ff|4
                       >
2a67 : 48              >            pha         ;use stack to load status
2a68 : a97e            >            lda #$7e     ;precharge accu
2a6a : 28              >            plp
                        
2a6b : c120                     cmp (ind1,x)
                                tst_a $7e,~fzc
2a6d : 08              >            php         ;save flags
2a6e : 08              >            php
2a6f : c97e            >            cmp #$7e     ;test result
2a71 : d0fe            >            bne *       ;trap
2a73 : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2a74 : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2a76 : d0fe            >            bne *       ;trap
2a78 : 28              >            plp         ;restore status
                        
                        
                                set_a $80,0
                       >            load_flag 0
2a79 : a904            >            lda #0|4
                       >
2a7b : 48              >            pha         ;use stack to load status
2a7c : a980            >            lda #$80     ;precharge accu
2a7e : 28              >            plp
                        
2a7f : d120                     cmp (ind1),y
                                tst_a $80,fc
2a81 : 08              >            php         ;save flags
2a82 : 08              >            php
2a83 : c980            >            cmp #$80     ;test result
2a85 : d0fe            >            bne *       ;trap
2a87 : 68              >            pla         ;load status
                       >            cmp_flag fc
2a88 : c935            >            cmp #(fc|$34)&$ff
                       >
2a8a : d0fe            >            bne *       ;trap
2a8c : 28              >            plp         ;restore status
                        
                                set_a $7f,0
                       >            load_flag 0
2a8d : a904            >            lda #0|4
                       >
2a8f : 48              >            pha         ;use stack to load status
2a90 : a97f            >            lda #$7f     ;precharge accu
2a92 : 28              >            plp
                        
2a93 : d120                     cmp (ind1),y
                                tst_a $7f,fzc
2a95 : 08              >            php         ;save flags
2a96 : 08              >            php
2a97 : c97f            >            cmp #$7f     ;test result
2a99 : d0fe            >            bne *       ;trap
2a9b : 68              >            pla         ;load status
                       >            cmp_flag fzc
2a9c : c937            >            cmp #(fzc|$34)&$ff
                       >
2a9e : d0fe            >            bne *       ;trap
2aa0 : 28              >            plp         ;restore status
                        
                                set_a $7e,0
                       >            load_flag 0
2aa1 : a904            >            lda #0|4
                       >
2aa3 : 48              >            pha         ;use stack to load status
2aa4 : a97e            >            lda #$7e     ;precharge accu
2aa6 : 28              >            plp
                        
2aa7 : d120                     cmp (ind1),y
                                tst_a $7e,fn
2aa9 : 08              >            php         ;save flags
2aaa : 08              >            php
2aab : c97e            >            cmp #$7e     ;test result
2aad : d0fe            >            bne *       ;trap
2aaf : 68              >            pla         ;load status
                       >            cmp_flag fn
2ab0 : c9b4            >            cmp #(fn|$34)&$ff
                       >
2ab2 : d0fe            >            bne *       ;trap
2ab4 : 28              >            plp         ;restore status
                        
                                set_a $80,$ff
                       >            load_flag $ff
2ab5 : a9ff            >            lda #$ff|4
                       >
2ab7 : 48              >            pha         ;use stack to load status
2ab8 : a980            >            lda #$80     ;precharge accu
2aba : 28              >            plp
                        
2abb : d120                     cmp (ind1),y
                                tst_a $80,~fnz
2abd : 08              >            php         ;save flags
2abe : 08              >            php
2abf : c980            >            cmp #$80     ;test result
2ac1 : d0fe            >            bne *       ;trap
2ac3 : 68              >            pla         ;load status
                       >            cmp_flag ~fnz
2ac4 : c97d            >            cmp #(~fnz|$34)&$ff
                       >
2ac6 : d0fe            >            bne *       ;trap
2ac8 : 28              >            plp         ;restore status
                        
                                set_a $7f,$ff
                       >            load_flag $ff
2ac9 : a9ff            >            lda #$ff|4
                       >
2acb : 48              >            pha         ;use stack to load status
2acc : a97f            >            lda #$7f     ;precharge accu
2ace : 28              >            plp
                        
2acf : d120                     cmp (ind1),y
                                tst_a $7f,~fn
2ad1 : 08              >            php         ;save flags
2ad2 : 08              >            php
2ad3 : c97f            >            cmp #$7f     ;test result
2ad5 : d0fe            >            bne *       ;trap
2ad7 : 68              >            pla         ;load status
                       >            cmp_flag ~fn
2ad8 : c97f            >            cmp #(~fn|$34)&$ff
                       >
2ada : d0fe            >            bne *       ;trap
2adc : 28              >            plp         ;restore status
                        
                                set_a $7e,$ff
                       >            load_flag $ff
2add : a9ff            >            lda #$ff|4
                       >
2adf : 48              >            pha         ;use stack to load status
2ae0 : a97e            >            lda #$7e     ;precharge accu
2ae2 : 28              >            plp
                        
2ae3 : d120                     cmp (ind1),y
                                tst_a $7e,~fzc
2ae5 : 08              >            php         ;save flags
2ae6 : 08              >            php
2ae7 : c97e            >            cmp #$7e     ;test result
2ae9 : d0fe            >            bne *       ;trap
2aeb : 68              >            pla         ;load status
                       >            cmp_flag ~fzc
2aec : c9fc            >            cmp #(~fzc|$34)&$ff
                       >
2aee : d0fe            >            bne *       ;trap
2af0 : 28              >            plp         ;restore status
                        
                        
                        ; testing shifts - ASL LSR ROL ROR all addressing mode
                        ; shifts - accumulator
2af1 : a203                     ldx #3
2af3 :                  tasl
                                set_ax zp1,0
                       >            load_flag 0
2af3 : a904            >            lda #0|4
                       >
2af5 : 48              >            pha         ;use stack to load status
2af6 : b50a            >            lda zp1,x    ;precharge accu
2af8 : 28              >            plp
                        
2af9 : 0a                       asl a
                                tst_ax rASL,fASL,0
2afa : 08              >            php         ;save flags
2afb : dd0902          >            cmp rASL,x    ;test result
2afe : d0fe            >            bne *       ;trap
2b00 : 68              >            pla         ;load status
                       >            eor_flag 0
2b01 : 4934            >            eor #(0|$34)
                       >
2b03 : dd1902          >            cmp fASL,x    ;test flags
2b06 : d0fe            >            bne *       ;trap
                        
2b08 : ca                       dex
2b09 : 10e8                     bpl tasl
2b0b : a203                     ldx #3
2b0d :                  tasl1
                                set_ax zp1,$ff
                       >            load_flag $ff
2b0d : a9ff            >            lda #$ff|4
                       >
2b0f : 48              >            pha         ;use stack to load status
2b10 : b50a            >            lda zp1,x    ;precharge accu
2b12 : 28              >            plp
                        
2b13 : 0a                       asl a
                                tst_ax rASL,fASL,$ff-fnzc
2b14 : 08              >            php         ;save flags
2b15 : dd0902          >            cmp rASL,x    ;test result
2b18 : d0fe            >            bne *       ;trap
2b1a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2b1b : 497c            >            eor #($ff-fnzc|$34)
                       >
2b1d : dd1902          >            cmp fASL,x    ;test flags
2b20 : d0fe            >            bne *       ;trap
                        
2b22 : ca                       dex
2b23 : 10e8                     bpl tasl1
                        
2b25 : a203                     ldx #3
2b27 :                  tlsr
                                set_ax zp1,0
                       >            load_flag 0
2b27 : a904            >            lda #0|4
                       >
2b29 : 48              >            pha         ;use stack to load status
2b2a : b50a            >            lda zp1,x    ;precharge accu
2b2c : 28              >            plp
                        
2b2d : 4a                       lsr a
                                tst_ax rLSR,fLSR,0
2b2e : 08              >            php         ;save flags
2b2f : dd1102          >            cmp rLSR,x    ;test result
2b32 : d0fe            >            bne *       ;trap
2b34 : 68              >            pla         ;load status
                       >            eor_flag 0
2b35 : 4934            >            eor #(0|$34)
                       >
2b37 : dd2102          >            cmp fLSR,x    ;test flags
2b3a : d0fe            >            bne *       ;trap
                        
2b3c : ca                       dex
2b3d : 10e8                     bpl tlsr
2b3f : a203                     ldx #3
2b41 :                  tlsr1
                                set_ax zp1,$ff
                       >            load_flag $ff
2b41 : a9ff            >            lda #$ff|4
                       >
2b43 : 48              >            pha         ;use stack to load status
2b44 : b50a            >            lda zp1,x    ;precharge accu
2b46 : 28              >            plp
                        
2b47 : 4a                       lsr a
                                tst_ax rLSR,fLSR,$ff-fnzc
2b48 : 08              >            php         ;save flags
2b49 : dd1102          >            cmp rLSR,x    ;test result
2b4c : d0fe            >            bne *       ;trap
2b4e : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2b4f : 497c            >            eor #($ff-fnzc|$34)
                       >
2b51 : dd2102          >            cmp fLSR,x    ;test flags
2b54 : d0fe            >            bne *       ;trap
                        
2b56 : ca                       dex
2b57 : 10e8                     bpl tlsr1
                        
2b59 : a203                     ldx #3
2b5b :                  trol
                                set_ax zp1,0
                       >            load_flag 0
2b5b : a904            >            lda #0|4
                       >
2b5d : 48              >            pha         ;use stack to load status
2b5e : b50a            >            lda zp1,x    ;precharge accu
2b60 : 28              >            plp
                        
2b61 : 2a                       rol a
                                tst_ax rROL,fROL,0
2b62 : 08              >            php         ;save flags
2b63 : dd0902          >            cmp rROL,x    ;test result
2b66 : d0fe            >            bne *       ;trap
2b68 : 68              >            pla         ;load status
                       >            eor_flag 0
2b69 : 4934            >            eor #(0|$34)
                       >
2b6b : dd1902          >            cmp fROL,x    ;test flags
2b6e : d0fe            >            bne *       ;trap
                        
2b70 : ca                       dex
2b71 : 10e8                     bpl trol
2b73 : a203                     ldx #3
2b75 :                  trol1
                                set_ax zp1,$ff-fc
                       >            load_flag $ff-fc
2b75 : a9fe            >            lda #$ff-fc|4
                       >
2b77 : 48              >            pha         ;use stack to load status
2b78 : b50a            >            lda zp1,x    ;precharge accu
2b7a : 28              >            plp
                        
2b7b : 2a                       rol a
                                tst_ax rROL,fROL,$ff-fnzc
2b7c : 08              >            php         ;save flags
2b7d : dd0902          >            cmp rROL,x    ;test result
2b80 : d0fe            >            bne *       ;trap
2b82 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2b83 : 497c            >            eor #($ff-fnzc|$34)
                       >
2b85 : dd1902          >            cmp fROL,x    ;test flags
2b88 : d0fe            >            bne *       ;trap
                        
2b8a : ca                       dex
2b8b : 10e8                     bpl trol1
                        
2b8d : a203                     ldx #3
2b8f :                  trolc
                                set_ax zp1,fc
                       >            load_flag fc
2b8f : a905            >            lda #fc|4
                       >
2b91 : 48              >            pha         ;use stack to load status
2b92 : b50a            >            lda zp1,x    ;precharge accu
2b94 : 28              >            plp
                        
2b95 : 2a                       rol a
                                tst_ax rROLc,fROLc,0
2b96 : 08              >            php         ;save flags
2b97 : dd0d02          >            cmp rROLc,x    ;test result
2b9a : d0fe            >            bne *       ;trap
2b9c : 68              >            pla         ;load status
                       >            eor_flag 0
2b9d : 4934            >            eor #(0|$34)
                       >
2b9f : dd1d02          >            cmp fROLc,x    ;test flags
2ba2 : d0fe            >            bne *       ;trap
                        
2ba4 : ca                       dex
2ba5 : 10e8                     bpl trolc
2ba7 : a203                     ldx #3
2ba9 :                  trolc1
                                set_ax zp1,$ff
                       >            load_flag $ff
2ba9 : a9ff            >            lda #$ff|4
                       >
2bab : 48              >            pha         ;use stack to load status
2bac : b50a            >            lda zp1,x    ;precharge accu
2bae : 28              >            plp
                        
2baf : 2a                       rol a
                                tst_ax rROLc,fROLc,$ff-fnzc
2bb0 : 08              >            php         ;save flags
2bb1 : dd0d02          >            cmp rROLc,x    ;test result
2bb4 : d0fe            >            bne *       ;trap
2bb6 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2bb7 : 497c            >            eor #($ff-fnzc|$34)
                       >
2bb9 : dd1d02          >            cmp fROLc,x    ;test flags
2bbc : d0fe            >            bne *       ;trap
                        
2bbe : ca                       dex
2bbf : 10e8                     bpl trolc1
                        
2bc1 : a203                     ldx #3
2bc3 :                  tror
                                set_ax zp1,0
                       >            load_flag 0
2bc3 : a904            >            lda #0|4
                       >
2bc5 : 48              >            pha         ;use stack to load status
2bc6 : b50a            >            lda zp1,x    ;precharge accu
2bc8 : 28              >            plp
                        
2bc9 : 6a                       ror a
                                tst_ax rROR,fROR,0
2bca : 08              >            php         ;save flags
2bcb : dd1102          >            cmp rROR,x    ;test result
2bce : d0fe            >            bne *       ;trap
2bd0 : 68              >            pla         ;load status
                       >            eor_flag 0
2bd1 : 4934            >            eor #(0|$34)
                       >
2bd3 : dd2102          >            cmp fROR,x    ;test flags
2bd6 : d0fe            >            bne *       ;trap
                        
2bd8 : ca                       dex
2bd9 : 10e8                     bpl tror
2bdb : a203                     ldx #3
2bdd :                  tror1
                                set_ax zp1,$ff-fc
                       >            load_flag $ff-fc
2bdd : a9fe            >            lda #$ff-fc|4
                       >
2bdf : 48              >            pha         ;use stack to load status
2be0 : b50a            >            lda zp1,x    ;precharge accu
2be2 : 28              >            plp
                        
2be3 : 6a                       ror a
                                tst_ax rROR,fROR,$ff-fnzc
2be4 : 08              >            php         ;save flags
2be5 : dd1102          >            cmp rROR,x    ;test result
2be8 : d0fe            >            bne *       ;trap
2bea : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2beb : 497c            >            eor #($ff-fnzc|$34)
                       >
2bed : dd2102          >            cmp fROR,x    ;test flags
2bf0 : d0fe            >            bne *       ;trap
                        
2bf2 : ca                       dex
2bf3 : 10e8                     bpl tror1
                        
2bf5 : a203                     ldx #3
2bf7 :                  trorc
                                set_ax zp1,fc
                       >            load_flag fc
2bf7 : a905            >            lda #fc|4
                       >
2bf9 : 48              >            pha         ;use stack to load status
2bfa : b50a            >            lda zp1,x    ;precharge accu
2bfc : 28              >            plp
                        
2bfd : 6a                       ror a
                                tst_ax rRORc,fRORc,0
2bfe : 08              >            php         ;save flags
2bff : dd1502          >            cmp rRORc,x    ;test result
2c02 : d0fe            >            bne *       ;trap
2c04 : 68              >            pla         ;load status
                       >            eor_flag 0
2c05 : 4934            >            eor #(0|$34)
                       >
2c07 : dd2502          >            cmp fRORc,x    ;test flags
2c0a : d0fe            >            bne *       ;trap
                        
2c0c : ca                       dex
2c0d : 10e8                     bpl trorc
2c0f : a203                     ldx #3
2c11 :                  trorc1
                                set_ax zp1,$ff
                       >            load_flag $ff
2c11 : a9ff            >            lda #$ff|4
                       >
2c13 : 48              >            pha         ;use stack to load status
2c14 : b50a            >            lda zp1,x    ;precharge accu
2c16 : 28              >            plp
                        
2c17 : 6a                       ror a
                                tst_ax rRORc,fRORc,$ff-fnzc
2c18 : 08              >            php         ;save flags
2c19 : dd1502          >            cmp rRORc,x    ;test result
2c1c : d0fe            >            bne *       ;trap
2c1e : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2c1f : 497c            >            eor #($ff-fnzc|$34)
                       >
2c21 : dd2502          >            cmp fRORc,x    ;test flags
2c24 : d0fe            >            bne *       ;trap
                        
2c26 : ca                       dex
2c27 : 10e8                     bpl trorc1
                        
                        ; shifts - zeropage
2c29 : a203                     ldx #3
2c2b :                  tasl2
                                set_z zp1,0
                       >            load_flag 0
2c2b : a904            >            lda #0|4
                       >
2c2d : 48              >            pha         ;use stack to load status
2c2e : b50a            >            lda zp1,x    ;load to zeropage
2c30 : 850f            >            sta zpt
2c32 : 28              >            plp
                        
2c33 : 060f                     asl zpt
                                tst_z rASL,fASL,0
2c35 : 08              >            php         ;save flags
2c36 : a50f            >            lda zpt
2c38 : dd0902          >            cmp rASL,x    ;test result
2c3b : d0fe            >            bne *       ;trap
2c3d : 68              >            pla         ;load status
                       >            eor_flag 0
2c3e : 4934            >            eor #(0|$34)
                       >
2c40 : dd1902          >            cmp fASL,x    ;test flags
2c43 : d0fe            >            bne *       ;trap
                        
2c45 : ca                       dex
2c46 : 10e3                     bpl tasl2
2c48 : a203                     ldx #3
2c4a :                  tasl3
                                set_z zp1,$ff
                       >            load_flag $ff
2c4a : a9ff            >            lda #$ff|4
                       >
2c4c : 48              >            pha         ;use stack to load status
2c4d : b50a            >            lda zp1,x    ;load to zeropage
2c4f : 850f            >            sta zpt
2c51 : 28              >            plp
                        
2c52 : 060f                     asl zpt
                                tst_z rASL,fASL,$ff-fnzc
2c54 : 08              >            php         ;save flags
2c55 : a50f            >            lda zpt
2c57 : dd0902          >            cmp rASL,x    ;test result
2c5a : d0fe            >            bne *       ;trap
2c5c : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2c5d : 497c            >            eor #($ff-fnzc|$34)
                       >
2c5f : dd1902          >            cmp fASL,x    ;test flags
2c62 : d0fe            >            bne *       ;trap
                        
2c64 : ca                       dex
2c65 : 10e3                     bpl tasl3
                        
2c67 : a203                     ldx #3
2c69 :                  tlsr2
                                set_z zp1,0
                       >            load_flag 0
2c69 : a904            >            lda #0|4
                       >
2c6b : 48              >            pha         ;use stack to load status
2c6c : b50a            >            lda zp1,x    ;load to zeropage
2c6e : 850f            >            sta zpt
2c70 : 28              >            plp
                        
2c71 : 460f                     lsr zpt
                                tst_z rLSR,fLSR,0
2c73 : 08              >            php         ;save flags
2c74 : a50f            >            lda zpt
2c76 : dd1102          >            cmp rLSR,x    ;test result
2c79 : d0fe            >            bne *       ;trap
2c7b : 68              >            pla         ;load status
                       >            eor_flag 0
2c7c : 4934            >            eor #(0|$34)
                       >
2c7e : dd2102          >            cmp fLSR,x    ;test flags
2c81 : d0fe            >            bne *       ;trap
                        
2c83 : ca                       dex
2c84 : 10e3                     bpl tlsr2
2c86 : a203                     ldx #3
2c88 :                  tlsr3
                                set_z zp1,$ff
                       >            load_flag $ff
2c88 : a9ff            >            lda #$ff|4
                       >
2c8a : 48              >            pha         ;use stack to load status
2c8b : b50a            >            lda zp1,x    ;load to zeropage
2c8d : 850f            >            sta zpt
2c8f : 28              >            plp
                        
2c90 : 460f                     lsr zpt
                                tst_z rLSR,fLSR,$ff-fnzc
2c92 : 08              >            php         ;save flags
2c93 : a50f            >            lda zpt
2c95 : dd1102          >            cmp rLSR,x    ;test result
2c98 : d0fe            >            bne *       ;trap
2c9a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2c9b : 497c            >            eor #($ff-fnzc|$34)
                       >
2c9d : dd2102          >            cmp fLSR,x    ;test flags
2ca0 : d0fe            >            bne *       ;trap
                        
2ca2 : ca                       dex
2ca3 : 10e3                     bpl tlsr3
                        
2ca5 : a203                     ldx #3
2ca7 :                  trol2
                                set_z zp1,0
                       >            load_flag 0
2ca7 : a904            >            lda #0|4
                       >
2ca9 : 48              >            pha         ;use stack to load status
2caa : b50a            >            lda zp1,x    ;load to zeropage
2cac : 850f            >            sta zpt
2cae : 28              >            plp
                        
2caf : 260f                     rol zpt
                                tst_z rROL,fROL,0
2cb1 : 08              >            php         ;save flags
2cb2 : a50f            >            lda zpt
2cb4 : dd0902          >            cmp rROL,x    ;test result
2cb7 : d0fe            >            bne *       ;trap
2cb9 : 68              >            pla         ;load status
                       >            eor_flag 0
2cba : 4934            >            eor #(0|$34)
                       >
2cbc : dd1902          >            cmp fROL,x    ;test flags
2cbf : d0fe            >            bne *       ;trap
                        
2cc1 : ca                       dex
2cc2 : 10e3                     bpl trol2
2cc4 : a203                     ldx #3
2cc6 :                  trol3
                                set_z zp1,$ff-fc
                       >            load_flag $ff-fc
2cc6 : a9fe            >            lda #$ff-fc|4
                       >
2cc8 : 48              >            pha         ;use stack to load status
2cc9 : b50a            >            lda zp1,x    ;load to zeropage
2ccb : 850f            >            sta zpt
2ccd : 28              >            plp
                        
2cce : 260f                     rol zpt
                                tst_z rROL,fROL,$ff-fnzc
2cd0 : 08              >            php         ;save flags
2cd1 : a50f            >            lda zpt
2cd3 : dd0902          >            cmp rROL,x    ;test result
2cd6 : d0fe            >            bne *       ;trap
2cd8 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2cd9 : 497c            >            eor #($ff-fnzc|$34)
                       >
2cdb : dd1902          >            cmp fROL,x    ;test flags
2cde : d0fe            >            bne *       ;trap
                        
2ce0 : ca                       dex
2ce1 : 10e3                     bpl trol3
                        
2ce3 : a203                     ldx #3
2ce5 :                  trolc2
                                set_z zp1,fc
                       >            load_flag fc
2ce5 : a905            >            lda #fc|4
                       >
2ce7 : 48              >            pha         ;use stack to load status
2ce8 : b50a            >            lda zp1,x    ;load to zeropage
2cea : 850f            >            sta zpt
2cec : 28              >            plp
                        
2ced : 260f                     rol zpt
                                tst_z rROLc,fROLc,0
2cef : 08              >            php         ;save flags
2cf0 : a50f            >            lda zpt
2cf2 : dd0d02          >            cmp rROLc,x    ;test result
2cf5 : d0fe            >            bne *       ;trap
2cf7 : 68              >            pla         ;load status
                       >            eor_flag 0
2cf8 : 4934            >            eor #(0|$34)
                       >
2cfa : dd1d02          >            cmp fROLc,x    ;test flags
2cfd : d0fe            >            bne *       ;trap
                        
2cff : ca                       dex
2d00 : 10e3                     bpl trolc2
2d02 : a203                     ldx #3
2d04 :                  trolc3
                                set_z zp1,$ff
                       >            load_flag $ff
2d04 : a9ff            >            lda #$ff|4
                       >
2d06 : 48              >            pha         ;use stack to load status
2d07 : b50a            >            lda zp1,x    ;load to zeropage
2d09 : 850f            >            sta zpt
2d0b : 28              >            plp
                        
2d0c : 260f                     rol zpt
                                tst_z rROLc,fROLc,$ff-fnzc
2d0e : 08              >            php         ;save flags
2d0f : a50f            >            lda zpt
2d11 : dd0d02          >            cmp rROLc,x    ;test result
2d14 : d0fe            >            bne *       ;trap
2d16 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2d17 : 497c            >            eor #($ff-fnzc|$34)
                       >
2d19 : dd1d02          >            cmp fROLc,x    ;test flags
2d1c : d0fe            >            bne *       ;trap
                        
2d1e : ca                       dex
2d1f : 10e3                     bpl trolc3
                        
2d21 : a203                     ldx #3
2d23 :                  tror2
                                set_z zp1,0
                       >            load_flag 0
2d23 : a904            >            lda #0|4
                       >
2d25 : 48              >            pha         ;use stack to load status
2d26 : b50a            >            lda zp1,x    ;load to zeropage
2d28 : 850f            >            sta zpt
2d2a : 28              >            plp
                        
2d2b : 660f                     ror zpt
                                tst_z rROR,fROR,0
2d2d : 08              >            php         ;save flags
2d2e : a50f            >            lda zpt
2d30 : dd1102          >            cmp rROR,x    ;test result
2d33 : d0fe            >            bne *       ;trap
2d35 : 68              >            pla         ;load status
                       >            eor_flag 0
2d36 : 4934            >            eor #(0|$34)
                       >
2d38 : dd2102          >            cmp fROR,x    ;test flags
2d3b : d0fe            >            bne *       ;trap
                        
2d3d : ca                       dex
2d3e : 10e3                     bpl tror2
2d40 : a203                     ldx #3
2d42 :                  tror3
                                set_z zp1,$ff-fc
                       >            load_flag $ff-fc
2d42 : a9fe            >            lda #$ff-fc|4
                       >
2d44 : 48              >            pha         ;use stack to load status
2d45 : b50a            >            lda zp1,x    ;load to zeropage
2d47 : 850f            >            sta zpt
2d49 : 28              >            plp
                        
2d4a : 660f                     ror zpt
                                tst_z rROR,fROR,$ff-fnzc
2d4c : 08              >            php         ;save flags
2d4d : a50f            >            lda zpt
2d4f : dd1102          >            cmp rROR,x    ;test result
2d52 : d0fe            >            bne *       ;trap
2d54 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2d55 : 497c            >            eor #($ff-fnzc|$34)
                       >
2d57 : dd2102          >            cmp fROR,x    ;test flags
2d5a : d0fe            >            bne *       ;trap
                        
2d5c : ca                       dex
2d5d : 10e3                     bpl tror3
                        
2d5f : a203                     ldx #3
2d61 :                  trorc2
                                set_z zp1,fc
                       >            load_flag fc
2d61 : a905            >            lda #fc|4
                       >
2d63 : 48              >            pha         ;use stack to load status
2d64 : b50a            >            lda zp1,x    ;load to zeropage
2d66 : 850f            >            sta zpt
2d68 : 28              >            plp
                        
2d69 : 660f                     ror zpt
                                tst_z rRORc,fRORc,0
2d6b : 08              >            php         ;save flags
2d6c : a50f            >            lda zpt
2d6e : dd1502          >            cmp rRORc,x    ;test result
2d71 : d0fe            >            bne *       ;trap
2d73 : 68              >            pla         ;load status
                       >            eor_flag 0
2d74 : 4934            >            eor #(0|$34)
                       >
2d76 : dd2502          >            cmp fRORc,x    ;test flags
2d79 : d0fe            >            bne *       ;trap
                        
2d7b : ca                       dex
2d7c : 10e3                     bpl trorc2
2d7e : a203                     ldx #3
2d80 :                  trorc3
                                set_z zp1,$ff
                       >            load_flag $ff
2d80 : a9ff            >            lda #$ff|4
                       >
2d82 : 48              >            pha         ;use stack to load status
2d83 : b50a            >            lda zp1,x    ;load to zeropage
2d85 : 850f            >            sta zpt
2d87 : 28              >            plp
                        
2d88 : 660f                     ror zpt
                                tst_z rRORc,fRORc,$ff-fnzc
2d8a : 08              >            php         ;save flags
2d8b : a50f            >            lda zpt
2d8d : dd1502          >            cmp rRORc,x    ;test result
2d90 : d0fe            >            bne *       ;trap
2d92 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2d93 : 497c            >            eor #($ff-fnzc|$34)
                       >
2d95 : dd2502          >            cmp fRORc,x    ;test flags
2d98 : d0fe            >            bne *       ;trap
                        
2d9a : ca                       dex
2d9b : 10e3                     bpl trorc3
                        
                        ; shifts - absolute
2d9d : a203                     ldx #3
2d9f :                  tasl4
                                set_abs zp1,0
                       >            load_flag 0
2d9f : a904            >            lda #0|4
                       >
2da1 : 48              >            pha         ;use stack to load status
2da2 : b50a            >            lda zp1,x    ;load to memory
2da4 : 8d3302          >            sta abst
2da7 : 28              >            plp
                        
2da8 : 0e3302                   asl abst
                                tst_abs rASL,fASL,0
2dab : 08              >            php         ;save flags
2dac : ad3302          >            lda abst
2daf : dd0902          >            cmp rASL,x    ;test result
2db2 : d0fe            >            bne *       ;trap
2db4 : 68              >            pla         ;load status
                       >            eor_flag 0
2db5 : 4934            >            eor #(0|$34)
                       >
2db7 : dd1902          >            cmp fASL,x    ;test flags
2dba : d0fe            >            bne *       ;trap
                        
2dbc : ca                       dex
2dbd : 10e0                     bpl tasl4
2dbf : a203                     ldx #3
2dc1 :                  tasl5
                                set_abs zp1,$ff
                       >            load_flag $ff
2dc1 : a9ff            >            lda #$ff|4
                       >
2dc3 : 48              >            pha         ;use stack to load status
2dc4 : b50a            >            lda zp1,x    ;load to memory
2dc6 : 8d3302          >            sta abst
2dc9 : 28              >            plp
                        
2dca : 0e3302                   asl abst
                                tst_abs rASL,fASL,$ff-fnzc
2dcd : 08              >            php         ;save flags
2dce : ad3302          >            lda abst
2dd1 : dd0902          >            cmp rASL,x    ;test result
2dd4 : d0fe            >            bne *       ;trap
2dd6 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2dd7 : 497c            >            eor #($ff-fnzc|$34)
                       >
2dd9 : dd1902          >            cmp fASL,x    ;test flags
2ddc : d0fe            >            bne *       ;trap
                        
2dde : ca                       dex
2ddf : 10e0                     bpl tasl5
                        
2de1 : a203                     ldx #3
2de3 :                  tlsr4
                                set_abs zp1,0
                       >            load_flag 0
2de3 : a904            >            lda #0|4
                       >
2de5 : 48              >            pha         ;use stack to load status
2de6 : b50a            >            lda zp1,x    ;load to memory
2de8 : 8d3302          >            sta abst
2deb : 28              >            plp
                        
2dec : 4e3302                   lsr abst
                                tst_abs rLSR,fLSR,0
2def : 08              >            php         ;save flags
2df0 : ad3302          >            lda abst
2df3 : dd1102          >            cmp rLSR,x    ;test result
2df6 : d0fe            >            bne *       ;trap
2df8 : 68              >            pla         ;load status
                       >            eor_flag 0
2df9 : 4934            >            eor #(0|$34)
                       >
2dfb : dd2102          >            cmp fLSR,x    ;test flags
2dfe : d0fe            >            bne *       ;trap
                        
2e00 : ca                       dex
2e01 : 10e0                     bpl tlsr4
2e03 : a203                     ldx #3
2e05 :                  tlsr5
                                set_abs zp1,$ff
                       >            load_flag $ff
2e05 : a9ff            >            lda #$ff|4
                       >
2e07 : 48              >            pha         ;use stack to load status
2e08 : b50a            >            lda zp1,x    ;load to memory
2e0a : 8d3302          >            sta abst
2e0d : 28              >            plp
                        
2e0e : 4e3302                   lsr abst
                                tst_abs rLSR,fLSR,$ff-fnzc
2e11 : 08              >            php         ;save flags
2e12 : ad3302          >            lda abst
2e15 : dd1102          >            cmp rLSR,x    ;test result
2e18 : d0fe            >            bne *       ;trap
2e1a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2e1b : 497c            >            eor #($ff-fnzc|$34)
                       >
2e1d : dd2102          >            cmp fLSR,x    ;test flags
2e20 : d0fe            >            bne *       ;trap
                        
2e22 : ca                       dex
2e23 : 10e0                     bpl tlsr5
                        
2e25 : a203                     ldx #3
2e27 :                  trol4
                                set_abs zp1,0
                       >            load_flag 0
2e27 : a904            >            lda #0|4
                       >
2e29 : 48              >            pha         ;use stack to load status
2e2a : b50a            >            lda zp1,x    ;load to memory
2e2c : 8d3302          >            sta abst
2e2f : 28              >            plp
                        
2e30 : 2e3302                   rol abst
                                tst_abs rROL,fROL,0
2e33 : 08              >            php         ;save flags
2e34 : ad3302          >            lda abst
2e37 : dd0902          >            cmp rROL,x    ;test result
2e3a : d0fe            >            bne *       ;trap
2e3c : 68              >            pla         ;load status
                       >            eor_flag 0
2e3d : 4934            >            eor #(0|$34)
                       >
2e3f : dd1902          >            cmp fROL,x    ;test flags
2e42 : d0fe            >            bne *       ;trap
                        
2e44 : ca                       dex
2e45 : 10e0                     bpl trol4
2e47 : a203                     ldx #3
2e49 :                  trol5
                                set_abs zp1,$ff-fc
                       >            load_flag $ff-fc
2e49 : a9fe            >            lda #$ff-fc|4
                       >
2e4b : 48              >            pha         ;use stack to load status
2e4c : b50a            >            lda zp1,x    ;load to memory
2e4e : 8d3302          >            sta abst
2e51 : 28              >            plp
                        
2e52 : 2e3302                   rol abst
                                tst_abs rROL,fROL,$ff-fnzc
2e55 : 08              >            php         ;save flags
2e56 : ad3302          >            lda abst
2e59 : dd0902          >            cmp rROL,x    ;test result
2e5c : d0fe            >            bne *       ;trap
2e5e : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2e5f : 497c            >            eor #($ff-fnzc|$34)
                       >
2e61 : dd1902          >            cmp fROL,x    ;test flags
2e64 : d0fe            >            bne *       ;trap
                        
2e66 : ca                       dex
2e67 : 10e0                     bpl trol5
                        
2e69 : a203                     ldx #3
2e6b :                  trolc4
                                set_abs zp1,fc
                       >            load_flag fc
2e6b : a905            >            lda #fc|4
                       >
2e6d : 48              >            pha         ;use stack to load status
2e6e : b50a            >            lda zp1,x    ;load to memory
2e70 : 8d3302          >            sta abst
2e73 : 28              >            plp
                        
2e74 : 2e3302                   rol abst
                                tst_abs rROLc,fROLc,0
2e77 : 08              >            php         ;save flags
2e78 : ad3302          >            lda abst
2e7b : dd0d02          >            cmp rROLc,x    ;test result
2e7e : d0fe            >            bne *       ;trap
2e80 : 68              >            pla         ;load status
                       >            eor_flag 0
2e81 : 4934            >            eor #(0|$34)
                       >
2e83 : dd1d02          >            cmp fROLc,x    ;test flags
2e86 : d0fe            >            bne *       ;trap
                        
2e88 : ca                       dex
2e89 : 10e0                     bpl trolc4
2e8b : a203                     ldx #3
2e8d :                  trolc5
                                set_abs zp1,$ff
                       >            load_flag $ff
2e8d : a9ff            >            lda #$ff|4
                       >
2e8f : 48              >            pha         ;use stack to load status
2e90 : b50a            >            lda zp1,x    ;load to memory
2e92 : 8d3302          >            sta abst
2e95 : 28              >            plp
                        
2e96 : 2e3302                   rol abst
                                tst_abs rROLc,fROLc,$ff-fnzc
2e99 : 08              >            php         ;save flags
2e9a : ad3302          >            lda abst
2e9d : dd0d02          >            cmp rROLc,x    ;test result
2ea0 : d0fe            >            bne *       ;trap
2ea2 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2ea3 : 497c            >            eor #($ff-fnzc|$34)
                       >
2ea5 : dd1d02          >            cmp fROLc,x    ;test flags
2ea8 : d0fe            >            bne *       ;trap
                        
2eaa : ca                       dex
2eab : 10e0                     bpl trolc5
                        
2ead : a203                     ldx #3
2eaf :                  tror4
                                set_abs zp1,0
                       >            load_flag 0
2eaf : a904            >            lda #0|4
                       >
2eb1 : 48              >            pha         ;use stack to load status
2eb2 : b50a            >            lda zp1,x    ;load to memory
2eb4 : 8d3302          >            sta abst
2eb7 : 28              >            plp
                        
2eb8 : 6e3302                   ror abst
                                tst_abs rROR,fROR,0
2ebb : 08              >            php         ;save flags
2ebc : ad3302          >            lda abst
2ebf : dd1102          >            cmp rROR,x    ;test result
2ec2 : d0fe            >            bne *       ;trap
2ec4 : 68              >            pla         ;load status
                       >            eor_flag 0
2ec5 : 4934            >            eor #(0|$34)
                       >
2ec7 : dd2102          >            cmp fROR,x    ;test flags
2eca : d0fe            >            bne *       ;trap
                        
2ecc : ca                       dex
2ecd : 10e0                     bpl tror4
2ecf : a203                     ldx #3
2ed1 :                  tror5
                                set_abs zp1,$ff-fc
                       >            load_flag $ff-fc
2ed1 : a9fe            >            lda #$ff-fc|4
                       >
2ed3 : 48              >            pha         ;use stack to load status
2ed4 : b50a            >            lda zp1,x    ;load to memory
2ed6 : 8d3302          >            sta abst
2ed9 : 28              >            plp
                        
2eda : 6e3302                   ror abst
                                tst_abs rROR,fROR,$ff-fnzc
2edd : 08              >            php         ;save flags
2ede : ad3302          >            lda abst
2ee1 : dd1102          >            cmp rROR,x    ;test result
2ee4 : d0fe            >            bne *       ;trap
2ee6 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2ee7 : 497c            >            eor #($ff-fnzc|$34)
                       >
2ee9 : dd2102          >            cmp fROR,x    ;test flags
2eec : d0fe            >            bne *       ;trap
                        
2eee : ca                       dex
2eef : 10e0                     bpl tror5
                        
2ef1 : a203                     ldx #3
2ef3 :                  trorc4
                                set_abs zp1,fc
                       >            load_flag fc
2ef3 : a905            >            lda #fc|4
                       >
2ef5 : 48              >            pha         ;use stack to load status
2ef6 : b50a            >            lda zp1,x    ;load to memory
2ef8 : 8d3302          >            sta abst
2efb : 28              >            plp
                        
2efc : 6e3302                   ror abst
                                tst_abs rRORc,fRORc,0
2eff : 08              >            php         ;save flags
2f00 : ad3302          >            lda abst
2f03 : dd1502          >            cmp rRORc,x    ;test result
2f06 : d0fe            >            bne *       ;trap
2f08 : 68              >            pla         ;load status
                       >            eor_flag 0
2f09 : 4934            >            eor #(0|$34)
                       >
2f0b : dd2502          >            cmp fRORc,x    ;test flags
2f0e : d0fe            >            bne *       ;trap
                        
2f10 : ca                       dex
2f11 : 10e0                     bpl trorc4
2f13 : a203                     ldx #3
2f15 :                  trorc5
                                set_abs zp1,$ff
                       >            load_flag $ff
2f15 : a9ff            >            lda #$ff|4
                       >
2f17 : 48              >            pha         ;use stack to load status
2f18 : b50a            >            lda zp1,x    ;load to memory
2f1a : 8d3302          >            sta abst
2f1d : 28              >            plp
                        
2f1e : 6e3302                   ror abst
                                tst_abs rRORc,fRORc,$ff-fnzc
2f21 : 08              >            php         ;save flags
2f22 : ad3302          >            lda abst
2f25 : dd1502          >            cmp rRORc,x    ;test result
2f28 : d0fe            >            bne *       ;trap
2f2a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2f2b : 497c            >            eor #($ff-fnzc|$34)
                       >
2f2d : dd2502          >            cmp fRORc,x    ;test flags
2f30 : d0fe            >            bne *       ;trap
                        
2f32 : ca                       dex
2f33 : 10e0                     bpl trorc5
                        
                        ; shifts - zp indexed
2f35 : a203                     ldx #3
2f37 :                  tasl6
                                set_zx zp1,0
                       >            load_flag 0
2f37 : a904            >            lda #0|4
                       >
2f39 : 48              >            pha         ;use stack to load status
2f3a : b50a            >            lda zp1,x    ;load to zeropage
2f3c : 950f            >            sta zpt,x
2f3e : 28              >            plp
                        
2f3f : 160f                     asl zpt,x
                                tst_zx rASL,fASL,0
2f41 : 08              >            php         ;save flags
2f42 : b50f            >            lda zpt,x
2f44 : dd0902          >            cmp rASL,x    ;test result
2f47 : d0fe            >            bne *       ;trap
2f49 : 68              >            pla         ;load status
                       >            eor_flag 0
2f4a : 4934            >            eor #(0|$34)
                       >
2f4c : dd1902          >            cmp fASL,x    ;test flags
2f4f : d0fe            >            bne *       ;trap
                        
2f51 : ca                       dex
2f52 : 10e3                     bpl tasl6
2f54 : a203                     ldx #3
2f56 :                  tasl7
                                set_zx zp1,$ff
                       >            load_flag $ff
2f56 : a9ff            >            lda #$ff|4
                       >
2f58 : 48              >            pha         ;use stack to load status
2f59 : b50a            >            lda zp1,x    ;load to zeropage
2f5b : 950f            >            sta zpt,x
2f5d : 28              >            plp
                        
2f5e : 160f                     asl zpt,x
                                tst_zx rASL,fASL,$ff-fnzc
2f60 : 08              >            php         ;save flags
2f61 : b50f            >            lda zpt,x
2f63 : dd0902          >            cmp rASL,x    ;test result
2f66 : d0fe            >            bne *       ;trap
2f68 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2f69 : 497c            >            eor #($ff-fnzc|$34)
                       >
2f6b : dd1902          >            cmp fASL,x    ;test flags
2f6e : d0fe            >            bne *       ;trap
                        
2f70 : ca                       dex
2f71 : 10e3                     bpl tasl7
                        
2f73 : a203                     ldx #3
2f75 :                  tlsr6
                                set_zx zp1,0
                       >            load_flag 0
2f75 : a904            >            lda #0|4
                       >
2f77 : 48              >            pha         ;use stack to load status
2f78 : b50a            >            lda zp1,x    ;load to zeropage
2f7a : 950f            >            sta zpt,x
2f7c : 28              >            plp
                        
2f7d : 560f                     lsr zpt,x
                                tst_zx rLSR,fLSR,0
2f7f : 08              >            php         ;save flags
2f80 : b50f            >            lda zpt,x
2f82 : dd1102          >            cmp rLSR,x    ;test result
2f85 : d0fe            >            bne *       ;trap
2f87 : 68              >            pla         ;load status
                       >            eor_flag 0
2f88 : 4934            >            eor #(0|$34)
                       >
2f8a : dd2102          >            cmp fLSR,x    ;test flags
2f8d : d0fe            >            bne *       ;trap
                        
2f8f : ca                       dex
2f90 : 10e3                     bpl tlsr6
2f92 : a203                     ldx #3
2f94 :                  tlsr7
                                set_zx zp1,$ff
                       >            load_flag $ff
2f94 : a9ff            >            lda #$ff|4
                       >
2f96 : 48              >            pha         ;use stack to load status
2f97 : b50a            >            lda zp1,x    ;load to zeropage
2f99 : 950f            >            sta zpt,x
2f9b : 28              >            plp
                        
2f9c : 560f                     lsr zpt,x
                                tst_zx rLSR,fLSR,$ff-fnzc
2f9e : 08              >            php         ;save flags
2f9f : b50f            >            lda zpt,x
2fa1 : dd1102          >            cmp rLSR,x    ;test result
2fa4 : d0fe            >            bne *       ;trap
2fa6 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2fa7 : 497c            >            eor #($ff-fnzc|$34)
                       >
2fa9 : dd2102          >            cmp fLSR,x    ;test flags
2fac : d0fe            >            bne *       ;trap
                        
2fae : ca                       dex
2faf : 10e3                     bpl tlsr7
                        
2fb1 : a203                     ldx #3
2fb3 :                  trol6
                                set_zx zp1,0
                       >            load_flag 0
2fb3 : a904            >            lda #0|4
                       >
2fb5 : 48              >            pha         ;use stack to load status
2fb6 : b50a            >            lda zp1,x    ;load to zeropage
2fb8 : 950f            >            sta zpt,x
2fba : 28              >            plp
                        
2fbb : 360f                     rol zpt,x
                                tst_zx rROL,fROL,0
2fbd : 08              >            php         ;save flags
2fbe : b50f            >            lda zpt,x
2fc0 : dd0902          >            cmp rROL,x    ;test result
2fc3 : d0fe            >            bne *       ;trap
2fc5 : 68              >            pla         ;load status
                       >            eor_flag 0
2fc6 : 4934            >            eor #(0|$34)
                       >
2fc8 : dd1902          >            cmp fROL,x    ;test flags
2fcb : d0fe            >            bne *       ;trap
                        
2fcd : ca                       dex
2fce : 10e3                     bpl trol6
2fd0 : a203                     ldx #3
2fd2 :                  trol7
                                set_zx zp1,$ff-fc
                       >            load_flag $ff-fc
2fd2 : a9fe            >            lda #$ff-fc|4
                       >
2fd4 : 48              >            pha         ;use stack to load status
2fd5 : b50a            >            lda zp1,x    ;load to zeropage
2fd7 : 950f            >            sta zpt,x
2fd9 : 28              >            plp
                        
2fda : 360f                     rol zpt,x
                                tst_zx rROL,fROL,$ff-fnzc
2fdc : 08              >            php         ;save flags
2fdd : b50f            >            lda zpt,x
2fdf : dd0902          >            cmp rROL,x    ;test result
2fe2 : d0fe            >            bne *       ;trap
2fe4 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
2fe5 : 497c            >            eor #($ff-fnzc|$34)
                       >
2fe7 : dd1902          >            cmp fROL,x    ;test flags
2fea : d0fe            >            bne *       ;trap
                        
2fec : ca                       dex
2fed : 10e3                     bpl trol7
                        
2fef : a203                     ldx #3
2ff1 :                  trolc6
                                set_zx zp1,fc
                       >            load_flag fc
2ff1 : a905            >            lda #fc|4
                       >
2ff3 : 48              >            pha         ;use stack to load status
2ff4 : b50a            >            lda zp1,x    ;load to zeropage
2ff6 : 950f            >            sta zpt,x
2ff8 : 28              >            plp
                        
2ff9 : 360f                     rol zpt,x
                                tst_zx rROLc,fROLc,0
2ffb : 08              >            php         ;save flags
2ffc : b50f            >            lda zpt,x
2ffe : dd0d02          >            cmp rROLc,x    ;test result
3001 : d0fe            >            bne *       ;trap
3003 : 68              >            pla         ;load status
                       >            eor_flag 0
3004 : 4934            >            eor #(0|$34)
                       >
3006 : dd1d02          >            cmp fROLc,x    ;test flags
3009 : d0fe            >            bne *       ;trap
                        
300b : ca                       dex
300c : 10e3                     bpl trolc6
300e : a203                     ldx #3
3010 :                  trolc7
                                set_zx zp1,$ff
                       >            load_flag $ff
3010 : a9ff            >            lda #$ff|4
                       >
3012 : 48              >            pha         ;use stack to load status
3013 : b50a            >            lda zp1,x    ;load to zeropage
3015 : 950f            >            sta zpt,x
3017 : 28              >            plp
                        
3018 : 360f                     rol zpt,x
                                tst_zx rROLc,fROLc,$ff-fnzc
301a : 08              >            php         ;save flags
301b : b50f            >            lda zpt,x
301d : dd0d02          >            cmp rROLc,x    ;test result
3020 : d0fe            >            bne *       ;trap
3022 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
3023 : 497c            >            eor #($ff-fnzc|$34)
                       >
3025 : dd1d02          >            cmp fROLc,x    ;test flags
3028 : d0fe            >            bne *       ;trap
                        
302a : ca                       dex
302b : 10e3                     bpl trolc7
                        
302d : a203                     ldx #3
302f :                  tror6
                                set_zx zp1,0
                       >            load_flag 0
302f : a904            >            lda #0|4
                       >
3031 : 48              >            pha         ;use stack to load status
3032 : b50a            >            lda zp1,x    ;load to zeropage
3034 : 950f            >            sta zpt,x
3036 : 28              >            plp
                        
3037 : 760f                     ror zpt,x
                                tst_zx rROR,fROR,0
3039 : 08              >            php         ;save flags
303a : b50f            >            lda zpt,x
303c : dd1102          >            cmp rROR,x    ;test result
303f : d0fe            >            bne *       ;trap
3041 : 68              >            pla         ;load status
                       >            eor_flag 0
3042 : 4934            >            eor #(0|$34)
                       >
3044 : dd2102          >            cmp fROR,x    ;test flags
3047 : d0fe            >            bne *       ;trap
                        
3049 : ca                       dex
304a : 10e3                     bpl tror6
304c : a203                     ldx #3
304e :                  tror7
                                set_zx zp1,$ff-fc
                       >            load_flag $ff-fc
304e : a9fe            >            lda #$ff-fc|4
                       >
3050 : 48              >            pha         ;use stack to load status
3051 : b50a            >            lda zp1,x    ;load to zeropage
3053 : 950f            >            sta zpt,x
3055 : 28              >            plp
                        
3056 : 760f                     ror zpt,x
                                tst_zx rROR,fROR,$ff-fnzc
3058 : 08              >            php         ;save flags
3059 : b50f            >            lda zpt,x
305b : dd1102          >            cmp rROR,x    ;test result
305e : d0fe            >            bne *       ;trap
3060 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
3061 : 497c            >            eor #($ff-fnzc|$34)
                       >
3063 : dd2102          >            cmp fROR,x    ;test flags
3066 : d0fe            >            bne *       ;trap
                        
3068 : ca                       dex
3069 : 10e3                     bpl tror7
                        
306b : a203                     ldx #3
306d :                  trorc6
                                set_zx zp1,fc
                       >            load_flag fc
306d : a905            >            lda #fc|4
                       >
306f : 48              >            pha         ;use stack to load status
3070 : b50a            >            lda zp1,x    ;load to zeropage
3072 : 950f            >            sta zpt,x
3074 : 28              >            plp
                        
3075 : 760f                     ror zpt,x
                                tst_zx rRORc,fRORc,0
3077 : 08              >            php         ;save flags
3078 : b50f            >            lda zpt,x
307a : dd1502          >            cmp rRORc,x    ;test result
307d : d0fe            >            bne *       ;trap
307f : 68              >            pla         ;load status
                       >            eor_flag 0
3080 : 4934            >            eor #(0|$34)
                       >
3082 : dd2502          >            cmp fRORc,x    ;test flags
3085 : d0fe            >            bne *       ;trap
                        
3087 : ca                       dex
3088 : 10e3                     bpl trorc6
308a : a203                     ldx #3
308c :                  trorc7
                                set_zx zp1,$ff
                       >            load_flag $ff
308c : a9ff            >            lda #$ff|4
                       >
308e : 48              >            pha         ;use stack to load status
308f : b50a            >            lda zp1,x    ;load to zeropage
3091 : 950f            >            sta zpt,x
3093 : 28              >            plp
                        
3094 : 760f                     ror zpt,x
                                tst_zx rRORc,fRORc,$ff-fnzc
3096 : 08              >            php         ;save flags
3097 : b50f            >            lda zpt,x
3099 : dd1502          >            cmp rRORc,x    ;test result
309c : d0fe            >            bne *       ;trap
309e : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
309f : 497c            >            eor #($ff-fnzc|$34)
                       >
30a1 : dd2502          >            cmp fRORc,x    ;test flags
30a4 : d0fe            >            bne *       ;trap
                        
30a6 : ca                       dex
30a7 : 10e3                     bpl trorc7
                        
                        ; shifts - abs indexed
30a9 : a203                     ldx #3
30ab :                  tasl8
                                set_absx zp1,0
                       >            load_flag 0
30ab : a904            >            lda #0|4
                       >
30ad : 48              >            pha         ;use stack to load status
30ae : b50a            >            lda zp1,x    ;load to memory
30b0 : 9d3302          >            sta abst,x
30b3 : 28              >            plp
                        
30b4 : 1e3302                   asl abst,x
                                tst_absx rASL,fASL,0
30b7 : 08              >            php         ;save flags
30b8 : bd3302          >            lda abst,x
30bb : dd0902          >            cmp rASL,x    ;test result
30be : d0fe            >            bne *       ;trap
30c0 : 68              >            pla         ;load status
                       >            eor_flag 0
30c1 : 4934            >            eor #(0|$34)
                       >
30c3 : dd1902          >            cmp fASL,x    ;test flags
30c6 : d0fe            >            bne *       ;trap
                        
30c8 : ca                       dex
30c9 : 10e0                     bpl tasl8
30cb : a203                     ldx #3
30cd :                  tasl9
                                set_absx zp1,$ff
                       >            load_flag $ff
30cd : a9ff            >            lda #$ff|4
                       >
30cf : 48              >            pha         ;use stack to load status
30d0 : b50a            >            lda zp1,x    ;load to memory
30d2 : 9d3302          >            sta abst,x
30d5 : 28              >            plp
                        
30d6 : 1e3302                   asl abst,x
                                tst_absx rASL,fASL,$ff-fnzc
30d9 : 08              >            php         ;save flags
30da : bd3302          >            lda abst,x
30dd : dd0902          >            cmp rASL,x    ;test result
30e0 : d0fe            >            bne *       ;trap
30e2 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
30e3 : 497c            >            eor #($ff-fnzc|$34)
                       >
30e5 : dd1902          >            cmp fASL,x    ;test flags
30e8 : d0fe            >            bne *       ;trap
                        
30ea : ca                       dex
30eb : 10e0                     bpl tasl9
                        
30ed : a203                     ldx #3
30ef :                  tlsr8
                                set_absx zp1,0
                       >            load_flag 0
30ef : a904            >            lda #0|4
                       >
30f1 : 48              >            pha         ;use stack to load status
30f2 : b50a            >            lda zp1,x    ;load to memory
30f4 : 9d3302          >            sta abst,x
30f7 : 28              >            plp
                        
30f8 : 5e3302                   lsr abst,x
                                tst_absx rLSR,fLSR,0
30fb : 08              >            php         ;save flags
30fc : bd3302          >            lda abst,x
30ff : dd1102          >            cmp rLSR,x    ;test result
3102 : d0fe            >            bne *       ;trap
3104 : 68              >            pla         ;load status
                       >            eor_flag 0
3105 : 4934            >            eor #(0|$34)
                       >
3107 : dd2102          >            cmp fLSR,x    ;test flags
310a : d0fe            >            bne *       ;trap
                        
310c : ca                       dex
310d : 10e0                     bpl tlsr8
310f : a203                     ldx #3
3111 :                  tlsr9
                                set_absx zp1,$ff
                       >            load_flag $ff
3111 : a9ff            >            lda #$ff|4
                       >
3113 : 48              >            pha         ;use stack to load status
3114 : b50a            >            lda zp1,x    ;load to memory
3116 : 9d3302          >            sta abst,x
3119 : 28              >            plp
                        
311a : 5e3302                   lsr abst,x
                                tst_absx rLSR,fLSR,$ff-fnzc
311d : 08              >            php         ;save flags
311e : bd3302          >            lda abst,x
3121 : dd1102          >            cmp rLSR,x    ;test result
3124 : d0fe            >            bne *       ;trap
3126 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
3127 : 497c            >            eor #($ff-fnzc|$34)
                       >
3129 : dd2102          >            cmp fLSR,x    ;test flags
312c : d0fe            >            bne *       ;trap
                        
312e : ca                       dex
312f : 10e0                     bpl tlsr9
                        
3131 : a203                     ldx #3
3133 :                  trol8
                                set_absx zp1,0
                       >            load_flag 0
3133 : a904            >            lda #0|4
                       >
3135 : 48              >            pha         ;use stack to load status
3136 : b50a            >            lda zp1,x    ;load to memory
3138 : 9d3302          >            sta abst,x
313b : 28              >            plp
                        
313c : 3e3302                   rol abst,x
                                tst_absx rROL,fROL,0
313f : 08              >            php         ;save flags
3140 : bd3302          >            lda abst,x
3143 : dd0902          >            cmp rROL,x    ;test result
3146 : d0fe            >            bne *       ;trap
3148 : 68              >            pla         ;load status
                       >            eor_flag 0
3149 : 4934            >            eor #(0|$34)
                       >
314b : dd1902          >            cmp fROL,x    ;test flags
314e : d0fe            >            bne *       ;trap
                        
3150 : ca                       dex
3151 : 10e0                     bpl trol8
3153 : a203                     ldx #3
3155 :                  trol9
                                set_absx zp1,$ff-fc
                       >            load_flag $ff-fc
3155 : a9fe            >            lda #$ff-fc|4
                       >
3157 : 48              >            pha         ;use stack to load status
3158 : b50a            >            lda zp1,x    ;load to memory
315a : 9d3302          >            sta abst,x
315d : 28              >            plp
                        
315e : 3e3302                   rol abst,x
                                tst_absx rROL,fROL,$ff-fnzc
3161 : 08              >            php         ;save flags
3162 : bd3302          >            lda abst,x
3165 : dd0902          >            cmp rROL,x    ;test result
3168 : d0fe            >            bne *       ;trap
316a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
316b : 497c            >            eor #($ff-fnzc|$34)
                       >
316d : dd1902          >            cmp fROL,x    ;test flags
3170 : d0fe            >            bne *       ;trap
                        
3172 : ca                       dex
3173 : 10e0                     bpl trol9
                        
3175 : a203                     ldx #3
3177 :                  trolc8
                                set_absx zp1,fc
                       >            load_flag fc
3177 : a905            >            lda #fc|4
                       >
3179 : 48              >            pha         ;use stack to load status
317a : b50a            >            lda zp1,x    ;load to memory
317c : 9d3302          >            sta abst,x
317f : 28              >            plp
                        
3180 : 3e3302                   rol abst,x
                                tst_absx rROLc,fROLc,0
3183 : 08              >            php         ;save flags
3184 : bd3302          >            lda abst,x
3187 : dd0d02          >            cmp rROLc,x    ;test result
318a : d0fe            >            bne *       ;trap
318c : 68              >            pla         ;load status
                       >            eor_flag 0
318d : 4934            >            eor #(0|$34)
                       >
318f : dd1d02          >            cmp fROLc,x    ;test flags
3192 : d0fe            >            bne *       ;trap
                        
3194 : ca                       dex
3195 : 10e0                     bpl trolc8
3197 : a203                     ldx #3
3199 :                  trolc9
                                set_absx zp1,$ff
                       >            load_flag $ff
3199 : a9ff            >            lda #$ff|4
                       >
319b : 48              >            pha         ;use stack to load status
319c : b50a            >            lda zp1,x    ;load to memory
319e : 9d3302          >            sta abst,x
31a1 : 28              >            plp
                        
31a2 : 3e3302                   rol abst,x
                                tst_absx rROLc,fROLc,$ff-fnzc
31a5 : 08              >            php         ;save flags
31a6 : bd3302          >            lda abst,x
31a9 : dd0d02          >            cmp rROLc,x    ;test result
31ac : d0fe            >            bne *       ;trap
31ae : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
31af : 497c            >            eor #($ff-fnzc|$34)
                       >
31b1 : dd1d02          >            cmp fROLc,x    ;test flags
31b4 : d0fe            >            bne *       ;trap
                        
31b6 : ca                       dex
31b7 : 10e0                     bpl trolc9
                        
31b9 : a203                     ldx #3
31bb :                  tror8
                                set_absx zp1,0
                       >            load_flag 0
31bb : a904            >            lda #0|4
                       >
31bd : 48              >            pha         ;use stack to load status
31be : b50a            >            lda zp1,x    ;load to memory
31c0 : 9d3302          >            sta abst,x
31c3 : 28              >            plp
                        
31c4 : 7e3302                   ror abst,x
                                tst_absx rROR,fROR,0
31c7 : 08              >            php         ;save flags
31c8 : bd3302          >            lda abst,x
31cb : dd1102          >            cmp rROR,x    ;test result
31ce : d0fe            >            bne *       ;trap
31d0 : 68              >            pla         ;load status
                       >            eor_flag 0
31d1 : 4934            >            eor #(0|$34)
                       >
31d3 : dd2102          >            cmp fROR,x    ;test flags
31d6 : d0fe            >            bne *       ;trap
                        
31d8 : ca                       dex
31d9 : 10e0                     bpl tror8
31db : a203                     ldx #3
31dd :                  tror9
                                set_absx zp1,$ff-fc
                       >            load_flag $ff-fc
31dd : a9fe            >            lda #$ff-fc|4
                       >
31df : 48              >            pha         ;use stack to load status
31e0 : b50a            >            lda zp1,x    ;load to memory
31e2 : 9d3302          >            sta abst,x
31e5 : 28              >            plp
                        
31e6 : 7e3302                   ror abst,x
                                tst_absx rROR,fROR,$ff-fnzc
31e9 : 08              >            php         ;save flags
31ea : bd3302          >            lda abst,x
31ed : dd1102          >            cmp rROR,x    ;test result
31f0 : d0fe            >            bne *       ;trap
31f2 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
31f3 : 497c            >            eor #($ff-fnzc|$34)
                       >
31f5 : dd2102          >            cmp fROR,x    ;test flags
31f8 : d0fe            >            bne *       ;trap
                        
31fa : ca                       dex
31fb : 10e0                     bpl tror9
                        
31fd : a203                     ldx #3
31ff :                  trorc8
                                set_absx zp1,fc
                       >            load_flag fc
31ff : a905            >            lda #fc|4
                       >
3201 : 48              >            pha         ;use stack to load status
3202 : b50a            >            lda zp1,x    ;load to memory
3204 : 9d3302          >            sta abst,x
3207 : 28              >            plp
                        
3208 : 7e3302                   ror abst,x
                                tst_absx rRORc,fRORc,0
320b : 08              >            php         ;save flags
320c : bd3302          >            lda abst,x
320f : dd1502          >            cmp rRORc,x    ;test result
3212 : d0fe            >            bne *       ;trap
3214 : 68              >            pla         ;load status
                       >            eor_flag 0
3215 : 4934            >            eor #(0|$34)
                       >
3217 : dd2502          >            cmp fRORc,x    ;test flags
321a : d0fe            >            bne *       ;trap
                        
321c : ca                       dex
321d : 10e0                     bpl trorc8
321f : a203                     ldx #3
3221 :                  trorc9
                                set_absx zp1,$ff
                       >            load_flag $ff
3221 : a9ff            >            lda #$ff|4
                       >
3223 : 48              >            pha         ;use stack to load status
3224 : b50a            >            lda zp1,x    ;load to memory
3226 : 9d3302          >            sta abst,x
3229 : 28              >            plp
                        
322a : 7e3302                   ror abst,x
                                tst_absx rRORc,fRORc,$ff-fnzc
322d : 08              >            php         ;save flags
322e : bd3302          >            lda abst,x
3231 : dd1502          >            cmp rRORc,x    ;test result
3234 : d0fe            >            bne *       ;trap
3236 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnzc
3237 : 497c            >            eor #($ff-fnzc|$34)
                       >
3239 : dd2502          >            cmp fRORc,x    ;test flags
323c : d0fe            >            bne *       ;trap
                        
323e : ca                       dex
323f : 10e0                     bpl trorc9
                        
                        ; testing memory increment/decrement - INC DEC all add
                        ; zeropage
3241 : a200                     ldx #0
3243 : a97e                     lda #$7e
3245 : 850f                     sta zpt
3247 :                  tinc
                                set_stat 0
                       >            load_flag 0
3247 : a904            >            lda #0|4
                       >
3249 : 48              >            pha         ;use stack to load status
324a : 28              >            plp
                        
324b : e60f                     inc zpt
                                tst_z rINC,fINC,0
324d : 08              >            php         ;save flags
324e : a50f            >            lda zpt
3250 : dd2902          >            cmp rINC,x    ;test result
3253 : d0fe            >            bne *       ;trap
3255 : 68              >            pla         ;load status
                       >            eor_flag 0
3256 : 4934            >            eor #(0|$34)
                       >
3258 : dd2e02          >            cmp fINC,x    ;test flags
325b : d0fe            >            bne *       ;trap
                        
325d : e8                       inx
325e : e002                     cpx #2
3260 : d004                     bne tinc1
3262 : a9fe                     lda #$fe
3264 : 850f                     sta zpt
3266 : e005             tinc1   cpx #5
3268 : d0dd                     bne tinc
326a : ca                       dex
326b : e60f                     inc zpt
326d :                  tdec
                                set_stat 0
                       >            load_flag 0
326d : a904            >            lda #0|4
                       >
326f : 48              >            pha         ;use stack to load status
3270 : 28              >            plp
                        
3271 : c60f                     dec zpt
                                tst_z rINC,fINC,0
3273 : 08              >            php         ;save flags
3274 : a50f            >            lda zpt
3276 : dd2902          >            cmp rINC,x    ;test result
3279 : d0fe            >            bne *       ;trap
327b : 68              >            pla         ;load status
                       >            eor_flag 0
327c : 4934            >            eor #(0|$34)
                       >
327e : dd2e02          >            cmp fINC,x    ;test flags
3281 : d0fe            >            bne *       ;trap
                        
3283 : ca                       dex
3284 : 300a                     bmi tdec1
3286 : e001                     cpx #1
3288 : d0e3                     bne tdec
328a : a981                     lda #$81
328c : 850f                     sta zpt
328e : d0dd                     bne tdec
3290 :                  tdec1
3290 : a200                     ldx #0
3292 : a97e                     lda #$7e
3294 : 850f                     sta zpt
3296 :                  tinc10
                                set_stat $ff
                       >            load_flag $ff
3296 : a9ff            >            lda #$ff|4
                       >
3298 : 48              >            pha         ;use stack to load status
3299 : 28              >            plp
                        
329a : e60f                     inc zpt
                                tst_z rINC,fINC,$ff-fnz
329c : 08              >            php         ;save flags
329d : a50f            >            lda zpt
329f : dd2902          >            cmp rINC,x    ;test result
32a2 : d0fe            >            bne *       ;trap
32a4 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
32a5 : 497d            >            eor #($ff-fnz|$34)
                       >
32a7 : dd2e02          >            cmp fINC,x    ;test flags
32aa : d0fe            >            bne *       ;trap
                        
32ac : e8                       inx
32ad : e002                     cpx #2
32af : d004                     bne tinc11
32b1 : a9fe                     lda #$fe
32b3 : 850f                     sta zpt
32b5 : e005             tinc11  cpx #5
32b7 : d0dd                     bne tinc10
32b9 : ca                       dex
32ba : e60f                     inc zpt
32bc :                  tdec10
                                set_stat $ff
                       >            load_flag $ff
32bc : a9ff            >            lda #$ff|4
                       >
32be : 48              >            pha         ;use stack to load status
32bf : 28              >            plp
                        
32c0 : c60f                     dec zpt
                                tst_z rINC,fINC,$ff-fnz
32c2 : 08              >            php         ;save flags
32c3 : a50f            >            lda zpt
32c5 : dd2902          >            cmp rINC,x    ;test result
32c8 : d0fe            >            bne *       ;trap
32ca : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
32cb : 497d            >            eor #($ff-fnz|$34)
                       >
32cd : dd2e02          >            cmp fINC,x    ;test flags
32d0 : d0fe            >            bne *       ;trap
                        
32d2 : ca                       dex
32d3 : 300a                     bmi tdec11
32d5 : e001                     cpx #1
32d7 : d0e3                     bne tdec10
32d9 : a981                     lda #$81
32db : 850f                     sta zpt
32dd : d0dd                     bne tdec10
32df :                  tdec11
                        
                        ; absolute memory
32df : a200                     ldx #0
32e1 : a97e                     lda #$7e
32e3 : 8d3302                   sta abst
32e6 :                  tinc2
                                set_stat 0
                       >            load_flag 0
32e6 : a904            >            lda #0|4
                       >
32e8 : 48              >            pha         ;use stack to load status
32e9 : 28              >            plp
                        
32ea : ee3302                   inc abst
                                tst_abs rINC,fINC,0
32ed : 08              >            php         ;save flags
32ee : ad3302          >            lda abst
32f1 : dd2902          >            cmp rINC,x    ;test result
32f4 : d0fe            >            bne *       ;trap
32f6 : 68              >            pla         ;load status
                       >            eor_flag 0
32f7 : 4934            >            eor #(0|$34)
                       >
32f9 : dd2e02          >            cmp fINC,x    ;test flags
32fc : d0fe            >            bne *       ;trap
                        
32fe : e8                       inx
32ff : e002                     cpx #2
3301 : d005                     bne tinc3
3303 : a9fe                     lda #$fe
3305 : 8d3302                   sta abst
3308 : e005             tinc3   cpx #5
330a : d0da                     bne tinc2
330c : ca                       dex
330d : ee3302                   inc abst
3310 :                  tdec2
                                set_stat 0
                       >            load_flag 0
3310 : a904            >            lda #0|4
                       >
3312 : 48              >            pha         ;use stack to load status
3313 : 28              >            plp
                        
3314 : ce3302                   dec abst
                                tst_abs rINC,fINC,0
3317 : 08              >            php         ;save flags
3318 : ad3302          >            lda abst
331b : dd2902          >            cmp rINC,x    ;test result
331e : d0fe            >            bne *       ;trap
3320 : 68              >            pla         ;load status
                       >            eor_flag 0
3321 : 4934            >            eor #(0|$34)
                       >
3323 : dd2e02          >            cmp fINC,x    ;test flags
3326 : d0fe            >            bne *       ;trap
                        
3328 : ca                       dex
3329 : 300b                     bmi tdec3
332b : e001                     cpx #1
332d : d0e1                     bne tdec2
332f : a981                     lda #$81
3331 : 8d3302                   sta abst
3334 : d0da                     bne tdec2
3336 :                  tdec3
3336 : a200                     ldx #0
3338 : a97e                     lda #$7e
333a : 8d3302                   sta abst
333d :                  tinc12
                                set_stat $ff
                       >            load_flag $ff
333d : a9ff            >            lda #$ff|4
                       >
333f : 48              >            pha         ;use stack to load status
3340 : 28              >            plp
                        
3341 : ee3302                   inc abst
                                tst_abs rINC,fINC,$ff-fnz
3344 : 08              >            php         ;save flags
3345 : ad3302          >            lda abst
3348 : dd2902          >            cmp rINC,x    ;test result
334b : d0fe            >            bne *       ;trap
334d : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
334e : 497d            >            eor #($ff-fnz|$34)
                       >
3350 : dd2e02          >            cmp fINC,x    ;test flags
3353 : d0fe            >            bne *       ;trap
                        
3355 : e8                       inx
3356 : e002                     cpx #2
3358 : d005                     bne tinc13
335a : a9fe                     lda #$fe
335c : 8d3302                   sta abst
335f : e005             tinc13   cpx #5
3361 : d0da                     bne tinc12
3363 : ca                       dex
3364 : ee3302                   inc abst
3367 :                  tdec12
                                set_stat $ff
                       >            load_flag $ff
3367 : a9ff            >            lda #$ff|4
                       >
3369 : 48              >            pha         ;use stack to load status
336a : 28              >            plp
                        
336b : ce3302                   dec abst
                                tst_abs rINC,fINC,$ff-fnz
336e : 08              >            php         ;save flags
336f : ad3302          >            lda abst
3372 : dd2902          >            cmp rINC,x    ;test result
3375 : d0fe            >            bne *       ;trap
3377 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3378 : 497d            >            eor #($ff-fnz|$34)
                       >
337a : dd2e02          >            cmp fINC,x    ;test flags
337d : d0fe            >            bne *       ;trap
                        
337f : ca                       dex
3380 : 300b                     bmi tdec13
3382 : e001                     cpx #1
3384 : d0e1                     bne tdec12
3386 : a981                     lda #$81
3388 : 8d3302                   sta abst
338b : d0da                     bne tdec12
338d :                  tdec13
                        
                        ; zeropage indexed
338d : a200                     ldx #0
338f : a97e                     lda #$7e
3391 : 950f             tinc4   sta zpt,x
                                set_stat 0
                       >            load_flag 0
3393 : a904            >            lda #0|4
                       >
3395 : 48              >            pha         ;use stack to load status
3396 : 28              >            plp
                        
3397 : f60f                     inc zpt,x
                                tst_zx rINC,fINC,0
3399 : 08              >            php         ;save flags
339a : b50f            >            lda zpt,x
339c : dd2902          >            cmp rINC,x    ;test result
339f : d0fe            >            bne *       ;trap
33a1 : 68              >            pla         ;load status
                       >            eor_flag 0
33a2 : 4934            >            eor #(0|$34)
                       >
33a4 : dd2e02          >            cmp fINC,x    ;test flags
33a7 : d0fe            >            bne *       ;trap
                        
33a9 : b50f                     lda zpt,x
33ab : e8                       inx
33ac : e002                     cpx #2
33ae : d002                     bne tinc5
33b0 : a9fe                     lda #$fe
33b2 : e005             tinc5   cpx #5
33b4 : d0db                     bne tinc4
33b6 : ca                       dex
33b7 : a902                     lda #2
33b9 : 950f             tdec4   sta zpt,x
                                set_stat 0
                       >            load_flag 0
33bb : a904            >            lda #0|4
                       >
33bd : 48              >            pha         ;use stack to load status
33be : 28              >            plp
                        
33bf : d60f                     dec zpt,x
                                tst_zx rINC,fINC,0
33c1 : 08              >            php         ;save flags
33c2 : b50f            >            lda zpt,x
33c4 : dd2902          >            cmp rINC,x    ;test result
33c7 : d0fe            >            bne *       ;trap
33c9 : 68              >            pla         ;load status
                       >            eor_flag 0
33ca : 4934            >            eor #(0|$34)
                       >
33cc : dd2e02          >            cmp fINC,x    ;test flags
33cf : d0fe            >            bne *       ;trap
                        
33d1 : b50f                     lda zpt,x
33d3 : ca                       dex
33d4 : 3008                     bmi tdec5
33d6 : e001                     cpx #1
33d8 : d0df                     bne tdec4
33da : a981                     lda #$81
33dc : d0db                     bne tdec4
33de :                  tdec5
33de : a200                     ldx #0
33e0 : a97e                     lda #$7e
33e2 : 950f             tinc14  sta zpt,x
                                set_stat $ff
                       >            load_flag $ff
33e4 : a9ff            >            lda #$ff|4
                       >
33e6 : 48              >            pha         ;use stack to load status
33e7 : 28              >            plp
                        
33e8 : f60f                     inc zpt,x
                                tst_zx rINC,fINC,$ff-fnz
33ea : 08              >            php         ;save flags
33eb : b50f            >            lda zpt,x
33ed : dd2902          >            cmp rINC,x    ;test result
33f0 : d0fe            >            bne *       ;trap
33f2 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
33f3 : 497d            >            eor #($ff-fnz|$34)
                       >
33f5 : dd2e02          >            cmp fINC,x    ;test flags
33f8 : d0fe            >            bne *       ;trap
                        
33fa : b50f                     lda zpt,x
33fc : e8                       inx
33fd : e002                     cpx #2
33ff : d002                     bne tinc15
3401 : a9fe                     lda #$fe
3403 : e005             tinc15  cpx #5
3405 : d0db                     bne tinc14
3407 : ca                       dex
3408 : a902                     lda #2
340a : 950f             tdec14  sta zpt,x
                                set_stat $ff
                       >            load_flag $ff
340c : a9ff            >            lda #$ff|4
                       >
340e : 48              >            pha         ;use stack to load status
340f : 28              >            plp
                        
3410 : d60f                     dec zpt,x
                                tst_zx rINC,fINC,$ff-fnz
3412 : 08              >            php         ;save flags
3413 : b50f            >            lda zpt,x
3415 : dd2902          >            cmp rINC,x    ;test result
3418 : d0fe            >            bne *       ;trap
341a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
341b : 497d            >            eor #($ff-fnz|$34)
                       >
341d : dd2e02          >            cmp fINC,x    ;test flags
3420 : d0fe            >            bne *       ;trap
                        
3422 : b50f                     lda zpt,x
3424 : ca                       dex
3425 : 3008                     bmi tdec15
3427 : e001                     cpx #1
3429 : d0df                     bne tdec14
342b : a981                     lda #$81
342d : d0db                     bne tdec14
342f :                  tdec15
                        
                        ; memory indexed
342f : a200                     ldx #0
3431 : a97e                     lda #$7e
3433 : 9d3302           tinc6   sta abst,x
                                set_stat 0
                       >            load_flag 0
3436 : a904            >            lda #0|4
                       >
3438 : 48              >            pha         ;use stack to load status
3439 : 28              >            plp
                        
343a : fe3302                   inc abst,x
                                tst_absx rINC,fINC,0
343d : 08              >            php         ;save flags
343e : bd3302          >            lda abst,x
3441 : dd2902          >            cmp rINC,x    ;test result
3444 : d0fe            >            bne *       ;trap
3446 : 68              >            pla         ;load status
                       >            eor_flag 0
3447 : 4934            >            eor #(0|$34)
                       >
3449 : dd2e02          >            cmp fINC,x    ;test flags
344c : d0fe            >            bne *       ;trap
                        
344e : bd3302                   lda abst,x
3451 : e8                       inx
3452 : e002                     cpx #2
3454 : d002                     bne tinc7
3456 : a9fe                     lda #$fe
3458 : e005             tinc7   cpx #5
345a : d0d7                     bne tinc6
345c : ca                       dex
345d : a902                     lda #2
345f : 9d3302           tdec6   sta abst,x
                                set_stat 0
                       >            load_flag 0
3462 : a904            >            lda #0|4
                       >
3464 : 48              >            pha         ;use stack to load status
3465 : 28              >            plp
                        
3466 : de3302                   dec abst,x
                                tst_absx rINC,fINC,0
3469 : 08              >            php         ;save flags
346a : bd3302          >            lda abst,x
346d : dd2902          >            cmp rINC,x    ;test result
3470 : d0fe            >            bne *       ;trap
3472 : 68              >            pla         ;load status
                       >            eor_flag 0
3473 : 4934            >            eor #(0|$34)
                       >
3475 : dd2e02          >            cmp fINC,x    ;test flags
3478 : d0fe            >            bne *       ;trap
                        
347a : bd3302                   lda abst,x
347d : ca                       dex
347e : 3008                     bmi tdec7
3480 : e001                     cpx #1
3482 : d0db                     bne tdec6
3484 : a981                     lda #$81
3486 : d0d7                     bne tdec6
3488 :                  tdec7
3488 : a200                     ldx #0
348a : a97e                     lda #$7e
348c : 9d3302           tinc16  sta abst,x
                                set_stat $ff
                       >            load_flag $ff
348f : a9ff            >            lda #$ff|4
                       >
3491 : 48              >            pha         ;use stack to load status
3492 : 28              >            plp
                        
3493 : fe3302                   inc abst,x
                                tst_absx rINC,fINC,$ff-fnz
3496 : 08              >            php         ;save flags
3497 : bd3302          >            lda abst,x
349a : dd2902          >            cmp rINC,x    ;test result
349d : d0fe            >            bne *       ;trap
349f : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
34a0 : 497d            >            eor #($ff-fnz|$34)
                       >
34a2 : dd2e02          >            cmp fINC,x    ;test flags
34a5 : d0fe            >            bne *       ;trap
                        
34a7 : bd3302                   lda abst,x
34aa : e8                       inx
34ab : e002                     cpx #2
34ad : d002                     bne tinc17
34af : a9fe                     lda #$fe
34b1 : e005             tinc17  cpx #5
34b3 : d0d7                     bne tinc16
34b5 : ca                       dex
34b6 : a902                     lda #2
34b8 : 9d3302           tdec16  sta abst,x
                                set_stat $ff
                       >            load_flag $ff
34bb : a9ff            >            lda #$ff|4
                       >
34bd : 48              >            pha         ;use stack to load status
34be : 28              >            plp
                        
34bf : de3302                   dec abst,x
                                tst_absx rINC,fINC,$ff-fnz
34c2 : 08              >            php         ;save flags
34c3 : bd3302          >            lda abst,x
34c6 : dd2902          >            cmp rINC,x    ;test result
34c9 : d0fe            >            bne *       ;trap
34cb : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
34cc : 497d            >            eor #($ff-fnz|$34)
                       >
34ce : dd2e02          >            cmp fINC,x    ;test flags
34d1 : d0fe            >            bne *       ;trap
                        
34d3 : bd3302                   lda abst,x
34d6 : ca                       dex
34d7 : 3008                     bmi tdec17
34d9 : e001                     cpx #1
34db : d0db                     bne tdec16
34dd : a981                     lda #$81
34df : d0d7                     bne tdec16
34e1 :                  tdec17
                        
                        ; testing logical instructions - AND EOR ORA all addre
                        ; AND
34e1 : a203                     ldx #3      ;immediate - self modifying code
34e3 : b518             tand    lda zpAN,x
34e5 : 8df034                   sta tandi1
                                set_ax  absANa,0
                       >            load_flag 0
34e8 : a904            >            lda #0|4
                       >
34ea : 48              >            pha         ;use stack to load status
34eb : bd4802          >            lda absANa,x    ;precharge accu
34ee : 28              >            plp
                        
34f0 =                  tandi1  equ *+1     ;target for immediate operand
34ef : 2963                     and #99
                                tst_ax  absrlo,absflo,0
34f1 : 08              >            php         ;save flags
34f2 : dd5002          >            cmp absrlo,x    ;test result
34f5 : d0fe            >            bne *       ;trap
34f7 : 68              >            pla         ;load status
                       >            eor_flag 0
34f8 : 4934            >            eor #(0|$34)
                       >
34fa : dd5402          >            cmp absflo,x    ;test flags
34fd : d0fe            >            bne *       ;trap
                        
34ff : ca                       dex
3500 : 10e1                     bpl tand
3502 : a203                     ldx #3
3504 : b518             tand1   lda zpAN,x
3506 : 8d1135                   sta tandi2
                                set_ax  absANa,$ff
                       >            load_flag $ff
3509 : a9ff            >            lda #$ff|4
                       >
350b : 48              >            pha         ;use stack to load status
350c : bd4802          >            lda absANa,x    ;precharge accu
350f : 28              >            plp
                        
3511 =                  tandi2  equ *+1     ;target for immediate operand
3510 : 2963                     and #99
                                tst_ax  absrlo,absflo,$ff-fnz
3512 : 08              >            php         ;save flags
3513 : dd5002          >            cmp absrlo,x    ;test result
3516 : d0fe            >            bne *       ;trap
3518 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3519 : 497d            >            eor #($ff-fnz|$34)
                       >
351b : dd5402          >            cmp absflo,x    ;test flags
351e : d0fe            >            bne *       ;trap
                        
3520 : ca                       dex
3521 : 10e1                     bpl tand1
                        
3523 : a203                     ldx #3      ;zp
3525 : b518             tand2    lda zpAN,x
3527 : 850f                     sta zpt
                                set_ax  absANa,0
                       >            load_flag 0
3529 : a904            >            lda #0|4
                       >
352b : 48              >            pha         ;use stack to load status
352c : bd4802          >            lda absANa,x    ;precharge accu
352f : 28              >            plp
                        
3530 : 250f                     and zpt
                                tst_ax  absrlo,absflo,0
3532 : 08              >            php         ;save flags
3533 : dd5002          >            cmp absrlo,x    ;test result
3536 : d0fe            >            bne *       ;trap
3538 : 68              >            pla         ;load status
                       >            eor_flag 0
3539 : 4934            >            eor #(0|$34)
                       >
353b : dd5402          >            cmp absflo,x    ;test flags
353e : d0fe            >            bne *       ;trap
                        
3540 : ca                       dex
3541 : 10e2                     bpl tand2
3543 : a203                     ldx #3
3545 : b518             tand3   lda zpAN,x
3547 : 850f                     sta zpt
                                set_ax  absANa,$ff
                       >            load_flag $ff
3549 : a9ff            >            lda #$ff|4
                       >
354b : 48              >            pha         ;use stack to load status
354c : bd4802          >            lda absANa,x    ;precharge accu
354f : 28              >            plp
                        
3550 : 250f                     and zpt
                                tst_ax  absrlo,absflo,$ff-fnz
3552 : 08              >            php         ;save flags
3553 : dd5002          >            cmp absrlo,x    ;test result
3556 : d0fe            >            bne *       ;trap
3558 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3559 : 497d            >            eor #($ff-fnz|$34)
                       >
355b : dd5402          >            cmp absflo,x    ;test flags
355e : d0fe            >            bne *       ;trap
                        
3560 : ca                       dex
3561 : 10e2                     bpl tand3
                        
3563 : a203                     ldx #3      ;abs
3565 : b518             tand4   lda zpAN,x
3567 : 8d3302                   sta abst
                                set_ax  absANa,0
                       >            load_flag 0
356a : a904            >            lda #0|4
                       >
356c : 48              >            pha         ;use stack to load status
356d : bd4802          >            lda absANa,x    ;precharge accu
3570 : 28              >            plp
                        
3571 : 2d3302                   and abst
                                tst_ax  absrlo,absflo,0
3574 : 08              >            php         ;save flags
3575 : dd5002          >            cmp absrlo,x    ;test result
3578 : d0fe            >            bne *       ;trap
357a : 68              >            pla         ;load status
                       >            eor_flag 0
357b : 4934            >            eor #(0|$34)
                       >
357d : dd5402          >            cmp absflo,x    ;test flags
3580 : d0fe            >            bne *       ;trap
                        
3582 : ca                       dex
3583 : 10e0                     bpl tand4
3585 : a203                     ldx #3
3587 : b518             tand5   lda zpAN,x
3589 : 8d3302                   sta abst
                                set_ax  absANa,$ff
                       >            load_flag $ff
358c : a9ff            >            lda #$ff|4
                       >
358e : 48              >            pha         ;use stack to load status
358f : bd4802          >            lda absANa,x    ;precharge accu
3592 : 28              >            plp
                        
3593 : 2d3302                   and abst
                                tst_ax  absrlo,absflo,$ff-fnz
3596 : 08              >            php         ;save flags
3597 : dd5002          >            cmp absrlo,x    ;test result
359a : d0fe            >            bne *       ;trap
359c : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
359d : 497d            >            eor #($ff-fnz|$34)
                       >
359f : dd5402          >            cmp absflo,x    ;test flags
35a2 : d0fe            >            bne *       ;trap
                        
35a4 : ca                       dex
35a5 : 1002                     bpl tand6
                        
35a7 : a203                     ldx #3      ;zp,x
35a9 :                  tand6
                                set_ax  absANa,0
                       >            load_flag 0
35a9 : a904            >            lda #0|4
                       >
35ab : 48              >            pha         ;use stack to load status
35ac : bd4802          >            lda absANa,x    ;precharge accu
35af : 28              >            plp
                        
35b0 : 3518                     and zpAN,x
                                tst_ax  absrlo,absflo,0
35b2 : 08              >            php         ;save flags
35b3 : dd5002          >            cmp absrlo,x    ;test result
35b6 : d0fe            >            bne *       ;trap
35b8 : 68              >            pla         ;load status
                       >            eor_flag 0
35b9 : 4934            >            eor #(0|$34)
                       >
35bb : dd5402          >            cmp absflo,x    ;test flags
35be : d0fe            >            bne *       ;trap
                        
35c0 : ca                       dex
35c1 : 10e6                     bpl tand6
35c3 : a203                     ldx #3
35c5 :                  tand7
                                set_ax  absANa,$ff
                       >            load_flag $ff
35c5 : a9ff            >            lda #$ff|4
                       >
35c7 : 48              >            pha         ;use stack to load status
35c8 : bd4802          >            lda absANa,x    ;precharge accu
35cb : 28              >            plp
                        
35cc : 3518                     and zpAN,x
                                tst_ax  absrlo,absflo,$ff-fnz
35ce : 08              >            php         ;save flags
35cf : dd5002          >            cmp absrlo,x    ;test result
35d2 : d0fe            >            bne *       ;trap
35d4 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
35d5 : 497d            >            eor #($ff-fnz|$34)
                       >
35d7 : dd5402          >            cmp absflo,x    ;test flags
35da : d0fe            >            bne *       ;trap
                        
35dc : ca                       dex
35dd : 10e6                     bpl tand7
                        
35df : a203                     ldx #3      ;abs,x
35e1 :                  tand8
                                set_ax  absANa,0
                       >            load_flag 0
35e1 : a904            >            lda #0|4
                       >
35e3 : 48              >            pha         ;use stack to load status
35e4 : bd4802          >            lda absANa,x    ;precharge accu
35e7 : 28              >            plp
                        
35e8 : 3d3c02                   and absAN,x
                                tst_ax  absrlo,absflo,0
35eb : 08              >            php         ;save flags
35ec : dd5002          >            cmp absrlo,x    ;test result
35ef : d0fe            >            bne *       ;trap
35f1 : 68              >            pla         ;load status
                       >            eor_flag 0
35f2 : 4934            >            eor #(0|$34)
                       >
35f4 : dd5402          >            cmp absflo,x    ;test flags
35f7 : d0fe            >            bne *       ;trap
                        
35f9 : ca                       dex
35fa : 10e5                     bpl tand8
35fc : a203                     ldx #3
35fe :                  tand9
                                set_ax  absANa,$ff
                       >            load_flag $ff
35fe : a9ff            >            lda #$ff|4
                       >
3600 : 48              >            pha         ;use stack to load status
3601 : bd4802          >            lda absANa,x    ;precharge accu
3604 : 28              >            plp
                        
3605 : 3d3c02                   and absAN,x
                                tst_ax  absrlo,absflo,$ff-fnz
3608 : 08              >            php         ;save flags
3609 : dd5002          >            cmp absrlo,x    ;test result
360c : d0fe            >            bne *       ;trap
360e : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
360f : 497d            >            eor #($ff-fnz|$34)
                       >
3611 : dd5402          >            cmp absflo,x    ;test flags
3614 : d0fe            >            bne *       ;trap
                        
3616 : ca                       dex
3617 : 10e5                     bpl tand9
                        
3619 : a003                     ldy #3      ;abs,y
361b :                  tand10
                                set_ay  absANa,0
                       >            load_flag 0
361b : a904            >            lda #0|4
                       >
361d : 48              >            pha         ;use stack to load status
361e : b94802          >            lda absANa,y    ;precharge accu
3621 : 28              >            plp
                        
3622 : 393c02                   and absAN,y
                                tst_ay  absrlo,absflo,0
3625 : 08              >            php         ;save flags
3626 : d95002          >            cmp absrlo,y    ;test result
3629 : d0fe            >            bne *       ;trap
362b : 68              >            pla         ;load status
                       >            eor_flag 0
362c : 4934            >            eor #(0|$34)
                       >
362e : d95402          >            cmp absflo,y    ;test flags
3631 : d0fe            >            bne *       ;trap
                        
3633 : 88                       dey
3634 : 10e5                     bpl tand10
3636 : a003                     ldy #3
3638 :                  tand11
                                set_ay  absANa,$ff
                       >            load_flag $ff
3638 : a9ff            >            lda #$ff|4
                       >
363a : 48              >            pha         ;use stack to load status
363b : b94802          >            lda absANa,y    ;precharge accu
363e : 28              >            plp
                        
363f : 393c02                   and absAN,y
                                tst_ay  absrlo,absflo,$ff-fnz
3642 : 08              >            php         ;save flags
3643 : d95002          >            cmp absrlo,y    ;test result
3646 : d0fe            >            bne *       ;trap
3648 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3649 : 497d            >            eor #($ff-fnz|$34)
                       >
364b : d95402          >            cmp absflo,y    ;test flags
364e : d0fe            >            bne *       ;trap
                        
3650 : 88                       dey
3651 : 10e5                     bpl tand11
                        
3653 : a206                     ldx #6      ;(zp,x)
3655 : a003                     ldy #3
3657 :                  tand12
                                set_ay  absANa,0
                       >            load_flag 0
3657 : a904            >            lda #0|4
                       >
3659 : 48              >            pha         ;use stack to load status
365a : b94802          >            lda absANa,y    ;precharge accu
365d : 28              >            plp
                        
365e : 2136                     and (indAN,x)
                                tst_ay  absrlo,absflo,0
3660 : 08              >            php         ;save flags
3661 : d95002          >            cmp absrlo,y    ;test result
3664 : d0fe            >            bne *       ;trap
3666 : 68              >            pla         ;load status
                       >            eor_flag 0
3667 : 4934            >            eor #(0|$34)
                       >
3669 : d95402          >            cmp absflo,y    ;test flags
366c : d0fe            >            bne *       ;trap
                        
366e : ca                       dex
366f : ca                       dex
3670 : 88                       dey
3671 : 10e4                     bpl tand12
3673 : a206                     ldx #6
3675 : a003                     ldy #3
3677 :                  tand13
                                set_ay  absANa,$ff
                       >            load_flag $ff
3677 : a9ff            >            lda #$ff|4
                       >
3679 : 48              >            pha         ;use stack to load status
367a : b94802          >            lda absANa,y    ;precharge accu
367d : 28              >            plp
                        
367e : 2136                     and (indAN,x)
                                tst_ay  absrlo,absflo,$ff-fnz
3680 : 08              >            php         ;save flags
3681 : d95002          >            cmp absrlo,y    ;test result
3684 : d0fe            >            bne *       ;trap
3686 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3687 : 497d            >            eor #($ff-fnz|$34)
                       >
3689 : d95402          >            cmp absflo,y    ;test flags
368c : d0fe            >            bne *       ;trap
                        
368e : ca                       dex
368f : ca                       dex
3690 : 88                       dey
3691 : 10e4                     bpl tand13
                        
3693 : a003                     ldy #3      ;(zp),y
3695 :                  tand14
                                set_ay  absANa,0
                       >            load_flag 0
3695 : a904            >            lda #0|4
                       >
3697 : 48              >            pha         ;use stack to load status
3698 : b94802          >            lda absANa,y    ;precharge accu
369b : 28              >            plp
                        
369c : 3136                     and (indAN),y
                                tst_ay  absrlo,absflo,0
369e : 08              >            php         ;save flags
369f : d95002          >            cmp absrlo,y    ;test result
36a2 : d0fe            >            bne *       ;trap
36a4 : 68              >            pla         ;load status
                       >            eor_flag 0
36a5 : 4934            >            eor #(0|$34)
                       >
36a7 : d95402          >            cmp absflo,y    ;test flags
36aa : d0fe            >            bne *       ;trap
                        
36ac : 88                       dey
36ad : 10e6                     bpl tand14
36af : a003                     ldy #3
36b1 :                  tand15
                                set_ay  absANa,$ff
                       >            load_flag $ff
36b1 : a9ff            >            lda #$ff|4
                       >
36b3 : 48              >            pha         ;use stack to load status
36b4 : b94802          >            lda absANa,y    ;precharge accu
36b7 : 28              >            plp
                        
36b8 : 3136                     and (indAN),y
                                tst_ay  absrlo,absflo,$ff-fnz
36ba : 08              >            php         ;save flags
36bb : d95002          >            cmp absrlo,y    ;test result
36be : d0fe            >            bne *       ;trap
36c0 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
36c1 : 497d            >            eor #($ff-fnz|$34)
                       >
36c3 : d95402          >            cmp absflo,y    ;test flags
36c6 : d0fe            >            bne *       ;trap
                        
36c8 : 88                       dey
36c9 : 10e6                     bpl tand15
                        
                        ; EOR
36cb : a203                     ldx #3      ;immediate - self modifying code
36cd : b51c             teor    lda zpEO,x
36cf : 8dda36                   sta teori1
                                set_ax  absEOa,0
                       >            load_flag 0
36d2 : a904            >            lda #0|4
                       >
36d4 : 48              >            pha         ;use stack to load status
36d5 : bd4c02          >            lda absEOa,x    ;precharge accu
36d8 : 28              >            plp
                        
36da =                  teori1  equ *+1     ;target for immediate opereor
36d9 : 4963                     eor #99
                                tst_ax  absrlo,absflo,0
36db : 08              >            php         ;save flags
36dc : dd5002          >            cmp absrlo,x    ;test result
36df : d0fe            >            bne *       ;trap
36e1 : 68              >            pla         ;load status
                       >            eor_flag 0
36e2 : 4934            >            eor #(0|$34)
                       >
36e4 : dd5402          >            cmp absflo,x    ;test flags
36e7 : d0fe            >            bne *       ;trap
                        
36e9 : ca                       dex
36ea : 10e1                     bpl teor
36ec : a203                     ldx #3
36ee : b51c             teor1   lda zpEO,x
36f0 : 8dfb36                   sta teori2
                                set_ax  absEOa,$ff
                       >            load_flag $ff
36f3 : a9ff            >            lda #$ff|4
                       >
36f5 : 48              >            pha         ;use stack to load status
36f6 : bd4c02          >            lda absEOa,x    ;precharge accu
36f9 : 28              >            plp
                        
36fb =                  teori2  equ *+1     ;target for immediate opereor
36fa : 4963                     eor #99
                                tst_ax  absrlo,absflo,$ff-fnz
36fc : 08              >            php         ;save flags
36fd : dd5002          >            cmp absrlo,x    ;test result
3700 : d0fe            >            bne *       ;trap
3702 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3703 : 497d            >            eor #($ff-fnz|$34)
                       >
3705 : dd5402          >            cmp absflo,x    ;test flags
3708 : d0fe            >            bne *       ;trap
                        
370a : ca                       dex
370b : 10e1                     bpl teor1
                        
370d : a203                     ldx #3      ;zp
370f : b51c             teor2    lda zpEO,x
3711 : 850f                     sta zpt
                                set_ax  absEOa,0
                       >            load_flag 0
3713 : a904            >            lda #0|4
                       >
3715 : 48              >            pha         ;use stack to load status
3716 : bd4c02          >            lda absEOa,x    ;precharge accu
3719 : 28              >            plp
                        
371a : 450f                     eor zpt
                                tst_ax  absrlo,absflo,0
371c : 08              >            php         ;save flags
371d : dd5002          >            cmp absrlo,x    ;test result
3720 : d0fe            >            bne *       ;trap
3722 : 68              >            pla         ;load status
                       >            eor_flag 0
3723 : 4934            >            eor #(0|$34)
                       >
3725 : dd5402          >            cmp absflo,x    ;test flags
3728 : d0fe            >            bne *       ;trap
                        
372a : ca                       dex
372b : 10e2                     bpl teor2
372d : a203                     ldx #3
372f : b51c             teor3   lda zpEO,x
3731 : 850f                     sta zpt
                                set_ax  absEOa,$ff
                       >            load_flag $ff
3733 : a9ff            >            lda #$ff|4
                       >
3735 : 48              >            pha         ;use stack to load status
3736 : bd4c02          >            lda absEOa,x    ;precharge accu
3739 : 28              >            plp
                        
373a : 450f                     eor zpt
                                tst_ax  absrlo,absflo,$ff-fnz
373c : 08              >            php         ;save flags
373d : dd5002          >            cmp absrlo,x    ;test result
3740 : d0fe            >            bne *       ;trap
3742 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3743 : 497d            >            eor #($ff-fnz|$34)
                       >
3745 : dd5402          >            cmp absflo,x    ;test flags
3748 : d0fe            >            bne *       ;trap
                        
374a : ca                       dex
374b : 10e2                     bpl teor3
                        
374d : a203                     ldx #3      ;abs
374f : b51c             teor4   lda zpEO,x
3751 : 8d3302                   sta abst
                                set_ax  absEOa,0
                       >            load_flag 0
3754 : a904            >            lda #0|4
                       >
3756 : 48              >            pha         ;use stack to load status
3757 : bd4c02          >            lda absEOa,x    ;precharge accu
375a : 28              >            plp
                        
375b : 4d3302                   eor abst
                                tst_ax  absrlo,absflo,0
375e : 08              >            php         ;save flags
375f : dd5002          >            cmp absrlo,x    ;test result
3762 : d0fe            >            bne *       ;trap
3764 : 68              >            pla         ;load status
                       >            eor_flag 0
3765 : 4934            >            eor #(0|$34)
                       >
3767 : dd5402          >            cmp absflo,x    ;test flags
376a : d0fe            >            bne *       ;trap
                        
376c : ca                       dex
376d : 10e0                     bpl teor4
376f : a203                     ldx #3
3771 : b51c             teor5   lda zpEO,x
3773 : 8d3302                   sta abst
                                set_ax  absEOa,$ff
                       >            load_flag $ff
3776 : a9ff            >            lda #$ff|4
                       >
3778 : 48              >            pha         ;use stack to load status
3779 : bd4c02          >            lda absEOa,x    ;precharge accu
377c : 28              >            plp
                        
377d : 4d3302                   eor abst
                                tst_ax  absrlo,absflo,$ff-fnz
3780 : 08              >            php         ;save flags
3781 : dd5002          >            cmp absrlo,x    ;test result
3784 : d0fe            >            bne *       ;trap
3786 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3787 : 497d            >            eor #($ff-fnz|$34)
                       >
3789 : dd5402          >            cmp absflo,x    ;test flags
378c : d0fe            >            bne *       ;trap
                        
378e : ca                       dex
378f : 1002                     bpl teor6
                        
3791 : a203                     ldx #3      ;zp,x
3793 :                  teor6
                                set_ax  absEOa,0
                       >            load_flag 0
3793 : a904            >            lda #0|4
                       >
3795 : 48              >            pha         ;use stack to load status
3796 : bd4c02          >            lda absEOa,x    ;precharge accu
3799 : 28              >            plp
                        
379a : 551c                     eor zpEO,x
                                tst_ax  absrlo,absflo,0
379c : 08              >            php         ;save flags
379d : dd5002          >            cmp absrlo,x    ;test result
37a0 : d0fe            >            bne *       ;trap
37a2 : 68              >            pla         ;load status
                       >            eor_flag 0
37a3 : 4934            >            eor #(0|$34)
                       >
37a5 : dd5402          >            cmp absflo,x    ;test flags
37a8 : d0fe            >            bne *       ;trap
                        
37aa : ca                       dex
37ab : 10e6                     bpl teor6
37ad : a203                     ldx #3
37af :                  teor7
                                set_ax  absEOa,$ff
                       >            load_flag $ff
37af : a9ff            >            lda #$ff|4
                       >
37b1 : 48              >            pha         ;use stack to load status
37b2 : bd4c02          >            lda absEOa,x    ;precharge accu
37b5 : 28              >            plp
                        
37b6 : 551c                     eor zpEO,x
                                tst_ax  absrlo,absflo,$ff-fnz
37b8 : 08              >            php         ;save flags
37b9 : dd5002          >            cmp absrlo,x    ;test result
37bc : d0fe            >            bne *       ;trap
37be : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
37bf : 497d            >            eor #($ff-fnz|$34)
                       >
37c1 : dd5402          >            cmp absflo,x    ;test flags
37c4 : d0fe            >            bne *       ;trap
                        
37c6 : ca                       dex
37c7 : 10e6                     bpl teor7
                        
37c9 : a203                     ldx #3      ;abs,x
37cb :                  teor8
                                set_ax  absEOa,0
                       >            load_flag 0
37cb : a904            >            lda #0|4
                       >
37cd : 48              >            pha         ;use stack to load status
37ce : bd4c02          >            lda absEOa,x    ;precharge accu
37d1 : 28              >            plp
                        
37d2 : 5d4002                   eor absEO,x
                                tst_ax  absrlo,absflo,0
37d5 : 08              >            php         ;save flags
37d6 : dd5002          >            cmp absrlo,x    ;test result
37d9 : d0fe            >            bne *       ;trap
37db : 68              >            pla         ;load status
                       >            eor_flag 0
37dc : 4934            >            eor #(0|$34)
                       >
37de : dd5402          >            cmp absflo,x    ;test flags
37e1 : d0fe            >            bne *       ;trap
                        
37e3 : ca                       dex
37e4 : 10e5                     bpl teor8
37e6 : a203                     ldx #3
37e8 :                  teor9
                                set_ax  absEOa,$ff
                       >            load_flag $ff
37e8 : a9ff            >            lda #$ff|4
                       >
37ea : 48              >            pha         ;use stack to load status
37eb : bd4c02          >            lda absEOa,x    ;precharge accu
37ee : 28              >            plp
                        
37ef : 5d4002                   eor absEO,x
                                tst_ax  absrlo,absflo,$ff-fnz
37f2 : 08              >            php         ;save flags
37f3 : dd5002          >            cmp absrlo,x    ;test result
37f6 : d0fe            >            bne *       ;trap
37f8 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
37f9 : 497d            >            eor #($ff-fnz|$34)
                       >
37fb : dd5402          >            cmp absflo,x    ;test flags
37fe : d0fe            >            bne *       ;trap
                        
3800 : ca                       dex
3801 : 10e5                     bpl teor9
                        
3803 : a003                     ldy #3      ;abs,y
3805 :                  teor10
                                set_ay  absEOa,0
                       >            load_flag 0
3805 : a904            >            lda #0|4
                       >
3807 : 48              >            pha         ;use stack to load status
3808 : b94c02          >            lda absEOa,y    ;precharge accu
380b : 28              >            plp
                        
380c : 594002                   eor absEO,y
                                tst_ay  absrlo,absflo,0
380f : 08              >            php         ;save flags
3810 : d95002          >            cmp absrlo,y    ;test result
3813 : d0fe            >            bne *       ;trap
3815 : 68              >            pla         ;load status
                       >            eor_flag 0
3816 : 4934            >            eor #(0|$34)
                       >
3818 : d95402          >            cmp absflo,y    ;test flags
381b : d0fe            >            bne *       ;trap
                        
381d : 88                       dey
381e : 10e5                     bpl teor10
3820 : a003                     ldy #3
3822 :                  teor11
                                set_ay  absEOa,$ff
                       >            load_flag $ff
3822 : a9ff            >            lda #$ff|4
                       >
3824 : 48              >            pha         ;use stack to load status
3825 : b94c02          >            lda absEOa,y    ;precharge accu
3828 : 28              >            plp
                        
3829 : 594002                   eor absEO,y
                                tst_ay  absrlo,absflo,$ff-fnz
382c : 08              >            php         ;save flags
382d : d95002          >            cmp absrlo,y    ;test result
3830 : d0fe            >            bne *       ;trap
3832 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3833 : 497d            >            eor #($ff-fnz|$34)
                       >
3835 : d95402          >            cmp absflo,y    ;test flags
3838 : d0fe            >            bne *       ;trap
                        
383a : 88                       dey
383b : 10e5                     bpl teor11
                        
383d : a206                     ldx #6      ;(zp,x)
383f : a003                     ldy #3
3841 :                  teor12
                                set_ay  absEOa,0
                       >            load_flag 0
3841 : a904            >            lda #0|4
                       >
3843 : 48              >            pha         ;use stack to load status
3844 : b94c02          >            lda absEOa,y    ;precharge accu
3847 : 28              >            plp
                        
3848 : 413e                     eor (indEO,x)
                                tst_ay  absrlo,absflo,0
384a : 08              >            php         ;save flags
384b : d95002          >            cmp absrlo,y    ;test result
384e : d0fe            >            bne *       ;trap
3850 : 68              >            pla         ;load status
                       >            eor_flag 0
3851 : 4934            >            eor #(0|$34)
                       >
3853 : d95402          >            cmp absflo,y    ;test flags
3856 : d0fe            >            bne *       ;trap
                        
3858 : ca                       dex
3859 : ca                       dex
385a : 88                       dey
385b : 10e4                     bpl teor12
385d : a206                     ldx #6
385f : a003                     ldy #3
3861 :                  teor13
                                set_ay  absEOa,$ff
                       >            load_flag $ff
3861 : a9ff            >            lda #$ff|4
                       >
3863 : 48              >            pha         ;use stack to load status
3864 : b94c02          >            lda absEOa,y    ;precharge accu
3867 : 28              >            plp
                        
3868 : 413e                     eor (indEO,x)
                                tst_ay  absrlo,absflo,$ff-fnz
386a : 08              >            php         ;save flags
386b : d95002          >            cmp absrlo,y    ;test result
386e : d0fe            >            bne *       ;trap
3870 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3871 : 497d            >            eor #($ff-fnz|$34)
                       >
3873 : d95402          >            cmp absflo,y    ;test flags
3876 : d0fe            >            bne *       ;trap
                        
3878 : ca                       dex
3879 : ca                       dex
387a : 88                       dey
387b : 10e4                     bpl teor13
                        
387d : a003                     ldy #3      ;(zp),y
387f :                  teor14
                                set_ay  absEOa,0
                       >            load_flag 0
387f : a904            >            lda #0|4
                       >
3881 : 48              >            pha         ;use stack to load status
3882 : b94c02          >            lda absEOa,y    ;precharge accu
3885 : 28              >            plp
                        
3886 : 513e                     eor (indEO),y
                                tst_ay  absrlo,absflo,0
3888 : 08              >            php         ;save flags
3889 : d95002          >            cmp absrlo,y    ;test result
388c : d0fe            >            bne *       ;trap
388e : 68              >            pla         ;load status
                       >            eor_flag 0
388f : 4934            >            eor #(0|$34)
                       >
3891 : d95402          >            cmp absflo,y    ;test flags
3894 : d0fe            >            bne *       ;trap
                        
3896 : 88                       dey
3897 : 10e6                     bpl teor14
3899 : a003                     ldy #3
389b :                  teor15
                                set_ay  absEOa,$ff
                       >            load_flag $ff
389b : a9ff            >            lda #$ff|4
                       >
389d : 48              >            pha         ;use stack to load status
389e : b94c02          >            lda absEOa,y    ;precharge accu
38a1 : 28              >            plp
                        
38a2 : 513e                     eor (indEO),y
                                tst_ay  absrlo,absflo,$ff-fnz
38a4 : 08              >            php         ;save flags
38a5 : d95002          >            cmp absrlo,y    ;test result
38a8 : d0fe            >            bne *       ;trap
38aa : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
38ab : 497d            >            eor #($ff-fnz|$34)
                       >
38ad : d95402          >            cmp absflo,y    ;test flags
38b0 : d0fe            >            bne *       ;trap
                        
38b2 : 88                       dey
38b3 : 10e6                     bpl teor15
                        
                        ; OR
38b5 : a203                     ldx #3      ;immediate - self modifying code
38b7 : b514             tora    lda zpOR,x
38b9 : 8dc438                   sta torai1
                                set_ax  absORa,0
                       >            load_flag 0
38bc : a904            >            lda #0|4
                       >
38be : 48              >            pha         ;use stack to load status
38bf : bd4402          >            lda absORa,x    ;precharge accu
38c2 : 28              >            plp
                        
38c4 =                  torai1  equ *+1     ;target for immediate operora
38c3 : 0963                     ora #99
                                tst_ax  absrlo,absflo,0
38c5 : 08              >            php         ;save flags
38c6 : dd5002          >            cmp absrlo,x    ;test result
38c9 : d0fe            >            bne *       ;trap
38cb : 68              >            pla         ;load status
                       >            eor_flag 0
38cc : 4934            >            eor #(0|$34)
                       >
38ce : dd5402          >            cmp absflo,x    ;test flags
38d1 : d0fe            >            bne *       ;trap
                        
38d3 : ca                       dex
38d4 : 10e1                     bpl tora
38d6 : a203                     ldx #3
38d8 : b514             tora1   lda zpOR,x
38da : 8de538                   sta torai2
                                set_ax  absORa,$ff
                       >            load_flag $ff
38dd : a9ff            >            lda #$ff|4
                       >
38df : 48              >            pha         ;use stack to load status
38e0 : bd4402          >            lda absORa,x    ;precharge accu
38e3 : 28              >            plp
                        
38e5 =                  torai2  equ *+1     ;target for immediate operora
38e4 : 0963                     ora #99
                                tst_ax  absrlo,absflo,$ff-fnz
38e6 : 08              >            php         ;save flags
38e7 : dd5002          >            cmp absrlo,x    ;test result
38ea : d0fe            >            bne *       ;trap
38ec : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
38ed : 497d            >            eor #($ff-fnz|$34)
                       >
38ef : dd5402          >            cmp absflo,x    ;test flags
38f2 : d0fe            >            bne *       ;trap
                        
38f4 : ca                       dex
38f5 : 10e1                     bpl tora1
                        
38f7 : a203                     ldx #3      ;zp
38f9 : b514             tora2    lda zpOR,x
38fb : 850f                     sta zpt
                                set_ax  absORa,0
                       >            load_flag 0
38fd : a904            >            lda #0|4
                       >
38ff : 48              >            pha         ;use stack to load status
3900 : bd4402          >            lda absORa,x    ;precharge accu
3903 : 28              >            plp
                        
3904 : 050f                     ora zpt
                                tst_ax  absrlo,absflo,0
3906 : 08              >            php         ;save flags
3907 : dd5002          >            cmp absrlo,x    ;test result
390a : d0fe            >            bne *       ;trap
390c : 68              >            pla         ;load status
                       >            eor_flag 0
390d : 4934            >            eor #(0|$34)
                       >
390f : dd5402          >            cmp absflo,x    ;test flags
3912 : d0fe            >            bne *       ;trap
                        
3914 : ca                       dex
3915 : 10e2                     bpl tora2
3917 : a203                     ldx #3
3919 : b514             tora3   lda zpOR,x
391b : 850f                     sta zpt
                                set_ax  absORa,$ff
                       >            load_flag $ff
391d : a9ff            >            lda #$ff|4
                       >
391f : 48              >            pha         ;use stack to load status
3920 : bd4402          >            lda absORa,x    ;precharge accu
3923 : 28              >            plp
                        
3924 : 050f                     ora zpt
                                tst_ax  absrlo,absflo,$ff-fnz
3926 : 08              >            php         ;save flags
3927 : dd5002          >            cmp absrlo,x    ;test result
392a : d0fe            >            bne *       ;trap
392c : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
392d : 497d            >            eor #($ff-fnz|$34)
                       >
392f : dd5402          >            cmp absflo,x    ;test flags
3932 : d0fe            >            bne *       ;trap
                        
3934 : ca                       dex
3935 : 10e2                     bpl tora3
                        
3937 : a203                     ldx #3      ;abs
3939 : b514             tora4   lda zpOR,x
393b : 8d3302                   sta abst
                                set_ax  absORa,0
                       >            load_flag 0
393e : a904            >            lda #0|4
                       >
3940 : 48              >            pha         ;use stack to load status
3941 : bd4402          >            lda absORa,x    ;precharge accu
3944 : 28              >            plp
                        
3945 : 0d3302                   ora abst
                                tst_ax  absrlo,absflo,0
3948 : 08              >            php         ;save flags
3949 : dd5002          >            cmp absrlo,x    ;test result
394c : d0fe            >            bne *       ;trap
394e : 68              >            pla         ;load status
                       >            eor_flag 0
394f : 4934            >            eor #(0|$34)
                       >
3951 : dd5402          >            cmp absflo,x    ;test flags
3954 : d0fe            >            bne *       ;trap
                        
3956 : ca                       dex
3957 : 10e0                     bpl tora4
3959 : a203                     ldx #3
395b : b514             tora5   lda zpOR,x
395d : 8d3302                   sta abst
                                set_ax  absORa,$ff
                       >            load_flag $ff
3960 : a9ff            >            lda #$ff|4
                       >
3962 : 48              >            pha         ;use stack to load status
3963 : bd4402          >            lda absORa,x    ;precharge accu
3966 : 28              >            plp
                        
3967 : 0d3302                   ora abst
                                tst_ax  absrlo,absflo,$ff-fnz
396a : 08              >            php         ;save flags
396b : dd5002          >            cmp absrlo,x    ;test result
396e : d0fe            >            bne *       ;trap
3970 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3971 : 497d            >            eor #($ff-fnz|$34)
                       >
3973 : dd5402          >            cmp absflo,x    ;test flags
3976 : d0fe            >            bne *       ;trap
                        
3978 : ca                       dex
3979 : 1002                     bpl tora6
                        
397b : a203                     ldx #3      ;zp,x
397d :                  tora6
                                set_ax  absORa,0
                       >            load_flag 0
397d : a904            >            lda #0|4
                       >
397f : 48              >            pha         ;use stack to load status
3980 : bd4402          >            lda absORa,x    ;precharge accu
3983 : 28              >            plp
                        
3984 : 1514                     ora zpOR,x
                                tst_ax  absrlo,absflo,0
3986 : 08              >            php         ;save flags
3987 : dd5002          >            cmp absrlo,x    ;test result
398a : d0fe            >            bne *       ;trap
398c : 68              >            pla         ;load status
                       >            eor_flag 0
398d : 4934            >            eor #(0|$34)
                       >
398f : dd5402          >            cmp absflo,x    ;test flags
3992 : d0fe            >            bne *       ;trap
                        
3994 : ca                       dex
3995 : 10e6                     bpl tora6
3997 : a203                     ldx #3
3999 :                  tora7
                                set_ax  absORa,$ff
                       >            load_flag $ff
3999 : a9ff            >            lda #$ff|4
                       >
399b : 48              >            pha         ;use stack to load status
399c : bd4402          >            lda absORa,x    ;precharge accu
399f : 28              >            plp
                        
39a0 : 1514                     ora zpOR,x
                                tst_ax  absrlo,absflo,$ff-fnz
39a2 : 08              >            php         ;save flags
39a3 : dd5002          >            cmp absrlo,x    ;test result
39a6 : d0fe            >            bne *       ;trap
39a8 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
39a9 : 497d            >            eor #($ff-fnz|$34)
                       >
39ab : dd5402          >            cmp absflo,x    ;test flags
39ae : d0fe            >            bne *       ;trap
                        
39b0 : ca                       dex
39b1 : 10e6                     bpl tora7
                        
39b3 : a203                     ldx #3      ;abs,x
39b5 :                  tora8
                                set_ax  absORa,0
                       >            load_flag 0
39b5 : a904            >            lda #0|4
                       >
39b7 : 48              >            pha         ;use stack to load status
39b8 : bd4402          >            lda absORa,x    ;precharge accu
39bb : 28              >            plp
                        
39bc : 1d3802                   ora absOR,x
                                tst_ax  absrlo,absflo,0
39bf : 08              >            php         ;save flags
39c0 : dd5002          >            cmp absrlo,x    ;test result
39c3 : d0fe            >            bne *       ;trap
39c5 : 68              >            pla         ;load status
                       >            eor_flag 0
39c6 : 4934            >            eor #(0|$34)
                       >
39c8 : dd5402          >            cmp absflo,x    ;test flags
39cb : d0fe            >            bne *       ;trap
                        
39cd : ca                       dex
39ce : 10e5                     bpl tora8
39d0 : a203                     ldx #3
39d2 :                  tora9
                                set_ax  absORa,$ff
                       >            load_flag $ff
39d2 : a9ff            >            lda #$ff|4
                       >
39d4 : 48              >            pha         ;use stack to load status
39d5 : bd4402          >            lda absORa,x    ;precharge accu
39d8 : 28              >            plp
                        
39d9 : 1d3802                   ora absOR,x
                                tst_ax  absrlo,absflo,$ff-fnz
39dc : 08              >            php         ;save flags
39dd : dd5002          >            cmp absrlo,x    ;test result
39e0 : d0fe            >            bne *       ;trap
39e2 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
39e3 : 497d            >            eor #($ff-fnz|$34)
                       >
39e5 : dd5402          >            cmp absflo,x    ;test flags
39e8 : d0fe            >            bne *       ;trap
                        
39ea : ca                       dex
39eb : 10e5                     bpl tora9
                        
39ed : a003                     ldy #3      ;abs,y
39ef :                  tora10
                                set_ay  absORa,0
                       >            load_flag 0
39ef : a904            >            lda #0|4
                       >
39f1 : 48              >            pha         ;use stack to load status
39f2 : b94402          >            lda absORa,y    ;precharge accu
39f5 : 28              >            plp
                        
39f6 : 193802                   ora absOR,y
                                tst_ay  absrlo,absflo,0
39f9 : 08              >            php         ;save flags
39fa : d95002          >            cmp absrlo,y    ;test result
39fd : d0fe            >            bne *       ;trap
39ff : 68              >            pla         ;load status
                       >            eor_flag 0
3a00 : 4934            >            eor #(0|$34)
                       >
3a02 : d95402          >            cmp absflo,y    ;test flags
3a05 : d0fe            >            bne *       ;trap
                        
3a07 : 88                       dey
3a08 : 10e5                     bpl tora10
3a0a : a003                     ldy #3
3a0c :                  tora11
                                set_ay  absORa,$ff
                       >            load_flag $ff
3a0c : a9ff            >            lda #$ff|4
                       >
3a0e : 48              >            pha         ;use stack to load status
3a0f : b94402          >            lda absORa,y    ;precharge accu
3a12 : 28              >            plp
                        
3a13 : 193802                   ora absOR,y
                                tst_ay  absrlo,absflo,$ff-fnz
3a16 : 08              >            php         ;save flags
3a17 : d95002          >            cmp absrlo,y    ;test result
3a1a : d0fe            >            bne *       ;trap
3a1c : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3a1d : 497d            >            eor #($ff-fnz|$34)
                       >
3a1f : d95402          >            cmp absflo,y    ;test flags
3a22 : d0fe            >            bne *       ;trap
                        
3a24 : 88                       dey
3a25 : 10e5                     bpl tora11
                        
3a27 : a206                     ldx #6      ;(zp,x)
3a29 : a003                     ldy #3
3a2b :                  tora12
                                set_ay  absORa,0
                       >            load_flag 0
3a2b : a904            >            lda #0|4
                       >
3a2d : 48              >            pha         ;use stack to load status
3a2e : b94402          >            lda absORa,y    ;precharge accu
3a31 : 28              >            plp
                        
3a32 : 0146                     ora (indOR,x)
                                tst_ay  absrlo,absflo,0
3a34 : 08              >            php         ;save flags
3a35 : d95002          >            cmp absrlo,y    ;test result
3a38 : d0fe            >            bne *       ;trap
3a3a : 68              >            pla         ;load status
                       >            eor_flag 0
3a3b : 4934            >            eor #(0|$34)
                       >
3a3d : d95402          >            cmp absflo,y    ;test flags
3a40 : d0fe            >            bne *       ;trap
                        
3a42 : ca                       dex
3a43 : ca                       dex
3a44 : 88                       dey
3a45 : 10e4                     bpl tora12
3a47 : a206                     ldx #6
3a49 : a003                     ldy #3
3a4b :                  tora13
                                set_ay  absORa,$ff
                       >            load_flag $ff
3a4b : a9ff            >            lda #$ff|4
                       >
3a4d : 48              >            pha         ;use stack to load status
3a4e : b94402          >            lda absORa,y    ;precharge accu
3a51 : 28              >            plp
                        
3a52 : 0146                     ora (indOR,x)
                                tst_ay  absrlo,absflo,$ff-fnz
3a54 : 08              >            php         ;save flags
3a55 : d95002          >            cmp absrlo,y    ;test result
3a58 : d0fe            >            bne *       ;trap
3a5a : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3a5b : 497d            >            eor #($ff-fnz|$34)
                       >
3a5d : d95402          >            cmp absflo,y    ;test flags
3a60 : d0fe            >            bne *       ;trap
                        
3a62 : ca                       dex
3a63 : ca                       dex
3a64 : 88                       dey
3a65 : 10e4                     bpl tora13
                        
3a67 : a003                     ldy #3      ;(zp),y
3a69 :                  tora14
                                set_ay  absORa,0
                       >            load_flag 0
3a69 : a904            >            lda #0|4
                       >
3a6b : 48              >            pha         ;use stack to load status
3a6c : b94402          >            lda absORa,y    ;precharge accu
3a6f : 28              >            plp
                        
3a70 : 1146                     ora (indOR),y
                                tst_ay  absrlo,absflo,0
3a72 : 08              >            php         ;save flags
3a73 : d95002          >            cmp absrlo,y    ;test result
3a76 : d0fe            >            bne *       ;trap
3a78 : 68              >            pla         ;load status
                       >            eor_flag 0
3a79 : 4934            >            eor #(0|$34)
                       >
3a7b : d95402          >            cmp absflo,y    ;test flags
3a7e : d0fe            >            bne *       ;trap
                        
3a80 : 88                       dey
3a81 : 10e6                     bpl tora14
3a83 : a003                     ldy #3
3a85 :                  tora15
                                set_ay  absORa,$ff
                       >            load_flag $ff
3a85 : a9ff            >            lda #$ff|4
                       >
3a87 : 48              >            pha         ;use stack to load status
3a88 : b94402          >            lda absORa,y    ;precharge accu
3a8b : 28              >            plp
                        
3a8c : 1146                     ora (indOR),y
                                tst_ay  absrlo,absflo,$ff-fnz
3a8e : 08              >            php         ;save flags
3a8f : d95002          >            cmp absrlo,y    ;test result
3a92 : d0fe            >            bne *       ;trap
3a94 : 68              >            pla         ;load status
                       >            eor_flag $ff-fnz
3a95 : 497d            >            eor #($ff-fnz|$34)
                       >
3a97 : d95402          >            cmp absflo,y    ;test flags
3a9a : d0fe            >            bne *       ;trap
                        
3a9c : 88                       dey
3a9d : 10e6                     bpl tora15
                            if I_flag = 3
                                cli
                            endif
                        
                        ; full binary add/subtract test
                        ; iterates through all combinations of operands and ca
                        ; uses increments/decrements to predict result & resul
3a9f : d8                       cld
                        ;        sei
3aa0 : a258                     ldx #ad2        ;for indexed test
3aa2 : a0ff                     ldy #$ff        ;max range
3aa4 : a900                     lda #0          ;start with adding zeroes & no
3aa6 : 8556                     sta adfc        ;carry in - for diag
3aa8 : 8557                     sta ad1         ;operand 1 - accumulator
3aaa : 8558                     sta ad2         ;operand 2 - memory or immedia
3aac : 8d5802                   sta ada2        ;non zp
3aaf : 8559                     sta adrl        ;expected result bits 0-7
3ab1 : 855a                     sta adrh        ;expected result bit 8 (carry 
3ab3 : a9ff                     lda #$ff        ;complemented operand 2 for su
3ab5 : 855c                     sta sb2
3ab7 : 8d5902                   sta sba2        ;non zp
3aba : a902                     lda #2          ;expected Z-flag
3abc : 855b                     sta adrf
3abe : 18               tadd    clc             ;test with carry clear
3abf : 202c3c                   jsr chkadd
3ac2 : e656                     inc adfc        ;now with carry
3ac4 : e659                     inc adrl        ;result +1
3ac6 : 08                       php             ;save N & Z from low result
3ac7 : 08                       php
3ac8 : 68                       pla             ;accu holds expected flags
3ac9 : 2982                     and #$82        ;mask N & Z
3acb : 28                       plp
3acc : d002                     bne tadd1
3ace : e65a                     inc adrh        ;result bit 8 - carry
3ad0 : 055a             tadd1   ora adrh        ;merge C to expected flags
3ad2 : 855b                     sta adrf        ;save expected flags except ov
3ad4 : 38                       sec             ;test with carry set
3ad5 : 202c3c                   jsr chkadd
3ad8 : c656                     dec adfc        ;same for operand +1 but no ca
3ada : e657                     inc ad1
3adc : d0e0                     bne tadd        ;iterate op1
3ade : a900                     lda #0          ;preset result to op2 when op1
3ae0 : 855a                     sta adrh
3ae2 : ee5802                   inc ada2
3ae5 : e658                     inc ad2
3ae7 : 08                       php             ;save NZ as operand 2 becomes 
3ae8 : 68                       pla
3ae9 : 2982                     and #$82        ;mask N00000Z0
3aeb : 855b                     sta adrf        ;no need to check carry as we 
3aed : c65c                     dec sb2         ;complement subtract operand 2
3aef : ce5902                   dec sba2
3af2 : a558                     lda ad2
3af4 : 8559                     sta adrl
3af6 : d0c6                     bne tadd        ;iterate op2
                        
                         if testingdecimal=1
                        
                        ; decimal add/subtract test
                        ; *** WARNING - tests documented behavior only! ***
                        ;   only valid BCD operands are tested, N V Z flags ar
                        ; iterates through all valid combinations of operands 
                        ; uses increments/decrements to predict result & carry
                                sed
                        ;        sei
                                ldx #ad2        ;for indexed test
                                ldy #$ff        ;max range
                                lda #$99        ;start with adding 99 to 99 wi
                                sta ad1         ;operand 1 - accumulator
                                sta ad2         ;operand 2 - memory or immedia
                                sta ada2        ;non zp
                                sta adrl        ;expected result bits 0-7
                                lda #1          ;set carry in & out
                                sta adfc        ;carry in - for diag
                                sta adrh        ;expected result bit 8 (carry 
                                lda #0          ;complemented operand 2 for su
                                sta sb2
                                sta sba2        ;non zp
                        tdad    sec             ;test with carry set
                                jsr chkdad
                                dec adfc        ;now with carry clear
                                lda adrl        ;decimal adjust result
                                bne tdad1       ;skip clear carry & preset res
                                dec adrh
                                lda #$99
                                sta adrl
                                bne tdad3
                        tdad1   and #$f         ;lower nibble mask
                                bne tdad2       ;no decimal adjust needed
                                dec adrl        ;decimal adjust (?0-6)
                                dec adrl
                                dec adrl
                                dec adrl
                                dec adrl
                                dec adrl
                        tdad2   dec adrl        ;result -1
                        tdad3   clc             ;test with carry clear
                                jsr chkdad
                                inc adfc        ;same for operand -1 but with 
                                lda ad1         ;decimal adjust operand 1
                                beq tdad5       ;iterate operand 2
                                and #$f         ;lower nibble mask
                                bne tdad4       ;skip decimal adjust
                                dec ad1         ;decimal adjust (?0-6)
                                dec ad1
                                dec ad1
                                dec ad1
                                dec ad1
                                dec ad1
                        tdad4   dec ad1         ;operand 1 -1
                                jmp tdad        ;iterate op1
                        
                        tdad5   lda #$99        ;precharge op1 max
                                sta ad1
                                lda ad2         ;decimal adjust operand 2
                                beq tdad7       ;end of iteration
                                and #$f         ;lower nibble mask
                                bne tdad6       ;skip decimal adjust
                                dec ad2         ;decimal adjust (?0-6)
                                dec ad2
                                dec ad2
                                dec ad2
                                dec ad2
                                dec ad2
                                inc sb2         ;complemented decimal adjust f
                                inc sb2
                                inc sb2
                                inc sb2
                                inc sb2
                                inc sb2
                        tdad6   dec ad2         ;operand 2 -1
                                inc sb2         ;complemeted operand for subtr
                                lda sb2
                                sta sba2        ;copy as non zp operand
                                lda ad2
                                sta ada2        ;copy as non zp operand
                                sta adrl        ;new result since op1+carry=00
                                inc adrh        ;result carry
                                bne tdad        ;iterate op2
                        tdad7   cld
                        
                         endif
                        
                        ; S U C C E S S **************************************
                        ; -------------
3af8 : 4cf83a                   jmp *           ;if you get here everything we
                        ; -------------
                        ; S U C C E S S **************************************
                        
                        ; core subroutine of the decimal add/subtract test
                        ; *** WARNING - tests documented behavior only! ***
                        ;   only valid BCD operands are tested, N V Z flags ar
                        ; iterates through all valid combinations of operands 
                        ; uses increments/decrements to predict result & carry
3afb :                  chkdad
                        ; decimal ADC / SBC zp
3afb : 08                       php             ;save carry for subtract
3afc : a557                     lda ad1
3afe : 6558                     adc ad2         ;perform add
3b00 : 08                       php
3b01 : c559                     cmp adrl        ;check result
3b03 : d0fe                     bne *           ;bad result
3b05 : 68                       pla             ;check flags
3b06 : 2901                     and #1          ;mask carry
3b08 : c55a                     cmp adrh
3b0a : d0fe                     bne *           ;bad carry
3b0c : 28                       plp
3b0d : 08                       php             ;save carry for next add
3b0e : a557                     lda ad1
3b10 : e55c                     sbc sb2         ;perform subtract
3b12 : 08                       php
3b13 : c559                     cmp adrl        ;check result
3b15 : d0fe                     bne *           ;bad result
3b17 : 68                       pla             ;check flags
3b18 : 2901                     and #1          ;mask carry
3b1a : c55a                     cmp adrh
3b1c : d0fe                     bne *           ;bad flags
3b1e : 28                       plp
                        ; decimal ADC / SBC abs
3b1f : 08                       php             ;save carry for subtract
3b20 : a557                     lda ad1
3b22 : 6d5802                   adc ada2        ;perform add
3b25 : 08                       php
3b26 : c559                     cmp adrl        ;check result
3b28 : d0fe                     bne *           ;bad result
3b2a : 68                       pla             ;check flags
3b2b : 2901                     and #1          ;mask carry
3b2d : c55a                     cmp adrh
3b2f : d0fe                     bne *           ;bad carry
3b31 : 28                       plp
3b32 : 08                       php             ;save carry for next add
3b33 : a557                     lda ad1
3b35 : ed5902                   sbc sba2        ;perform subtract
3b38 : 08                       php
3b39 : c559                     cmp adrl        ;check result
3b3b : d0fe                     bne *           ;bad result
3b3d : 68                       pla             ;check flags
3b3e : 2901                     and #1          ;mask carry
3b40 : c55a                     cmp adrh
3b42 : d0fe                     bne *           ;bad carry
3b44 : 28                       plp
                        ; decimal ADC / SBC #
3b45 : 08                       php             ;save carry for subtract
3b46 : a558                     lda ad2
3b48 : 8d4e3b                   sta chkdadi     ;self modify immediate
3b4b : a557                     lda ad1
3b4e =                  chkdadi = * + 1         ;operand of the immediate ADC
3b4d : 6900                     adc #0          ;perform add
3b4f : 08                       php
3b50 : c559                     cmp adrl        ;check result
3b52 : d0fe                     bne *           ;bad result
3b54 : 68                       pla             ;check flags
3b55 : 2901                     and #1          ;mask carry
3b57 : c55a                     cmp adrh
3b59 : d0fe                     bne *           ;bad carry
3b5b : 28                       plp
3b5c : 08                       php             ;save carry for next add
3b5d : a55c                     lda sb2
3b5f : 8d653b                   sta chkdsbi     ;self modify immediate
3b62 : a557                     lda ad1
3b65 =                  chkdsbi = * + 1         ;operand of the immediate SBC
3b64 : e900                     sbc #0          ;perform subtract
3b66 : 08                       php
3b67 : c559                     cmp adrl        ;check result
3b69 : d0fe                     bne *           ;bad result
3b6b : 68                       pla             ;check flags
3b6c : 2901                     and #1          ;mask carry
3b6e : c55a                     cmp adrh
3b70 : d0fe                     bne *           ;bad carry
3b72 : 28                       plp
                        ; decimal ADC / SBC zp,x
3b73 : 08                       php             ;save carry for subtract
3b74 : a557                     lda ad1
3b76 : 7500                     adc 0,x         ;perform add
3b78 : 08                       php
3b79 : c559                     cmp adrl        ;check result
3b7b : d0fe                     bne *           ;bad result
3b7d : 68                       pla             ;check flags
3b7e : 2901                     and #1          ;mask carry
3b80 : c55a                     cmp adrh
3b82 : d0fe                     bne *           ;bad carry
3b84 : 28                       plp
3b85 : 08                       php             ;save carry for next add
3b86 : a557                     lda ad1
3b88 : f504                     sbc sb2-ad2,x   ;perform subtract
3b8a : 08                       php
3b8b : c559                     cmp adrl        ;check result
3b8d : d0fe                     bne *           ;bad result
3b8f : 68                       pla             ;check flags
3b90 : 2901                     and #1          ;mask carry
3b92 : c55a                     cmp adrh
3b94 : d0fe                     bne *           ;bad carry
3b96 : 28                       plp
                        ; decimal ADC / SBC abs,x
3b97 : 08                       php             ;save carry for subtract
3b98 : a557                     lda ad1
3b9a : 7d0002                   adc ada2-ad2,x  ;perform add
3b9d : 08                       php
3b9e : c559                     cmp adrl        ;check result
3ba0 : d0fe                     bne *           ;bad result
3ba2 : 68                       pla             ;check flags
3ba3 : 2901                     and #1          ;mask carry
3ba5 : c55a                     cmp adrh
3ba7 : d0fe                     bne *           ;bad carry
3ba9 : 28                       plp
3baa : 08                       php             ;save carry for next add
3bab : a557                     lda ad1
3bad : fd0102                   sbc sba2-ad2,x  ;perform subtract
3bb0 : 08                       php
3bb1 : c559                     cmp adrl        ;check result
3bb3 : d0fe                     bne *           ;bad result
3bb5 : 68                       pla             ;check flags
3bb6 : 2901                     and #1          ;mask carry
3bb8 : c55a                     cmp adrh
3bba : d0fe                     bne *           ;bad carry
3bbc : 28                       plp
                        ; decimal ADC / SBC abs,y
3bbd : 08                       php             ;save carry for subtract
3bbe : a557                     lda ad1
3bc0 : 795901                   adc ada2-$ff,y  ;perform add
3bc3 : 08                       php
3bc4 : c559                     cmp adrl        ;check result
3bc6 : d0fe                     bne *           ;bad result
3bc8 : 68                       pla             ;check flags
3bc9 : 2901                     and #1          ;mask carry
3bcb : c55a                     cmp adrh
3bcd : d0fe                     bne *           ;bad carry
3bcf : 28                       plp
3bd0 : 08                       php             ;save carry for next add
3bd1 : a557                     lda ad1
3bd3 : f95a01                   sbc sba2-$ff,y  ;perform subtract
3bd6 : 08                       php
3bd7 : c559                     cmp adrl        ;check result
3bd9 : d0fe                     bne *           ;bad result
3bdb : 68                       pla             ;check flags
3bdc : 2901                     and #1          ;mask carry
3bde : c55a                     cmp adrh
3be0 : d0fe                     bne *           ;bad carry
3be2 : 28                       plp
                        ; decimal ADC / SBC (zp,x)
3be3 : 08                       php             ;save carry for subtract
3be4 : a557                     lda ad1
3be6 : 61f6                     adc (lo adi2-ad2,x) ;perform add
3be8 : 08                       php
3be9 : c559                     cmp adrl        ;check result
3beb : d0fe                     bne *           ;bad result
3bed : 68                       pla             ;check flags
3bee : 2901                     and #1          ;mask carry
3bf0 : c55a                     cmp adrh
3bf2 : d0fe                     bne *           ;bad carry
3bf4 : 28                       plp
3bf5 : 08                       php             ;save carry for next add
3bf6 : a557                     lda ad1
3bf8 : e1f8                     sbc (lo sbi2-ad2,x) ;perform subtract
3bfa : 08                       php
3bfb : c559                     cmp adrl        ;check result
3bfd : d0fe                     bne *           ;bad result
3bff : 68                       pla             ;check flags
3c00 : 2901                     and #1          ;mask carry
3c02 : c55a                     cmp adrh
3c04 : d0fe                     bne *           ;bad carry
3c06 : 28                       plp
                        ; decimal ADC / SBC (abs),y
3c07 : 08                       php             ;save carry for subtract
3c08 : a557                     lda ad1
3c0a : 7152                     adc (adiy2),y   ;perform add
3c0c : 08                       php
3c0d : c559                     cmp adrl        ;check result
3c0f : d0fe                     bne *           ;bad result
3c11 : 68                       pla             ;check flags
3c12 : 2901                     and #1          ;mask carry
3c14 : c55a                     cmp adrh
3c16 : d0fe                     bne *           ;bad carry
3c18 : 28                       plp
3c19 : 08                       php             ;save carry for next add
3c1a : a557                     lda ad1
3c1c : f154                     sbc (sbiy2),y   ;perform subtract
3c1e : 08                       php
3c1f : c559                     cmp adrl        ;check result
3c21 : d0fe                     bne *           ;bad result
3c23 : 68                       pla             ;check flags
3c24 : 2901                     and #1          ;mask carry
3c26 : c55a                     cmp adrh
3c28 : d0fe                     bne *           ;bad carry
3c2a : 28                       plp
3c2b : 60                       rts
                        
                        ; core subroutine of the full binary add/subtract test
                        ; iterates through all combinations of operands and ca
                        ; uses increments/decrements to predict result & resul
3c2c : a55b             chkadd  lda adrf        ;add V-flag if overflow
3c2e : 2983                     and #$83        ;keep N-----ZC / clear V
3c30 : 48                       pha
3c31 : a557                     lda ad1         ;test sign unequal between ope
3c33 : 4558                     eor ad2
3c35 : 300a                     bmi ckad1       ;no overflow possible - operan
3c37 : a557                     lda ad1         ;test sign equal between opera
3c39 : 4559                     eor adrl
3c3b : 1004                     bpl ckad1       ;no overflow occured - operand
3c3d : 68                       pla
3c3e : 0940                     ora #$40        ;set V
3c40 : 48                       pha
3c41 : 68               ckad1   pla
3c42 : 855b                     sta adrf        ;save expected flags
                        ; binary ADC / SBC zp
3c44 : 08                       php             ;save carry for subtract
3c45 : a557                     lda ad1
3c47 : 6558                     adc ad2         ;perform add
3c49 : 08                       php
3c4a : c559                     cmp adrl        ;check result
3c4c : d0fe                     bne *           ;bad result
3c4e : 68                       pla             ;check flags
3c4f : 29c3                     and #$c3        ;mask NV----ZC
3c51 : c55b                     cmp adrf
3c53 : d0fe                     bne *           ;bad flags
3c55 : 28                       plp
3c56 : 08                       php             ;save carry for next add
3c57 : a557                     lda ad1
3c59 : e55c                     sbc sb2         ;perform subtract
3c5b : 08                       php
3c5c : c559                     cmp adrl        ;check result
3c5e : d0fe                     bne *           ;bad result
3c60 : 68                       pla             ;check flags
3c61 : 29c3                     and #$c3        ;mask NV----ZC
3c63 : c55b                     cmp adrf
3c65 : d0fe                     bne *           ;bad flags
3c67 : 28                       plp
                        ; binary ADC / SBC abs
3c68 : 08                       php             ;save carry for subtract
3c69 : a557                     lda ad1
3c6b : 6d5802                   adc ada2        ;perform add
3c6e : 08                       php
3c6f : c559                     cmp adrl        ;check result
3c71 : d0fe                     bne *           ;bad result
3c73 : 68                       pla             ;check flags
3c74 : 29c3                     and #$c3        ;mask NV----ZC
3c76 : c55b                     cmp adrf
3c78 : d0fe                     bne *           ;bad flags
3c7a : 28                       plp
3c7b : 08                       php             ;save carry for next add
3c7c : a557                     lda ad1
3c7e : ed5902                   sbc sba2        ;perform subtract
3c81 : 08                       php
3c82 : c559                     cmp adrl        ;check result
3c84 : d0fe                     bne *           ;bad result
3c86 : 68                       pla             ;check flags
3c87 : 29c3                     and #$c3        ;mask NV----ZC
3c89 : c55b                     cmp adrf
3c8b : d0fe                     bne *           ;bad flags
3c8d : 28                       plp
                        ; binary ADC / SBC #
3c8e : 08                       php             ;save carry for subtract
3c8f : a558                     lda ad2
3c91 : 8d973c                   sta chkadi      ;self modify immediate
3c94 : a557                     lda ad1
3c97 =                  chkadi  = * + 1         ;operand of the immediate ADC
3c96 : 6900                     adc #0          ;perform add
3c98 : 08                       php
3c99 : c559                     cmp adrl        ;check result
3c9b : d0fe                     bne *           ;bad result
3c9d : 68                       pla             ;check flags
3c9e : 29c3                     and #$c3        ;mask NV----ZC
3ca0 : c55b                     cmp adrf
3ca2 : d0fe                     bne *           ;bad flags
3ca4 : 28                       plp
3ca5 : 08                       php             ;save carry for next add
3ca6 : a55c                     lda sb2
3ca8 : 8dae3c                   sta chksbi      ;self modify immediate
3cab : a557                     lda ad1
3cae =                  chksbi  = * + 1         ;operand of the immediate SBC
3cad : e900                     sbc #0          ;perform subtract
3caf : 08                       php
3cb0 : c559                     cmp adrl        ;check result
3cb2 : d0fe                     bne *           ;bad result
3cb4 : 68                       pla             ;check flags
3cb5 : 29c3                     and #$c3        ;mask NV----ZC
3cb7 : c55b                     cmp adrf
3cb9 : d0fe                     bne *           ;bad flags
3cbb : 28                       plp
                        ; binary ADC / SBC zp,x
3cbc : 08                       php             ;save carry for subtract
3cbd : a557                     lda ad1
3cbf : 7500                     adc 0,x         ;perform add
3cc1 : 08                       php
3cc2 : c559                     cmp adrl        ;check result
3cc4 : d0fe                     bne *           ;bad result
3cc6 : 68                       pla             ;check flags
3cc7 : 29c3                     and #$c3        ;mask NV----ZC
3cc9 : c55b                     cmp adrf
3ccb : d0fe                     bne *           ;bad flags
3ccd : 28                       plp
3cce : 08                       php             ;save carry for next add
3ccf : a557                     lda ad1
3cd1 : f504                     sbc sb2-ad2,x   ;perform subtract
3cd3 : 08                       php
3cd4 : c559                     cmp adrl        ;check result
3cd6 : d0fe                     bne *           ;bad result
3cd8 : 68                       pla             ;check flags
3cd9 : 29c3                     and #$c3        ;mask NV----ZC
3cdb : c55b                     cmp adrf
3cdd : d0fe                     bne *           ;bad flags
3cdf : 28                       plp
                        ; binary ADC / SBC abs,x
3ce0 : 08                       php             ;save carry for subtract
3ce1 : a557                     lda ad1
3ce3 : 7d0002                   adc ada2-ad2,x  ;perform add
3ce6 : 08                       php
3ce7 : c559                     cmp adrl        ;check result
3ce9 : d0fe                     bne *           ;bad result
3ceb : 68                       pla             ;check flags
3cec : 29c3                     and #$c3        ;mask NV----ZC
3cee : c55b                     cmp adrf
3cf0 : d0fe                     bne *           ;bad flags
3cf2 : 28                       plp
3cf3 : 08                       php             ;save carry for next add
3cf4 : a557                     lda ad1
3cf6 : fd0102                   sbc sba2-ad2,x  ;perform subtract
3cf9 : 08                       php
3cfa : c559                     cmp adrl        ;check result
3cfc : d0fe                     bne *           ;bad result
3cfe : 68                       pla             ;check flags
3cff : 29c3                     and #$c3        ;mask NV----ZC
3d01 : c55b                     cmp adrf
3d03 : d0fe                     bne *           ;bad flags
3d05 : 28                       plp
                        ; binary ADC / SBC abs,y
3d06 : 08                       php             ;save carry for subtract
3d07 : a557                     lda ad1
3d09 : 795901                   adc ada2-$ff,y  ;perform add
3d0c : 08                       php
3d0d : c559                     cmp adrl        ;check result
3d0f : d0fe                     bne *           ;bad result
3d11 : 68                       pla             ;check flags
3d12 : 29c3                     and #$c3        ;mask NV----ZC
3d14 : c55b                     cmp adrf
3d16 : d0fe                     bne *           ;bad flags
3d18 : 28                       plp
3d19 : 08                       php             ;save carry for next add
3d1a : a557                     lda ad1
3d1c : f95a01                   sbc sba2-$ff,y  ;perform subtract
3d1f : 08                       php
3d20 : c559                     cmp adrl        ;check result
3d22 : d0fe                     bne *           ;bad result
3d24 : 68                       pla             ;check flags
3d25 : 29c3                     and #$c3        ;mask NV----ZC
3d27 : c55b                     cmp adrf
3d29 : d0fe                     bne *           ;bad flags
3d2b : 28                       plp
                        ; binary ADC / SBC (zp,x)
3d2c : 08                       php             ;save carry for subtract
3d2d : a557                     lda ad1
3d2f : 61f6                     adc (lo adi2-ad2,x) ;perform add
3d31 : 08                       php
3d32 : c559                     cmp adrl        ;check result
3d34 : d0fe                     bne *           ;bad result
3d36 : 68                       pla             ;check flags
3d37 : 29c3                     and #$c3        ;mask NV----ZC
3d39 : c55b                     cmp adrf
3d3b : d0fe                     bne *           ;bad flags
3d3d : 28                       plp
3d3e : 08                       php             ;save carry for next add
3d3f : a557                     lda ad1
3d41 : e1f8                     sbc (lo sbi2-ad2,x) ;perform subtract
3d43 : 08                       php
3d44 : c559                     cmp adrl        ;check result
3d46 : d0fe                     bne *           ;bad result
3d48 : 68                       pla             ;check flags
3d49 : 29c3                     and #$c3        ;mask NV----ZC
3d4b : c55b                     cmp adrf
3d4d : d0fe                     bne *           ;bad flags
3d4f : 28                       plp
                        ; binary ADC / SBC (abs),y
3d50 : 08                       php             ;save carry for subtract
3d51 : a557                     lda ad1
3d53 : 7152                     adc (adiy2),y   ;perform add
3d55 : 08                       php
3d56 : c559                     cmp adrl        ;check result
3d58 : d0fe                     bne *           ;bad result
3d5a : 68                       pla             ;check flags
3d5b : 29c3                     and #$c3        ;mask NV----ZC
3d5d : c55b                     cmp adrf
3d5f : d0fe                     bne *           ;bad flags
3d61 : 28                       plp
3d62 : 08                       php             ;save carry for next add
3d63 : a557                     lda ad1
3d65 : f154                     sbc (sbiy2),y   ;perform subtract
3d67 : 08                       php
3d68 : c559                     cmp adrl        ;check result
3d6a : d0fe                     bne *           ;bad result
3d6c : 68                       pla             ;check flags
3d6d : 29c3                     and #$c3        ;mask NV----ZC
3d6f : c55b                     cmp adrf
3d71 : d0fe                     bne *           ;bad flags
3d73 : 28                       plp
3d74 : 60                       rts
                        
                        ; target for the jump absolute test
3d75 : 88                       dey
3d76 : 88                       dey
3d77 :                  test_far
3d77 : 08                       php             ;either SP or Y count will fai
3d78 : 88                       dey
3d79 : 88                       dey
3d7a : 88                       dey
3d7b : 28                       plp
3d7c : b0fe                     bcs *           ;flags loaded?
3d7e : 70fe                     bvs *
3d80 : 30fe                     bmi *
3d82 : f0fe                     beq *
3d84 : c946                     cmp #'F'        ;registers loaded?
3d86 : d0fe                     bne *
3d88 : e041                     cpx #'A'
3d8a : d0fe                     bne *
3d8c : c04f                     cpy #('R'-3)
3d8e : d0fe                     bne *
3d90 : 48                       pha             ;save a,x
3d91 : 8a                       txa
3d92 : 48                       pha
3d93 : ba                       tsx
3d94 : e0fd                     cpx #$fd        ;check SP
3d96 : d0fe                     bne *
3d98 : 68                       pla             ;restore x
3d99 : aa                       tax
                                set_stat $ff
                       >            load_flag $ff
3d9a : a9ff            >            lda #$ff|4
                       >
3d9c : 48              >            pha         ;use stack to load status
3d9d : 28              >            plp
                        
3d9e : 68                       pla             ;restore a
3d9f : e8                       inx             ;return registers with modific
3da0 : 49aa                     eor #$aa        ;N=1, V=1, Z=0, C=1
3da2 : 4c8312                   jmp far_ret
                        
                        ; target for the jump indirect test
3da5 : ae3d             ptr_tst_ind dw test_ind
3da7 : cc12             ptr_ind_ret dw ind_ret
3da9 : 4ca93d                   jmp *           ;runover protection
3dac : 88                       dey
3dad : 88                       dey
3dae :                  test_ind
3dae : 08                       php             ;either SP or Y count will fai
3daf : 88                       dey
3db0 : 88                       dey
3db1 : 88                       dey
3db2 : 28                       plp
3db3 : b0fe                     bcs *           ;flags loaded?
3db5 : 70fe                     bvs *
3db7 : 30fe                     bmi *
3db9 : f0fe                     beq *
3dbb : c949                     cmp #'I'        ;registers loaded?
3dbd : d0fe                     bne *
3dbf : e04e                     cpx #'N'
3dc1 : d0fe                     bne *
3dc3 : c041                     cpy #('D'-3)
3dc5 : d0fe                     bne *
3dc7 : 48                       pha             ;save a,x
3dc8 : 8a                       txa
3dc9 : 48                       pha
3dca : ba                       tsx
3dcb : e0fd                     cpx #$fd        ;check SP
3dcd : d0fe                     bne *
3dcf : 68                       pla             ;restore x
3dd0 : aa                       tax
                                set_stat $ff
                       >            load_flag $ff
3dd1 : a9ff            >            lda #$ff|4
                       >
3dd3 : 48              >            pha         ;use stack to load status
3dd4 : 28              >            plp
                        
3dd5 : 68                       pla             ;restore a
3dd6 : e8                       inx             ;return registers with modific
3dd7 : 49aa                     eor #$aa        ;N=1, V=1, Z=0, C=1
3dd9 : 6ca73d                   jmp (ptr_ind_ret)
3ddc : 4cdc3d                   jmp *           ;runover protection
                        
                        ; target for the jump subroutine test
3ddf : 88                       dey
3de0 : 88                       dey
3de1 :                  test_jsr
3de1 : 08                       php             ;either SP or Y count will fai
3de2 : 88                       dey
3de3 : 88                       dey
3de4 : 88                       dey
3de5 : 28                       plp
3de6 : b0fe                     bcs *           ;flags loaded?
3de8 : 70fe                     bvs *
3dea : 30fe                     bmi *
3dec : f0fe                     beq *
3dee : c94a                     cmp #'J'        ;registers loaded?
3df0 : d0fe                     bne *
3df2 : e053                     cpx #'S'
3df4 : d0fe                     bne *
3df6 : c04f                     cpy #('R'-3)
3df8 : d0fe                     bne *
3dfa : 48                       pha             ;save a,x
3dfb : 8a                       txa
3dfc : 48                       pha
3dfd : ba                       tsx             ;sp -4? (return addr,a,x)
3dfe : e0fb                     cpx #$fb
3e00 : d0fe                     bne *
3e02 : adff01                   lda $1ff        ;propper return on stack
3e05 : c912                     cmp #hi(jsr_ret)
3e07 : d0fe                     bne *
3e09 : adfe01                   lda $1fe
3e0c : c9f6                     cmp #lo(jsr_ret)
3e0e : d0fe                     bne *
                                set_stat $ff
                       >            load_flag $ff
3e10 : a9ff            >            lda #$ff|4
                       >
3e12 : 48              >            pha         ;use stack to load status
3e13 : 28              >            plp
                        
3e14 : 68                       pla             ;pull x,a
3e15 : aa                       tax
3e16 : 68                       pla
3e17 : e8                       inx             ;return registers with modific
3e18 : 49aa                     eor #$aa        ;N=1, V=1, Z=0, C=1
3e1a : 60                       rts
3e1b : 4c1b3e                   jmp *           ;runover protection
                        
                        ;trap in case of unexpected IRQ, NMI, BRK, RESET - BRK
3e1e :                  nmi_trap
3e1e : 4c1e3e                   jmp *           ;check stack for conditions at
3e21 :                  res_trap
3e21 : 4c213e                   jmp *           ;unexpected RESET
                        
3e24 : 88                       dey
3e25 : 88                       dey
3e26 :                  irq_trap                ;BRK test or unextpected BRK o
3e26 : 08                       php             ;either SP or Y count will fai
3e27 : 88                       dey
3e28 : 88                       dey
3e29 : 88                       dey
                                ;next 4 traps could be caused by unexpected BR
                                ;check stack for BREAK and originating locatio
                                ;possible jump/branch into weeds (uninitialize
3e2a : c942                     cmp #'B'        ;registers loaded?
3e2c : d0fe                     bne *
3e2e : e052                     cpx #'R'
3e30 : d0fe                     bne *
3e32 : c048                     cpy #('K'-3)
3e34 : d0fe                     bne *
3e36 : 855d                     sta irq_a       ;save registers during break t
3e38 : 865e                     stx irq_x
3e3a : ba                       tsx             ;test break on stack
3e3b : bd0201                   lda $102,x
                                cmp_flag 0      ;break test should have B=1
3e3e : c934            >            cmp #(0      |$34)&$ff
                        
3e40 : d0fe                     bne *           ;trap - no break flag on stack
3e42 : 68                       pla
3e43 : c934                     cmp #$34        ;should have added interrupt d
3e45 : d0fe                     bne *
3e47 : ba                       tsx
3e48 : e0fc                     cpx #$fc        ;sp -3? (return addr, flags)
3e4a : d0fe                     bne *
3e4c : adff01                   lda $1ff        ;propper return on stack
3e4f : c913                     cmp #hi(brk_ret)
3e51 : d0fe                     bne *
3e53 : adfe01                   lda $1fe
3e56 : c921                     cmp #lo(brk_ret)
3e58 : d0fe                     bne *
                                set_stat $ff
                       >            load_flag $ff
3e5a : a9ff            >            lda #$ff|4
                       >
3e5c : 48              >            pha         ;use stack to load status
3e5d : 28              >            plp
                        
3e5e : a65e                     ldx irq_x
3e60 : e8                       inx             ;return registers with modific
3e61 : a55d                     lda irq_a
3e63 : 49aa                     eor #$aa        ;N=1, V=1, Z=0, C=1 but origin
3e65 : 40                       rti
3e66 : 4c663e                   jmp *           ;runover protection
                        
                        ;copy of data to initialize BSS segment
                            if load_data_direct != 1
                        zp_init
                        zp1_    db  $c3,$82,$41,0   ;test patterns for LDx BIT
                        zp7f_   db  $7f             ;test pattern for compare
                        zpt_    ds  5               ;store/modify test area
                        ;logical zeropage operands
                        zpOR_   db  0,$1f,$71,$80   ;test pattern for OR
                        zpAN_   db  $0f,$ff,$7f,$80 ;test pattern for AND
                        zpEO_   db  $ff,$0f,$8f,$8f ;test pattern for EOR
                        ;indirect addressing pointers
                        ind1_   dw  abs1            ;indirect pointer to patte
                                dw  abs1+1
                                dw  abs1+2
                                dw  abs1+3
                                dw  abs7f
                        inw1_   dw  abs1-$f8        ;indirect pointer for wrap
                        indt_   dw  abst            ;indirect pointer to store
                                dw  abst+1
                                dw  abst+2
                                dw  abst+3
                        inwt_   dw  abst-$f8        ;indirect pointer for wrap
                        indAN_  dw  absAN           ;indirect pointer to AND p
                                dw  absAN+1
                                dw  absAN+2
                                dw  absAN+3
                        indEO_  dw  absEO           ;indirect pointer to EOR p
                                dw  absEO+1
                                dw  absEO+2
                                dw  absEO+3
                        indOR_  dw  absOR           ;indirect pointer to OR pa
                                dw  absOR+1
                                dw  absOR+2
                                dw  absOR+3
                        ;add/subtract operand generation and result/flag predi
                        adi2_   dw  ada2            ;indirect pointer to opera
                        sbi2_   dw  sba2            ;indirect pointer to compl
                        adiy2_  dw  ada2-$ff        ;with offset for indirect 
                        sbiy2_  dw  sba2-$ff
                        ;adfc    ds  1               ;carry flag before op
                        ;ad1     ds  1               ;operand 1 - accumulator
                        ;ad2     ds  1               ;operand 2 - memory / imm
                        ;adrl    ds  1               ;expected result bits 0-7
                        ;adrh    ds  1               ;expected result bit 8 (c
                        ;adrf    ds  1               ;expected flags NV0000ZC 
                        ;sb2     ds  1               ;operand 2 complemented f
                        ;break test interrupt save
                        ;irq_a   ds  1               ;a register
                        ;irq_x   ds  1               ;x register
                        zp_end
                            if (zp_end - zp_init) != (zp_bss_end - zp_bss)
                                ;force assembler error if size is different
                                ERROR ERROR ERROR   ;mismatch between bss and 
                            endif
                        data_init
                        abs1_   db  $c3,$82,$41,0   ;test patterns for LDx BIT
                        abs7f_  db  $7f             ;test pattern for compare
                        ;loads
                        fLDx_   db  fn,fn,0,fz      ;expected flags for load
                        ;shifts
                        rASL_                       ;expected result ASL & ROL
                        rROL_   db  $86,$04,$82,0   ; "
                        rROLc_  db  $87,$05,$83,1   ;expected result ROL +carr
                        rLSR_                       ;expected result LSR & ROR
                        rROR_   db  $61,$41,$20,0   ; "
                        rRORc_  db  $e1,$c1,$a0,$80 ;expected result ROR +carr
                        fASL_                       ;expected flags for shifts
                        fROL_   db  fnc,fc,fn,fz    ;no carry in
                        fROLc_  db  fnc,fc,fn,0     ;carry in
                        fLSR_
                        fROR_   db  fc,0,fc,fz      ;no carry in
                        fRORc_  db  fnc,fn,fnc,fn   ;carry in
                        ;increments (decrements)
                        rINC_   db  $7f,$80,$ff,0,1 ;expected result for INC/D
                        fINC_   db  0,fn,fn,fz,0    ;expected flags for INC/DE
                        abst_   ds  5               ;store/modify test area
                        ;logical memory operand
                        absOR_  db  0,$1f,$71,$80   ;test pattern for OR
                        absAN_  db  $0f,$ff,$7f,$80 ;test pattern for AND
                        absEO_  db  $ff,$0f,$8f,$8f ;test pattern for EOR
                        ;logical accu operand
                        absORa_ db  0,$f1,$1f,0     ;test pattern for OR
                        absANa_ db  $f0,$ff,$ff,$ff ;test pattern for AND
                        absEOa_ db  $ff,$f0,$f0,$0f ;test pattern for EOR
                        ;logical results
                        absrlo_ db  0,$ff,$7f,$80
                        absflo_ db  fz,fn,0,fn
                        ;add/subtract operand copy
                        ;ada2    ds  1               ;operand 2
                        ;sba2    ds  1               ;operand 2 complemented f
                        data_end
                            if (data_end - data_init) != (data_bss_end - data_
                                ;force assembler error if size is different
                                ERROR ERROR ERROR   ;mismatch between bss and 
                            endif
                            endif                   ;end of RAM init data
                        
                            if ROM_vectors = 1
fffa =                          org $fffa       ;vectors
fffa : 1e3e                     dw  nmi_trap
fffc : 213e                     dw  res_trap
fffe : 263e                     dw  irq_trap
                            endif
                        
                        
No errors in pass 2.
Wrote binary from address $0000 through $ffff.
Total size 65536 bytes.
